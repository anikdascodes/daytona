var yg=Object.defineProperty;var Sg=(e,t,r)=>t in e?yg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rr=(e,t,r)=>Sg(e,typeof t!="symbol"?t+"":t,r);function wg(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pd={exports:{}},po={},Od={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hi=Symbol.for("react.element"),Cg=Symbol.for("react.portal"),xg=Symbol.for("react.fragment"),kg=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),Eg=Symbol.for("react.provider"),Lg=Symbol.for("react.context"),Rg=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),Ag=Symbol.for("react.memo"),Dg=Symbol.for("react.lazy"),sc=Symbol.iterator;function Pg(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var Id={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Md=Object.assign,Bd={};function In(e,t,r){this.props=e,this.context=t,this.refs=Bd,this.updater=r||Id}In.prototype.isReactComponent={};In.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};In.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nd(){}Nd.prototype=In.prototype;function Ua(e,t,r){this.props=e,this.context=t,this.refs=Bd,this.updater=r||Id}var Wa=Ua.prototype=new Nd;Wa.constructor=Ua;Md(Wa,In.prototype);Wa.isPureReactComponent=!0;var oc=Array.isArray,jd=Object.prototype.hasOwnProperty,$a={current:null},Fd={key:!0,ref:!0,__self:!0,__source:!0};function Hd(e,t,r){var n,i={},s=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)jd.call(t,n)&&!Fd.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var a=Array(o),u=0;u<o;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Hi,type:e,key:s,ref:l,props:i,_owner:$a.current}}function Og(e,t){return{$$typeof:Hi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Va(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hi}function Ig(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var lc=/\/+/g;function Wo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ig(""+e.key):t.toString(36)}function ws(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Hi:case Cg:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+Wo(l,0):n,oc(i)?(r="",e!=null&&(r=e.replace(lc,"$&/")+"/"),ws(i,t,r,"",function(u){return u})):i!=null&&(Va(i)&&(i=Og(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(lc,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",oc(e))for(var o=0;o<e.length;o++){s=e[o];var a=n+Wo(s,o);l+=ws(s,t,r,a,i)}else if(a=Pg(e),typeof a=="function")for(e=a.call(e),o=0;!(s=e.next()).done;)s=s.value,a=n+Wo(s,o++),l+=ws(s,t,r,a,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function es(e,t,r){if(e==null)return e;var n=[],i=0;return ws(e,n,"","",function(s){return t.call(r,s,i++)}),n}function Mg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Cs={transition:null},Bg={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:$a};function zd(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:es,forEach:function(e,t,r){es(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return es(e,function(){t++}),t},toArray:function(e){return es(e,function(t){return t})||[]},only:function(e){if(!Va(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=In;ue.Fragment=xg;ue.Profiler=bg;ue.PureComponent=Ua;ue.StrictMode=kg;ue.Suspense=Tg;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bg;ue.act=zd;ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Md({},e.props),i=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=$a.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(a in t)jd.call(t,a)&&!Fd.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&o!==void 0?o[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){o=Array(a);for(var u=0;u<a;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Hi,type:e.type,key:i,ref:s,props:n,_owner:l}};ue.createContext=function(e){return e={$$typeof:Lg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Eg,_context:e},e.Consumer=e};ue.createElement=Hd;ue.createFactory=function(e){var t=Hd.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:Rg,render:e}};ue.isValidElement=Va;ue.lazy=function(e){return{$$typeof:Dg,_payload:{_status:-1,_result:e},_init:Mg}};ue.memo=function(e,t){return{$$typeof:Ag,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=Cs.transition;Cs.transition={};try{e()}finally{Cs.transition=t}};ue.unstable_act=zd;ue.useCallback=function(e,t){return Ge.current.useCallback(e,t)};ue.useContext=function(e){return Ge.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};ue.useEffect=function(e,t){return Ge.current.useEffect(e,t)};ue.useId=function(){return Ge.current.useId()};ue.useImperativeHandle=function(e,t,r){return Ge.current.useImperativeHandle(e,t,r)};ue.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return Ge.current.useMemo(e,t)};ue.useReducer=function(e,t,r){return Ge.current.useReducer(e,t,r)};ue.useRef=function(e){return Ge.current.useRef(e)};ue.useState=function(e){return Ge.current.useState(e)};ue.useSyncExternalStore=function(e,t,r){return Ge.current.useSyncExternalStore(e,t,r)};ue.useTransition=function(){return Ge.current.useTransition()};ue.version="18.3.1";Od.exports=ue;var K=Od.exports;const qa=fo(K),Ng=wg({__proto__:null,default:qa},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg=K,Fg=Symbol.for("react.element"),Hg=Symbol.for("react.fragment"),zg=Object.prototype.hasOwnProperty,Ug=jg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wg={key:!0,ref:!0,__self:!0,__source:!0};function Ud(e,t,r){var n,i={},s=null,l=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)zg.call(t,n)&&!Wg.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Fg,type:e,key:s,ref:l,props:i,_owner:Ug.current}}po.Fragment=Hg;po.jsx=Ud;po.jsxs=Ud;Pd.exports=po;var T=Pd.exports,Dl={},Wd={exports:{}},gt={},$d={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,I){var k=L.length;L.push(I);e:for(;0<k;){var O=k-1>>>1,F=L[O];if(0<i(F,I))L[O]=I,L[k]=F,k=O;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var I=L[0],k=L.pop();if(k!==I){L[0]=k;e:for(var O=0,F=L.length,M=F>>>1;O<M;){var Q=2*(O+1)-1,Y=L[Q],te=Q+1,R=L[te];if(0>i(Y,k))te<F&&0>i(R,Y)?(L[O]=R,L[te]=k,O=te):(L[O]=Y,L[Q]=k,O=Q);else if(te<F&&0>i(R,k))L[O]=R,L[te]=k,O=te;else break e}}return I}function i(L,I){var k=L.sortIndex-I.sortIndex;return k!==0?k:L.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var a=[],u=[],m=1,c=null,g=3,_=!1,S=!1,v=!1,h=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(L){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=L)n(u),I.sortIndex=I.expirationTime,t(a,I);else break;I=r(u)}}function y(L){if(v=!1,p(L),!S)if(r(a)!==null)S=!0,U(C);else{var I=r(u);I!==null&&W(y,I.startTime-L)}}function C(L,I){S=!1,v&&(v=!1,d(w),w=-1),_=!0;var k=g;try{for(p(I),c=r(a);c!==null&&(!(c.expirationTime>I)||L&&!P());){var O=c.callback;if(typeof O=="function"){c.callback=null,g=c.priorityLevel;var F=O(c.expirationTime<=I);I=e.unstable_now(),typeof F=="function"?c.callback=F:c===r(a)&&n(a),p(I)}else n(a);c=r(a)}if(c!==null)var M=!0;else{var Q=r(u);Q!==null&&W(y,Q.startTime-I),M=!1}return M}finally{c=null,g=k,_=!1}}var x=!1,b=null,w=-1,E=5,D=-1;function P(){return!(e.unstable_now()-D<E)}function A(){if(b!==null){var L=e.unstable_now();D=L;var I=!0;try{I=b(!0,L)}finally{I?B():(x=!1,b=null)}}else x=!1}var B;if(typeof f=="function")B=function(){f(A)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,H=j.port2;j.port1.onmessage=A,B=function(){H.postMessage(null)}}else B=function(){h(A,0)};function U(L){b=L,x||(x=!0,B())}function W(L,I){w=h(function(){L(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){S||_||(S=!0,U(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var k=g;g=I;try{return L()}finally{g=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,I){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var k=g;g=L;try{return I()}finally{g=k}},e.unstable_scheduleCallback=function(L,I,k){var O=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?O+k:O):k=O,L){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=k+F,L={id:m++,callback:I,priorityLevel:L,startTime:k,expirationTime:F,sortIndex:-1},k>O?(L.sortIndex=k,t(u,L),r(a)===null&&L===r(u)&&(v?(d(w),w=-1):v=!0,W(y,k-O))):(L.sortIndex=F,t(a,L),S||_||(S=!0,U(C))),L},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(L){var I=g;return function(){var k=g;g=I;try{return L.apply(this,arguments)}finally{g=k}}}})(Vd);$d.exports=Vd;var $g=$d.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vg=K,mt=$g;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qd=new Set,yi={};function Xr(e,t){bn(e,t),bn(e+"Capture",t)}function bn(e,t){for(yi[e]=t,e=0;e<t.length;e++)qd.add(t[e])}var Yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=Object.prototype.hasOwnProperty,qg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ac={},uc={};function Kg(e){return Pl.call(uc,e)?!0:Pl.call(ac,e)?!1:qg.test(e)?uc[e]=!0:(ac[e]=!0,!1)}function Xg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gg(e,t,r,n){if(t===null||typeof t>"u"||Xg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Je(e,t,r,n,i,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new Je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new Je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new Je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new Je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new Je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new Je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new Je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new Je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new Je(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ka=/[\-:]([a-z])/g;function Xa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ka,Xa);He[t]=new Je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ka,Xa);He[t]=new Je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ka,Xa);He[t]=new Je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new Je(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new Je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ga(e,t,r,n){var i=He.hasOwnProperty(t)?He[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gg(t,r,i,n)&&(r=null),n||i===null?Kg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var rr=Vg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ts=Symbol.for("react.element"),sn=Symbol.for("react.portal"),on=Symbol.for("react.fragment"),Ja=Symbol.for("react.strict_mode"),Ol=Symbol.for("react.profiler"),Kd=Symbol.for("react.provider"),Xd=Symbol.for("react.context"),Qa=Symbol.for("react.forward_ref"),Il=Symbol.for("react.suspense"),Ml=Symbol.for("react.suspense_list"),Ya=Symbol.for("react.memo"),sr=Symbol.for("react.lazy"),Gd=Symbol.for("react.offscreen"),cc=Symbol.iterator;function Vn(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,$o;function ri(e){if($o===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$o=t&&t[1]||""}return`
`+$o+e}var Vo=!1;function qo(e,t){if(!e||Vo)return"";Vo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),l=i.length-1,o=s.length-1;1<=l&&0<=o&&i[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==s[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==s[o]){var a=`
`+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=o);break}}}finally{Vo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ri(e):""}function Jg(e){switch(e.tag){case 5:return ri(e.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 2:case 15:return e=qo(e.type,!1),e;case 11:return e=qo(e.type.render,!1),e;case 1:return e=qo(e.type,!0),e;default:return""}}function Bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case on:return"Fragment";case sn:return"Portal";case Ol:return"Profiler";case Ja:return"StrictMode";case Il:return"Suspense";case Ml:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xd:return(e.displayName||"Context")+".Consumer";case Kd:return(e._context.displayName||"Context")+".Provider";case Qa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ya:return t=e.displayName||null,t!==null?t:Bl(e.type)||"Memo";case sr:t=e._payload,e=e._init;try{return Bl(e(t))}catch{}}return null}function Qg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bl(t);case 8:return t===Ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yg(e){var t=Jd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rs(e){e._valueTracker||(e._valueTracker=Yg(e))}function Qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Jd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Fs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Nl(e,t){var r=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Sr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Yd(e,t){t=t.checked,t!=null&&Ga(e,"checked",t,!1)}function jl(e,t){Yd(e,t);var r=Sr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fl(e,t.type,Sr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fl(e,t,r){(t!=="number"||Fs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ni=Array.isArray;function _n(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(ni(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Sr(r)}}function Zd(e,t){var r=Sr(t.value),n=Sr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function pc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ef(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ef(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,tf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Si(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zg=["Webkit","ms","Moz","O"];Object.keys(li).forEach(function(e){Zg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),li[t]=li[e]})});function rf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||li.hasOwnProperty(e)&&li[e]?(""+t).trim():t+"px"}function nf(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rf(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var e_=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ul(e,t){if(t){if(e_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function Wl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $l=null;function Za(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vl=null,vn=null,yn=null;function mc(e){if(e=Wi(e)){if(typeof Vl!="function")throw Error(X(280));var t=e.stateNode;t&&(t=yo(t),Vl(e.stateNode,e.type,t))}}function sf(e){vn?yn?yn.push(e):yn=[e]:vn=e}function of(){if(vn){var e=vn,t=yn;if(yn=vn=null,mc(e),t)for(e=0;e<t.length;e++)mc(t[e])}}function lf(e,t){return e(t)}function af(){}var Ko=!1;function uf(e,t,r){if(Ko)return e(t,r);Ko=!0;try{return lf(e,t,r)}finally{Ko=!1,(vn!==null||yn!==null)&&(af(),of())}}function wi(e,t){var r=e.stateNode;if(r===null)return null;var n=yo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var ql=!1;if(Yt)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){ql=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch{ql=!1}function t_(e,t,r,n,i,s,l,o,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(m){this.onError(m)}}var ai=!1,Hs=null,zs=!1,Kl=null,r_={onError:function(e){ai=!0,Hs=e}};function n_(e,t,r,n,i,s,l,o,a){ai=!1,Hs=null,t_.apply(r_,arguments)}function i_(e,t,r,n,i,s,l,o,a){if(n_.apply(this,arguments),ai){if(ai){var u=Hs;ai=!1,Hs=null}else throw Error(X(198));zs||(zs=!0,Kl=u)}}function Gr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gc(e){if(Gr(e)!==e)throw Error(X(188))}function s_(e){var t=e.alternate;if(!t){if(t=Gr(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return gc(i),e;if(s===n)return gc(i),t;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=s;else{for(var l=!1,o=i.child;o;){if(o===r){l=!0,r=i,n=s;break}if(o===n){l=!0,n=i,r=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===r){l=!0,r=s,n=i;break}if(o===n){l=!0,n=s,r=i;break}o=o.sibling}if(!l)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function hf(e){return e=s_(e),e!==null?df(e):null}function df(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=df(e);if(t!==null)return t;e=e.sibling}return null}var ff=mt.unstable_scheduleCallback,_c=mt.unstable_cancelCallback,o_=mt.unstable_shouldYield,l_=mt.unstable_requestPaint,Ee=mt.unstable_now,a_=mt.unstable_getCurrentPriorityLevel,eu=mt.unstable_ImmediatePriority,pf=mt.unstable_UserBlockingPriority,Us=mt.unstable_NormalPriority,u_=mt.unstable_LowPriority,mf=mt.unstable_IdlePriority,mo=null,Ut=null;function c_(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:f_,h_=Math.log,d_=Math.LN2;function f_(e){return e>>>=0,e===0?32:31-(h_(e)/d_|0)|0}var is=64,ss=4194304;function ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ws(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~i;o!==0?n=ii(o):(s&=l,s!==0&&(n=ii(s)))}else l=r&~i,l!==0?n=ii(l):s!==0&&(n=ii(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dt(t),i=1<<r,n|=e[r],t&=~i;return n}function p_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Dt(s),o=1<<l,a=i[l];a===-1?(!(o&r)||o&n)&&(i[l]=p_(o,t)):a<=t&&(e.expiredLanes|=o),s&=~o}}function Xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gf(){var e=is;return is<<=1,!(is&4194240)&&(is=64),e}function Xo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=r}function g_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Dt(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function tu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dt(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var me=0;function _f(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vf,ru,yf,Sf,wf,Gl=!1,os=[],dr=null,fr=null,pr=null,Ci=new Map,xi=new Map,lr=[],__="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vc(e,t){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Ci.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xi.delete(t.pointerId)}}function Kn(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Wi(t),t!==null&&ru(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function v_(e,t,r,n,i){switch(t){case"focusin":return dr=Kn(dr,e,t,r,n,i),!0;case"dragenter":return fr=Kn(fr,e,t,r,n,i),!0;case"mouseover":return pr=Kn(pr,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ci.set(s,Kn(Ci.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,xi.set(s,Kn(xi.get(s)||null,e,t,r,n,i)),!0}return!1}function Cf(e){var t=Or(e.target);if(t!==null){var r=Gr(t);if(r!==null){if(t=r.tag,t===13){if(t=cf(r),t!==null){e.blockedOn=t,wf(e.priority,function(){yf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$l=n,r.target.dispatchEvent(n),$l=null}else return t=Wi(r),t!==null&&ru(t),e.blockedOn=r,!1;t.shift()}return!0}function yc(e,t,r){xs(e)&&r.delete(t)}function y_(){Gl=!1,dr!==null&&xs(dr)&&(dr=null),fr!==null&&xs(fr)&&(fr=null),pr!==null&&xs(pr)&&(pr=null),Ci.forEach(yc),xi.forEach(yc)}function Xn(e,t){e.blockedOn===t&&(e.blockedOn=null,Gl||(Gl=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,y_)))}function ki(e){function t(i){return Xn(i,e)}if(0<os.length){Xn(os[0],e);for(var r=1;r<os.length;r++){var n=os[r];n.blockedOn===e&&(n.blockedOn=null)}}for(dr!==null&&Xn(dr,e),fr!==null&&Xn(fr,e),pr!==null&&Xn(pr,e),Ci.forEach(t),xi.forEach(t),r=0;r<lr.length;r++)n=lr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<lr.length&&(r=lr[0],r.blockedOn===null);)Cf(r),r.blockedOn===null&&lr.shift()}var Sn=rr.ReactCurrentBatchConfig,$s=!0;function S_(e,t,r,n){var i=me,s=Sn.transition;Sn.transition=null;try{me=1,nu(e,t,r,n)}finally{me=i,Sn.transition=s}}function w_(e,t,r,n){var i=me,s=Sn.transition;Sn.transition=null;try{me=4,nu(e,t,r,n)}finally{me=i,Sn.transition=s}}function nu(e,t,r,n){if($s){var i=Jl(e,t,r,n);if(i===null)il(e,t,n,Vs,r),vc(e,n);else if(v_(i,e,t,r,n))n.stopPropagation();else if(vc(e,n),t&4&&-1<__.indexOf(e)){for(;i!==null;){var s=Wi(i);if(s!==null&&vf(s),s=Jl(e,t,r,n),s===null&&il(e,t,n,Vs,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else il(e,t,n,null,r)}}var Vs=null;function Jl(e,t,r,n){if(Vs=null,e=Za(n),e=Or(e),e!==null)if(t=Gr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vs=e,null}function xf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a_()){case eu:return 1;case pf:return 4;case Us:case u_:return 16;case mf:return 536870912;default:return 16}default:return 16}}var ur=null,iu=null,ks=null;function kf(){if(ks)return ks;var e,t=iu,r=t.length,n,i="value"in ur?ur.value:ur.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[s-n];n++);return ks=i.slice(e,1<n?1-n:void 0)}function bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function Sc(){return!1}function _t(e){function t(r,n,i,s,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ls:Sc,this.isPropagationStopped=Sc,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var Mn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=_t(Mn),Ui=ke({},Mn,{view:0,detail:0}),C_=_t(Ui),Go,Jo,Gn,go=ke({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ou,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gn&&(Gn&&e.type==="mousemove"?(Go=e.screenX-Gn.screenX,Jo=e.screenY-Gn.screenY):Jo=Go=0,Gn=e),Go)},movementY:function(e){return"movementY"in e?e.movementY:Jo}}),wc=_t(go),x_=ke({},go,{dataTransfer:0}),k_=_t(x_),b_=ke({},Ui,{relatedTarget:0}),Qo=_t(b_),E_=ke({},Mn,{animationName:0,elapsedTime:0,pseudoElement:0}),L_=_t(E_),R_=ke({},Mn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T_=_t(R_),A_=ke({},Mn,{data:0}),Cc=_t(A_),D_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},O_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=O_[e])?!!t[e]:!1}function ou(){return I_}var M_=ke({},Ui,{key:function(e){if(e.key){var t=D_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?P_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ou,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B_=_t(M_),N_=ke({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=_t(N_),j_=ke({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ou}),F_=_t(j_),H_=ke({},Mn,{propertyName:0,elapsedTime:0,pseudoElement:0}),z_=_t(H_),U_=ke({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W_=_t(U_),$_=[9,13,27,32],lu=Yt&&"CompositionEvent"in window,ui=null;Yt&&"documentMode"in document&&(ui=document.documentMode);var V_=Yt&&"TextEvent"in window&&!ui,bf=Yt&&(!lu||ui&&8<ui&&11>=ui),kc=" ",bc=!1;function Ef(e,t){switch(e){case"keyup":return $_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ln=!1;function q_(e,t){switch(e){case"compositionend":return Lf(t);case"keypress":return t.which!==32?null:(bc=!0,kc);case"textInput":return e=t.data,e===kc&&bc?null:e;default:return null}}function K_(e,t){if(ln)return e==="compositionend"||!lu&&Ef(e,t)?(e=kf(),ks=iu=ur=null,ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bf&&t.locale!=="ko"?null:t.data;default:return null}}var X_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!X_[e.type]:t==="textarea"}function Rf(e,t,r,n){sf(n),t=qs(t,"onChange"),0<t.length&&(r=new su("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ci=null,bi=null;function G_(e){Ff(e,0)}function _o(e){var t=cn(e);if(Qd(t))return e}function J_(e,t){if(e==="change")return t}var Tf=!1;if(Yt){var Yo;if(Yt){var Zo="oninput"in document;if(!Zo){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),Zo=typeof Lc.oninput=="function"}Yo=Zo}else Yo=!1;Tf=Yo&&(!document.documentMode||9<document.documentMode)}function Rc(){ci&&(ci.detachEvent("onpropertychange",Af),bi=ci=null)}function Af(e){if(e.propertyName==="value"&&_o(bi)){var t=[];Rf(t,bi,e,Za(e)),uf(G_,t)}}function Q_(e,t,r){e==="focusin"?(Rc(),ci=t,bi=r,ci.attachEvent("onpropertychange",Af)):e==="focusout"&&Rc()}function Y_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(bi)}function Z_(e,t){if(e==="click")return _o(t)}function ev(e,t){if(e==="input"||e==="change")return _o(t)}function tv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:tv;function Ei(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Pl.call(t,i)||!Ot(e[i],t[i]))return!1}return!0}function Tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ac(e,t){var r=Tc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tc(r)}}function Df(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Df(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pf(){for(var e=window,t=Fs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Fs(e.document)}return t}function au(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function rv(e){var t=Pf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Df(r.ownerDocument.documentElement,r)){if(n!==null&&au(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Ac(r,s);var l=Ac(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nv=Yt&&"documentMode"in document&&11>=document.documentMode,an=null,Ql=null,hi=null,Yl=!1;function Dc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yl||an==null||an!==Fs(n)||(n=an,"selectionStart"in n&&au(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hi&&Ei(hi,n)||(hi=n,n=qs(Ql,"onSelect"),0<n.length&&(t=new su("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=an)))}function as(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var un={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},el={},Of={};Yt&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete un.animationend.animation,delete un.animationiteration.animation,delete un.animationstart.animation),"TransitionEvent"in window||delete un.transitionend.transition);function vo(e){if(el[e])return el[e];if(!un[e])return e;var t=un[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Of)return el[e]=t[r];return e}var If=vo("animationend"),Mf=vo("animationiteration"),Bf=vo("animationstart"),Nf=vo("transitionend"),jf=new Map,Pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){jf.set(e,t),Xr(t,[e])}for(var tl=0;tl<Pc.length;tl++){var rl=Pc[tl],iv=rl.toLowerCase(),sv=rl[0].toUpperCase()+rl.slice(1);Cr(iv,"on"+sv)}Cr(If,"onAnimationEnd");Cr(Mf,"onAnimationIteration");Cr(Bf,"onAnimationStart");Cr("dblclick","onDoubleClick");Cr("focusin","onFocus");Cr("focusout","onBlur");Cr(Nf,"onTransitionEnd");bn("onMouseEnter",["mouseout","mouseover"]);bn("onMouseLeave",["mouseout","mouseover"]);bn("onPointerEnter",["pointerout","pointerover"]);bn("onPointerLeave",["pointerout","pointerover"]);Xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ov=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function Oc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,i_(n,t,void 0,e),e.currentTarget=null}function Ff(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],a=o.instance,u=o.currentTarget;if(o=o.listener,a!==s&&i.isPropagationStopped())break e;Oc(i,o,u),s=a}else for(l=0;l<n.length;l++){if(o=n[l],a=o.instance,u=o.currentTarget,o=o.listener,a!==s&&i.isPropagationStopped())break e;Oc(i,o,u),s=a}}}if(zs)throw e=Kl,zs=!1,Kl=null,e}function ye(e,t){var r=t[na];r===void 0&&(r=t[na]=new Set);var n=e+"__bubble";r.has(n)||(Hf(t,e,2,!1),r.add(n))}function nl(e,t,r){var n=0;t&&(n|=4),Hf(r,e,n,t)}var us="_reactListening"+Math.random().toString(36).slice(2);function Li(e){if(!e[us]){e[us]=!0,qd.forEach(function(r){r!=="selectionchange"&&(ov.has(r)||nl(r,!1,e),nl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[us]||(t[us]=!0,nl("selectionchange",!1,t))}}function Hf(e,t,r,n){switch(xf(t)){case 1:var i=S_;break;case 4:i=w_;break;default:i=nu}r=i.bind(null,t,r,e),i=void 0,!ql||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function il(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;o!==null;){if(l=Or(o),l===null)return;if(a=l.tag,a===5||a===6){n=s=l;continue e}o=o.parentNode}}n=n.return}uf(function(){var u=s,m=Za(r),c=[];e:{var g=jf.get(e);if(g!==void 0){var _=su,S=e;switch(e){case"keypress":if(bs(r)===0)break e;case"keydown":case"keyup":_=B_;break;case"focusin":S="focus",_=Qo;break;case"focusout":S="blur",_=Qo;break;case"beforeblur":case"afterblur":_=Qo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=k_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=F_;break;case If:case Mf:case Bf:_=L_;break;case Nf:_=z_;break;case"scroll":_=C_;break;case"wheel":_=W_;break;case"copy":case"cut":case"paste":_=T_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=xc}var v=(t&4)!==0,h=!v&&e==="scroll",d=v?g!==null?g+"Capture":null:g;v=[];for(var f=u,p;f!==null;){p=f;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,d!==null&&(y=wi(f,d),y!=null&&v.push(Ri(f,y,p)))),h)break;f=f.return}0<v.length&&(g=new _(g,S,null,r,m),c.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",g&&r!==$l&&(S=r.relatedTarget||r.fromElement)&&(Or(S)||S[Zt]))break e;if((_||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,_?(S=r.relatedTarget||r.toElement,_=u,S=S?Or(S):null,S!==null&&(h=Gr(S),S!==h||S.tag!==5&&S.tag!==6)&&(S=null)):(_=null,S=u),_!==S)){if(v=wc,y="onMouseLeave",d="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=xc,y="onPointerLeave",d="onPointerEnter",f="pointer"),h=_==null?g:cn(_),p=S==null?g:cn(S),g=new v(y,f+"leave",_,r,m),g.target=h,g.relatedTarget=p,y=null,Or(m)===u&&(v=new v(d,f+"enter",S,r,m),v.target=p,v.relatedTarget=h,y=v),h=y,_&&S)t:{for(v=_,d=S,f=0,p=v;p;p=rn(p))f++;for(p=0,y=d;y;y=rn(y))p++;for(;0<f-p;)v=rn(v),f--;for(;0<p-f;)d=rn(d),p--;for(;f--;){if(v===d||d!==null&&v===d.alternate)break t;v=rn(v),d=rn(d)}v=null}else v=null;_!==null&&Ic(c,g,_,v,!1),S!==null&&h!==null&&Ic(c,h,S,v,!0)}}e:{if(g=u?cn(u):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var C=J_;else if(Ec(g))if(Tf)C=ev;else{C=Y_;var x=Q_}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=Z_);if(C&&(C=C(e,u))){Rf(c,C,r,m);break e}x&&x(e,g,u),e==="focusout"&&(x=g._wrapperState)&&x.controlled&&g.type==="number"&&Fl(g,"number",g.value)}switch(x=u?cn(u):window,e){case"focusin":(Ec(x)||x.contentEditable==="true")&&(an=x,Ql=u,hi=null);break;case"focusout":hi=Ql=an=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,Dc(c,r,m);break;case"selectionchange":if(nv)break;case"keydown":case"keyup":Dc(c,r,m)}var b;if(lu)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ln?Ef(e,r)&&(w="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(bf&&r.locale!=="ko"&&(ln||w!=="onCompositionStart"?w==="onCompositionEnd"&&ln&&(b=kf()):(ur=m,iu="value"in ur?ur.value:ur.textContent,ln=!0)),x=qs(u,w),0<x.length&&(w=new Cc(w,e,null,r,m),c.push({event:w,listeners:x}),b?w.data=b:(b=Lf(r),b!==null&&(w.data=b)))),(b=V_?q_(e,r):K_(e,r))&&(u=qs(u,"onBeforeInput"),0<u.length&&(m=new Cc("onBeforeInput","beforeinput",null,r,m),c.push({event:m,listeners:u}),m.data=b))}Ff(c,t)})}function Ri(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qs(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=wi(e,r),s!=null&&n.unshift(Ri(e,s,i)),s=wi(e,t),s!=null&&n.push(Ri(e,s,i))),e=e.return}return n}function rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ic(e,t,r,n,i){for(var s=t._reactName,l=[];r!==null&&r!==n;){var o=r,a=o.alternate,u=o.stateNode;if(a!==null&&a===n)break;o.tag===5&&u!==null&&(o=u,i?(a=wi(r,s),a!=null&&l.unshift(Ri(r,a,o))):i||(a=wi(r,s),a!=null&&l.push(Ri(r,a,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var lv=/\r\n?/g,av=/\u0000|\uFFFD/g;function Mc(e){return(typeof e=="string"?e:""+e).replace(lv,`
`).replace(av,"")}function cs(e,t,r){if(t=Mc(t),Mc(e)!==t&&r)throw Error(X(425))}function Ks(){}var Zl=null,ea=null;function ta(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ra=typeof setTimeout=="function"?setTimeout:void 0,uv=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,cv=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(e){return Bc.resolve(null).then(e).catch(hv)}:ra;function hv(e){setTimeout(function(){throw e})}function sl(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),ki(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ki(t)}function mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Bn,Ti="__reactProps$"+Bn,Zt="__reactContainer$"+Bn,na="__reactEvents$"+Bn,dv="__reactListeners$"+Bn,fv="__reactHandles$"+Bn;function Or(e){var t=e[Ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zt]||r[Ft]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nc(e);e!==null;){if(r=e[Ft])return r;e=Nc(e)}return t}e=r,r=e.parentNode}return null}function Wi(e){return e=e[Ft]||e[Zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function yo(e){return e[Ti]||null}var ia=[],hn=-1;function xr(e){return{current:e}}function Se(e){0>hn||(e.current=ia[hn],ia[hn]=null,hn--)}function _e(e,t){hn++,ia[hn]=e.current,e.current=t}var wr={},Ve=xr(wr),tt=xr(!1),Ur=wr;function En(e,t){var r=e.type.contextTypes;if(!r)return wr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rt(e){return e=e.childContextTypes,e!=null}function Xs(){Se(tt),Se(Ve)}function jc(e,t,r){if(Ve.current!==wr)throw Error(X(168));_e(Ve,t),_e(tt,r)}function zf(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(X(108,Qg(e)||"Unknown",i));return ke({},r,n)}function Gs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wr,Ur=Ve.current,_e(Ve,e),_e(tt,tt.current),!0}function Fc(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=zf(e,t,Ur),n.__reactInternalMemoizedMergedChildContext=e,Se(tt),Se(Ve),_e(Ve,e)):Se(tt),_e(tt,r)}var Xt=null,So=!1,ol=!1;function Uf(e){Xt===null?Xt=[e]:Xt.push(e)}function pv(e){So=!0,Uf(e)}function kr(){if(!ol&&Xt!==null){ol=!0;var e=0,t=me;try{var r=Xt;for(me=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xt=null,So=!1}catch(i){throw Xt!==null&&(Xt=Xt.slice(e+1)),ff(eu,kr),i}finally{me=t,ol=!1}}return null}var dn=[],fn=0,Js=null,Qs=0,yt=[],St=0,Wr=null,Gt=1,Jt="";function Tr(e,t){dn[fn++]=Qs,dn[fn++]=Js,Js=e,Qs=t}function Wf(e,t,r){yt[St++]=Gt,yt[St++]=Jt,yt[St++]=Wr,Wr=e;var n=Gt;e=Jt;var i=32-Dt(n)-1;n&=~(1<<i),r+=1;var s=32-Dt(t)+i;if(30<s){var l=i-i%5;s=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Gt=1<<32-Dt(t)+i|r<<i|n,Jt=s+e}else Gt=1<<s|r<<i|n,Jt=e}function uu(e){e.return!==null&&(Tr(e,1),Wf(e,1,0))}function cu(e){for(;e===Js;)Js=dn[--fn],dn[fn]=null,Qs=dn[--fn],dn[fn]=null;for(;e===Wr;)Wr=yt[--St],yt[St]=null,Jt=yt[--St],yt[St]=null,Gt=yt[--St],yt[St]=null}var pt=null,dt=null,we=!1,At=null;function $f(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Hc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,dt=mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wr!==null?{id:Gt,overflow:Jt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pt=e,dt=null,!0):!1;default:return!1}}function sa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oa(e){if(we){var t=dt;if(t){var r=t;if(!Hc(e,t)){if(sa(e))throw Error(X(418));t=mr(r.nextSibling);var n=pt;t&&Hc(e,t)?$f(n,r):(e.flags=e.flags&-4097|2,we=!1,pt=e)}}else{if(sa(e))throw Error(X(418));e.flags=e.flags&-4097|2,we=!1,pt=e}}}function zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function hs(e){if(e!==pt)return!1;if(!we)return zc(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ta(e.type,e.memoizedProps)),t&&(t=dt)){if(sa(e))throw Vf(),Error(X(418));for(;t;)$f(e,t),t=mr(t.nextSibling)}if(zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dt=mr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=pt?mr(e.stateNode.nextSibling):null;return!0}function Vf(){for(var e=dt;e;)e=mr(e.nextSibling)}function Ln(){dt=pt=null,we=!1}function hu(e){At===null?At=[e]:At.push(e)}var mv=rr.ReactCurrentBatchConfig;function Jn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var o=i.refs;l===null?delete o[s]:o[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uc(e){var t=e._init;return t(e._payload)}function qf(e){function t(d,f){if(e){var p=d.deletions;p===null?(d.deletions=[f],d.flags|=16):p.push(f)}}function r(d,f){if(!e)return null;for(;f!==null;)t(d,f),f=f.sibling;return null}function n(d,f){for(d=new Map;f!==null;)f.key!==null?d.set(f.key,f):d.set(f.index,f),f=f.sibling;return d}function i(d,f){return d=yr(d,f),d.index=0,d.sibling=null,d}function s(d,f,p){return d.index=p,e?(p=d.alternate,p!==null?(p=p.index,p<f?(d.flags|=2,f):p):(d.flags|=2,f)):(d.flags|=1048576,f)}function l(d){return e&&d.alternate===null&&(d.flags|=2),d}function o(d,f,p,y){return f===null||f.tag!==6?(f=fl(p,d.mode,y),f.return=d,f):(f=i(f,p),f.return=d,f)}function a(d,f,p,y){var C=p.type;return C===on?m(d,f,p.props.children,y,p.key):f!==null&&(f.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===sr&&Uc(C)===f.type)?(y=i(f,p.props),y.ref=Jn(d,f,p),y.return=d,y):(y=Ps(p.type,p.key,p.props,null,d.mode,y),y.ref=Jn(d,f,p),y.return=d,y)}function u(d,f,p,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=pl(p,d.mode,y),f.return=d,f):(f=i(f,p.children||[]),f.return=d,f)}function m(d,f,p,y,C){return f===null||f.tag!==7?(f=Fr(p,d.mode,y,C),f.return=d,f):(f=i(f,p),f.return=d,f)}function c(d,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=fl(""+f,d.mode,p),f.return=d,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ts:return p=Ps(f.type,f.key,f.props,null,d.mode,p),p.ref=Jn(d,null,f),p.return=d,p;case sn:return f=pl(f,d.mode,p),f.return=d,f;case sr:var y=f._init;return c(d,y(f._payload),p)}if(ni(f)||Vn(f))return f=Fr(f,d.mode,p,null),f.return=d,f;ds(d,f)}return null}function g(d,f,p,y){var C=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return C!==null?null:o(d,f,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ts:return p.key===C?a(d,f,p,y):null;case sn:return p.key===C?u(d,f,p,y):null;case sr:return C=p._init,g(d,f,C(p._payload),y)}if(ni(p)||Vn(p))return C!==null?null:m(d,f,p,y,null);ds(d,p)}return null}function _(d,f,p,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return d=d.get(p)||null,o(f,d,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ts:return d=d.get(y.key===null?p:y.key)||null,a(f,d,y,C);case sn:return d=d.get(y.key===null?p:y.key)||null,u(f,d,y,C);case sr:var x=y._init;return _(d,f,p,x(y._payload),C)}if(ni(y)||Vn(y))return d=d.get(p)||null,m(f,d,y,C,null);ds(f,y)}return null}function S(d,f,p,y){for(var C=null,x=null,b=f,w=f=0,E=null;b!==null&&w<p.length;w++){b.index>w?(E=b,b=null):E=b.sibling;var D=g(d,b,p[w],y);if(D===null){b===null&&(b=E);break}e&&b&&D.alternate===null&&t(d,b),f=s(D,f,w),x===null?C=D:x.sibling=D,x=D,b=E}if(w===p.length)return r(d,b),we&&Tr(d,w),C;if(b===null){for(;w<p.length;w++)b=c(d,p[w],y),b!==null&&(f=s(b,f,w),x===null?C=b:x.sibling=b,x=b);return we&&Tr(d,w),C}for(b=n(d,b);w<p.length;w++)E=_(b,d,w,p[w],y),E!==null&&(e&&E.alternate!==null&&b.delete(E.key===null?w:E.key),f=s(E,f,w),x===null?C=E:x.sibling=E,x=E);return e&&b.forEach(function(P){return t(d,P)}),we&&Tr(d,w),C}function v(d,f,p,y){var C=Vn(p);if(typeof C!="function")throw Error(X(150));if(p=C.call(p),p==null)throw Error(X(151));for(var x=C=null,b=f,w=f=0,E=null,D=p.next();b!==null&&!D.done;w++,D=p.next()){b.index>w?(E=b,b=null):E=b.sibling;var P=g(d,b,D.value,y);if(P===null){b===null&&(b=E);break}e&&b&&P.alternate===null&&t(d,b),f=s(P,f,w),x===null?C=P:x.sibling=P,x=P,b=E}if(D.done)return r(d,b),we&&Tr(d,w),C;if(b===null){for(;!D.done;w++,D=p.next())D=c(d,D.value,y),D!==null&&(f=s(D,f,w),x===null?C=D:x.sibling=D,x=D);return we&&Tr(d,w),C}for(b=n(d,b);!D.done;w++,D=p.next())D=_(b,d,w,D.value,y),D!==null&&(e&&D.alternate!==null&&b.delete(D.key===null?w:D.key),f=s(D,f,w),x===null?C=D:x.sibling=D,x=D);return e&&b.forEach(function(A){return t(d,A)}),we&&Tr(d,w),C}function h(d,f,p,y){if(typeof p=="object"&&p!==null&&p.type===on&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ts:e:{for(var C=p.key,x=f;x!==null;){if(x.key===C){if(C=p.type,C===on){if(x.tag===7){r(d,x.sibling),f=i(x,p.props.children),f.return=d,d=f;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===sr&&Uc(C)===x.type){r(d,x.sibling),f=i(x,p.props),f.ref=Jn(d,x,p),f.return=d,d=f;break e}r(d,x);break}else t(d,x);x=x.sibling}p.type===on?(f=Fr(p.props.children,d.mode,y,p.key),f.return=d,d=f):(y=Ps(p.type,p.key,p.props,null,d.mode,y),y.ref=Jn(d,f,p),y.return=d,d=y)}return l(d);case sn:e:{for(x=p.key;f!==null;){if(f.key===x)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){r(d,f.sibling),f=i(f,p.children||[]),f.return=d,d=f;break e}else{r(d,f);break}else t(d,f);f=f.sibling}f=pl(p,d.mode,y),f.return=d,d=f}return l(d);case sr:return x=p._init,h(d,f,x(p._payload),y)}if(ni(p))return S(d,f,p,y);if(Vn(p))return v(d,f,p,y);ds(d,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(r(d,f.sibling),f=i(f,p),f.return=d,d=f):(r(d,f),f=fl(p,d.mode,y),f.return=d,d=f),l(d)):r(d,f)}return h}var Rn=qf(!0),Kf=qf(!1),Ys=xr(null),Zs=null,pn=null,du=null;function fu(){du=pn=Zs=null}function pu(e){var t=Ys.current;Se(Ys),e._currentValue=t}function la(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wn(e,t){Zs=e,du=pn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(du!==e)if(e={context:e,memoizedValue:t,next:null},pn===null){if(Zs===null)throw Error(X(308));pn=e,Zs.dependencies={lanes:0,firstContext:e}}else pn=pn.next=e;return t}var Ir=null;function mu(e){Ir===null?Ir=[e]:Ir.push(e)}function Xf(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,mu(t)):(r.next=i.next,i.next=r),t.interleaved=r,er(e,n)}function er(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var or=!1;function gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,er(e,r)}return i=n.interleaved,i===null?(t.next=t,mu(n)):(t.next=i.next,i.next=t),n.interleaved=t,er(e,r)}function Es(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tu(e,r)}}function Wc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=l:s=s.next=l,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function eo(e,t,r,n){var i=e.updateQueue;or=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var a=o,u=a.next;a.next=null,l===null?s=u:l.next=u,l=a;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=a))}if(s!==null){var c=i.baseState;l=0,m=u=a=null,o=s;do{var g=o.lane,_=o.eventTime;if((n&g)===g){m!==null&&(m=m.next={eventTime:_,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=e,v=o;switch(g=t,_=r,v.tag){case 1:if(S=v.payload,typeof S=="function"){c=S.call(_,c,g);break e}c=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,g=typeof S=="function"?S.call(_,c,g):S,g==null)break e;c=ke({},c,g);break e;case 2:or=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else _={eventTime:_,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(u=m=_,a=c):m=m.next=_,l|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(m===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Vr|=l,e.lanes=l,e.memoizedState=c}}function $c(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var $i={},Wt=xr($i),Ai=xr($i),Di=xr($i);function Mr(e){if(e===$i)throw Error(X(174));return e}function _u(e,t){switch(_e(Di,t),_e(Ai,e),_e(Wt,$i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zl(t,e)}Se(Wt),_e(Wt,t)}function Tn(){Se(Wt),Se(Ai),Se(Di)}function Jf(e){Mr(Di.current);var t=Mr(Wt.current),r=zl(t,e.type);t!==r&&(_e(Ai,e),_e(Wt,r))}function vu(e){Ai.current===e&&(Se(Wt),Se(Ai))}var Ce=xr(0);function to(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=[];function yu(){for(var e=0;e<ll.length;e++)ll[e]._workInProgressVersionPrimary=null;ll.length=0}var Ls=rr.ReactCurrentDispatcher,al=rr.ReactCurrentBatchConfig,$r=0,xe=null,Pe=null,Ie=null,ro=!1,di=!1,Pi=0,gv=0;function ze(){throw Error(X(321))}function Su(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ot(e[r],t[r]))return!1;return!0}function wu(e,t,r,n,i,s){if($r=s,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ls.current=e===null||e.memoizedState===null?Sv:wv,e=r(n,i),di){s=0;do{if(di=!1,Pi=0,25<=s)throw Error(X(301));s+=1,Ie=Pe=null,t.updateQueue=null,Ls.current=Cv,e=r(n,i)}while(di)}if(Ls.current=no,t=Pe!==null&&Pe.next!==null,$r=0,Ie=Pe=xe=null,ro=!1,t)throw Error(X(300));return e}function Cu(){var e=Pi!==0;return Pi=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?xe.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function bt(){if(Pe===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Ie===null?xe.memoizedState:Ie.next;if(t!==null)Ie=t,Pe=e;else{if(e===null)throw Error(X(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Ie===null?xe.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Oi(e,t){return typeof t=="function"?t(e):t}function ul(e){var t=bt(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=Pe,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=l=null,a=null,u=s;do{var m=u.lane;if(($r&m)===m)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(o=a=c,l=n):a=a.next=c,xe.lanes|=m,Vr|=m}u=u.next}while(u!==null&&u!==s);a===null?l=n:a.next=o,Ot(n,t.memoizedState)||(et=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,xe.lanes|=s,Vr|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function cl(e){var t=bt(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);Ot(s,t.memoizedState)||(et=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Qf(){}function Yf(e,t){var r=xe,n=bt(),i=t(),s=!Ot(n.memoizedState,i);if(s&&(n.memoizedState=i,et=!0),n=n.queue,xu(tp.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Ie!==null&&Ie.memoizedState.tag&1){if(r.flags|=2048,Ii(9,ep.bind(null,r,n,i,t),void 0,null),Me===null)throw Error(X(349));$r&30||Zf(r,t,i)}return i}function Zf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ep(e,t,r,n){t.value=r,t.getSnapshot=n,rp(t)&&np(e)}function tp(e,t,r){return r(function(){rp(t)&&np(e)})}function rp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ot(e,r)}catch{return!0}}function np(e){var t=er(e,1);t!==null&&Pt(t,e,1,-1)}function Vc(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:e},t.queue=e,e=e.dispatch=yv.bind(null,xe,e),[t.memoizedState,e]}function Ii(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ip(){return bt().memoizedState}function Rs(e,t,r,n){var i=Nt();xe.flags|=e,i.memoizedState=Ii(1|t,r,void 0,n===void 0?null:n)}function wo(e,t,r,n){var i=bt();n=n===void 0?null:n;var s=void 0;if(Pe!==null){var l=Pe.memoizedState;if(s=l.destroy,n!==null&&Su(n,l.deps)){i.memoizedState=Ii(t,r,s,n);return}}xe.flags|=e,i.memoizedState=Ii(1|t,r,s,n)}function qc(e,t){return Rs(8390656,8,e,t)}function xu(e,t){return wo(2048,8,e,t)}function sp(e,t){return wo(4,2,e,t)}function op(e,t){return wo(4,4,e,t)}function lp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ap(e,t,r){return r=r!=null?r.concat([e]):null,wo(4,4,lp.bind(null,t,e),r)}function ku(){}function up(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Su(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cp(e,t){var r=bt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Su(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hp(e,t,r){return $r&21?(Ot(r,t)||(r=gf(),xe.lanes|=r,Vr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=r)}function _v(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var n=al.transition;al.transition={};try{e(!1),t()}finally{me=r,al.transition=n}}function dp(){return bt().memoizedState}function vv(e,t,r){var n=vr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fp(e))pp(t,r);else if(r=Xf(e,t,r,n),r!==null){var i=Xe();Pt(r,e,n,i),mp(r,t,n)}}function yv(e,t,r){var n=vr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fp(e))pp(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,o=s(l,r);if(i.hasEagerState=!0,i.eagerState=o,Ot(o,l)){var a=t.interleaved;a===null?(i.next=i,mu(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}r=Xf(e,t,i,n),r!==null&&(i=Xe(),Pt(r,e,n,i),mp(r,t,n))}}function fp(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function pp(e,t){di=ro=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tu(e,r)}}var no={readContext:kt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Sv={readContext:kt,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:qc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rs(4194308,4,lp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var r=Nt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Nt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=vv.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:Vc,useDebugValue:ku,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=Vc(!1),t=e[0];return e=_v.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xe,i=Nt();if(we){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Me===null)throw Error(X(349));$r&30||Zf(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,qc(tp.bind(null,n,s,e),[e]),n.flags|=2048,Ii(9,ep.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Nt(),t=Me.identifierPrefix;if(we){var r=Jt,n=Gt;r=(n&~(1<<32-Dt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Pi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=gv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wv={readContext:kt,useCallback:up,useContext:kt,useEffect:xu,useImperativeHandle:ap,useInsertionEffect:sp,useLayoutEffect:op,useMemo:cp,useReducer:ul,useRef:ip,useState:function(){return ul(Oi)},useDebugValue:ku,useDeferredValue:function(e){var t=bt();return hp(t,Pe.memoizedState,e)},useTransition:function(){var e=ul(Oi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Qf,useSyncExternalStore:Yf,useId:dp,unstable_isNewReconciler:!1},Cv={readContext:kt,useCallback:up,useContext:kt,useEffect:xu,useImperativeHandle:ap,useInsertionEffect:sp,useLayoutEffect:op,useMemo:cp,useReducer:cl,useRef:ip,useState:function(){return cl(Oi)},useDebugValue:ku,useDeferredValue:function(e){var t=bt();return Pe===null?t.memoizedState=e:hp(t,Pe.memoizedState,e)},useTransition:function(){var e=cl(Oi)[0],t=bt().memoizedState;return[e,t]},useMutableSource:Qf,useSyncExternalStore:Yf,useId:dp,unstable_isNewReconciler:!1};function Rt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function aa(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Co={isMounted:function(e){return(e=e._reactInternals)?Gr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Xe(),i=vr(e),s=Qt(n,i);s.payload=t,r!=null&&(s.callback=r),t=gr(e,s,i),t!==null&&(Pt(t,e,i,n),Es(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Xe(),i=vr(e),s=Qt(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=gr(e,s,i),t!==null&&(Pt(t,e,i,n),Es(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Xe(),n=vr(e),i=Qt(r,n);i.tag=2,t!=null&&(i.callback=t),t=gr(e,i,n),t!==null&&(Pt(t,e,n,r),Es(t,e,n))}};function Kc(e,t,r,n,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,l):t.prototype&&t.prototype.isPureReactComponent?!Ei(r,n)||!Ei(i,s):!0}function gp(e,t,r){var n=!1,i=wr,s=t.contextType;return typeof s=="object"&&s!==null?s=kt(s):(i=rt(t)?Ur:Ve.current,n=t.contextTypes,s=(n=n!=null)?En(e,i):wr),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Co,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Xc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Co.enqueueReplaceState(t,t.state,null)}function ua(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},gu(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=kt(s):(s=rt(t)?Ur:Ve.current,i.context=En(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(aa(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Co.enqueueReplaceState(i,i.state,null),eo(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function An(e,t){try{var r="",n=t;do r+=Jg(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function hl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ca(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var xv=typeof WeakMap=="function"?WeakMap:Map;function _p(e,t,r){r=Qt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){so||(so=!0,Sa=n),ca(e,t)},r}function vp(e,t,r){r=Qt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ca(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ca(e,t),typeof n!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Gc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new xv;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Nv.bind(null,e,t,r),t.then(e,e))}function Jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qc(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qt(-1,1),t.tag=2,gr(r,t,1))),r.lanes|=1),e)}var kv=rr.ReactCurrentOwner,et=!1;function Ke(e,t,r,n){t.child=e===null?Kf(t,null,r,n):Rn(t,e.child,r,n)}function Yc(e,t,r,n,i){r=r.render;var s=t.ref;return wn(t,i),n=wu(e,t,r,n,s,i),r=Cu(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tr(e,t,i)):(we&&r&&uu(t),t.flags|=1,Ke(e,t,n,i),t.child)}function Zc(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Pu(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,yp(e,t,s,n,i)):(e=Ps(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var l=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ei,r(l,n)&&e.ref===t.ref)return tr(e,t,i)}return t.flags|=1,e=yr(s,n),e.ref=t.ref,e.return=t,t.child=e}function yp(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Ei(s,n)&&e.ref===t.ref)if(et=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,tr(e,t,i)}return ha(e,t,r,n,i)}function Sp(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(gn,ht),ht|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(gn,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,_e(gn,ht),ht|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,_e(gn,ht),ht|=n;return Ke(e,t,i,r),t.child}function wp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ha(e,t,r,n,i){var s=rt(r)?Ur:Ve.current;return s=En(t,s),wn(t,i),r=wu(e,t,r,n,s,i),n=Cu(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,tr(e,t,i)):(we&&n&&uu(t),t.flags|=1,Ke(e,t,r,i),t.child)}function eh(e,t,r,n,i){if(rt(r)){var s=!0;Gs(t)}else s=!1;if(wn(t,i),t.stateNode===null)Ts(e,t),gp(t,r,n),ua(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var a=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=rt(r)?Ur:Ve.current,u=En(t,u));var m=r.getDerivedStateFromProps,c=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||a!==u)&&Xc(t,l,n,u),or=!1;var g=t.memoizedState;l.state=g,eo(t,n,l,i),a=t.memoizedState,o!==n||g!==a||tt.current||or?(typeof m=="function"&&(aa(t,r,m,n),a=t.memoizedState),(o=or||Kc(t,r,o,n,g,a,u))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),l.props=n,l.state=a,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Gf(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Rt(t.type,o),l.props=u,c=t.pendingProps,g=l.context,a=r.contextType,typeof a=="object"&&a!==null?a=kt(a):(a=rt(r)?Ur:Ve.current,a=En(t,a));var _=r.getDerivedStateFromProps;(m=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==c||g!==a)&&Xc(t,l,n,a),or=!1,g=t.memoizedState,l.state=g,eo(t,n,l,i);var S=t.memoizedState;o!==c||g!==S||tt.current||or?(typeof _=="function"&&(aa(t,r,_,n),S=t.memoizedState),(u=or||Kc(t,r,u,n,g,S,a)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,S,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,S,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=S),l.props=n,l.state=S,l.context=a,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return da(e,t,r,n,s,i)}function da(e,t,r,n,i,s){wp(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&Fc(t,r,!1),tr(e,t,s);n=t.stateNode,kv.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Rn(t,e.child,null,s),t.child=Rn(t,null,o,s)):Ke(e,t,o,s),t.memoizedState=n.state,i&&Fc(t,r,!0),t.child}function Cp(e){var t=e.stateNode;t.pendingContext?jc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jc(e,t.context,!1),_u(e,t.containerInfo)}function th(e,t,r,n,i){return Ln(),hu(i),t.flags|=256,Ke(e,t,r,n),t.child}var fa={dehydrated:null,treeContext:null,retryLane:0};function pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function xp(e,t,r){var n=t.pendingProps,i=Ce.current,s=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_e(Ce,i&1),e===null)return oa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,s?(n=t.mode,s=t.child,l={mode:"hidden",children:l},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=bo(l,n,0,null),e=Fr(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=pa(r),t.memoizedState=fa,e):bu(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return bv(e,t,l,n,o,i,r);if(s){s=n.fallback,l=t.mode,i=e.child,o=i.sibling;var a={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=yr(i,a),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=yr(o,s):(s=Fr(s,l,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,l=e.child.memoizedState,l=l===null?pa(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=fa,n}return s=e.child,e=s.sibling,n=yr(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function bu(e,t){return t=bo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fs(e,t,r,n){return n!==null&&hu(n),Rn(t,e.child,null,r),e=bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bv(e,t,r,n,i,s,l){if(r)return t.flags&256?(t.flags&=-257,n=hl(Error(X(422))),fs(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=bo({mode:"visible",children:n.children},i,0,null),s=Fr(s,i,l,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Rn(t,e.child,null,l),t.child.memoizedState=pa(l),t.memoizedState=fa,s);if(!(t.mode&1))return fs(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(X(419)),n=hl(s,n,void 0),fs(e,t,l,n)}if(o=(l&e.childLanes)!==0,et||o){if(n=Me,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,er(e,i),Pt(n,e,i,-1))}return Du(),n=hl(Error(X(421))),fs(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=jv.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,dt=mr(i.nextSibling),pt=t,we=!0,At=null,e!==null&&(yt[St++]=Gt,yt[St++]=Jt,yt[St++]=Wr,Gt=e.id,Jt=e.overflow,Wr=t),t=bu(t,n.children),t.flags|=4096,t)}function rh(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),la(e.return,t,r)}function dl(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function kp(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ke(e,t,n.children,r),n=Ce.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rh(e,r,t);else if(e.tag===19)rh(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_e(Ce,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&to(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),dl(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&to(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}dl(t,!0,r,null,s);break;case"together":dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ts(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ev(e,t,r){switch(t.tag){case 3:Cp(t),Ln();break;case 5:Jf(t);break;case 1:rt(t.type)&&Gs(t);break;case 4:_u(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;_e(Ys,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_e(Ce,Ce.current&1),t.flags|=128,null):r&t.child.childLanes?xp(e,t,r):(_e(Ce,Ce.current&1),e=tr(e,t,r),e!==null?e.sibling:null);_e(Ce,Ce.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kp(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ce,Ce.current),n)break;return null;case 22:case 23:return t.lanes=0,Sp(e,t,r)}return tr(e,t,r)}var bp,ma,Ep,Lp;bp=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ma=function(){};Ep=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Mr(Wt.current);var s=null;switch(r){case"input":i=Nl(e,i),n=Nl(e,n),s=[];break;case"select":i=ke({},i,{value:void 0}),n=ke({},n,{value:void 0}),s=[];break;case"textarea":i=Hl(e,i),n=Hl(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ks)}Ul(r,n);var l;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var a=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&a!==o&&(a!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in a)a.hasOwnProperty(l)&&o[l]!==a[l]&&(r||(r={}),r[l]=a[l])}else r||(s||(s=[]),s.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,o=o?o.__html:void 0,a!=null&&o!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yi.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ye("scroll",e),s||o===a||(s=[])):(s=s||[]).push(u,a))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Lp=function(e,t,r,n){r!==n&&(t.flags|=4)};function Qn(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Lv(e,t,r){var n=t.pendingProps;switch(cu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return rt(t.type)&&Xs(),Ue(t),null;case 3:return n=t.stateNode,Tn(),Se(tt),Se(Ve),yu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(xa(At),At=null))),ma(e,t),Ue(t),null;case 5:vu(t);var i=Mr(Di.current);if(r=t.type,e!==null&&t.stateNode!=null)Ep(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Ue(t),null}if(e=Mr(Wt.current),hs(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ft]=t,n[Ti]=s,e=(t.mode&1)!==0,r){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(i=0;i<si.length;i++)ye(si[i],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":hc(n,s),ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ye("invalid",n);break;case"textarea":fc(n,s),ye("invalid",n)}Ul(r,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var o=s[l];l==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&cs(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&cs(n.textContent,o,e),i=["children",""+o]):yi.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ye("scroll",n)}switch(r){case"input":rs(n),dc(n,s,!0);break;case"textarea":rs(n),pc(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ks)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ef(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[Ft]=t,e[Ti]=n,bp(e,t,!1,!1),t.stateNode=e;e:{switch(l=Wl(r,n),r){case"dialog":ye("cancel",e),ye("close",e),i=n;break;case"iframe":case"object":case"embed":ye("load",e),i=n;break;case"video":case"audio":for(i=0;i<si.length;i++)ye(si[i],e);i=n;break;case"source":ye("error",e),i=n;break;case"img":case"image":case"link":ye("error",e),ye("load",e),i=n;break;case"details":ye("toggle",e),i=n;break;case"input":hc(e,n),i=Nl(e,n),ye("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ke({},n,{value:void 0}),ye("invalid",e);break;case"textarea":fc(e,n),i=Hl(e,n),ye("invalid",e);break;default:i=n}Ul(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="style"?nf(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&tf(e,a)):s==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Si(e,a):typeof a=="number"&&Si(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(yi.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ye("scroll",e):a!=null&&Ga(e,s,a,l))}switch(r){case"input":rs(e),dc(e,n,!1);break;case"textarea":rs(e),pc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Sr(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?_n(e,!!n.multiple,s,!1):n.defaultValue!=null&&_n(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ks)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)Lp(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=Mr(Di.current),Mr(Wt.current),hs(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ft]=t,(s=n.nodeValue!==r)&&(e=pt,e!==null))switch(e.tag){case 3:cs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cs(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ft]=t,t.stateNode=n}return Ue(t),null;case 13:if(Se(Ce),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&dt!==null&&t.mode&1&&!(t.flags&128))Vf(),Ln(),t.flags|=98560,s=!1;else if(s=hs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(X(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[Ft]=t}else Ln(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),s=!1}else At!==null&&(xa(At),At=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Oe===0&&(Oe=3):Du())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return Tn(),ma(e,t),e===null&&Li(t.stateNode.containerInfo),Ue(t),null;case 10:return pu(t.type._context),Ue(t),null;case 17:return rt(t.type)&&Xs(),Ue(t),null;case 19:if(Se(Ce),s=t.memoizedState,s===null)return Ue(t),null;if(n=(t.flags&128)!==0,l=s.rendering,l===null)if(n)Qn(s,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=to(e),l!==null){for(t.flags|=128,Qn(s,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _e(Ce,Ce.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ee()>Dn&&(t.flags|=128,n=!0,Qn(s,!1),t.lanes=4194304)}else{if(!n)if(e=to(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Qn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!we)return Ue(t),null}else 2*Ee()-s.renderingStartTime>Dn&&r!==1073741824&&(t.flags|=128,n=!0,Qn(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(r=s.last,r!==null?r.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ee(),t.sibling=null,r=Ce.current,_e(Ce,n?r&1|2:r&1),t):(Ue(t),null);case 22:case 23:return Au(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ht&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function Rv(e,t){switch(cu(t),t.tag){case 1:return rt(t.type)&&Xs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(),Se(tt),Se(Ve),yu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vu(t),null;case 13:if(Se(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ce),null;case 4:return Tn(),null;case 10:return pu(t.type._context),null;case 22:case 23:return Au(),null;case 24:return null;default:return null}}var ps=!1,We=!1,Tv=typeof WeakSet=="function"?WeakSet:Set,ee=null;function mn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(e,t,n)}else r.current=null}function ga(e,t,r){try{r()}catch(n){be(e,t,n)}}var nh=!1;function Av(e,t){if(Zl=$s,e=Pf(),au(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var l=0,o=-1,a=-1,u=0,m=0,c=e,g=null;t:for(;;){for(var _;c!==r||i!==0&&c.nodeType!==3||(o=l+i),c!==s||n!==0&&c.nodeType!==3||(a=l+n),c.nodeType===3&&(l+=c.nodeValue.length),(_=c.firstChild)!==null;)g=c,c=_;for(;;){if(c===e)break t;if(g===r&&++u===i&&(o=l),g===s&&++m===n&&(a=l),(_=c.nextSibling)!==null)break;c=g,g=c.parentNode}c=_}r=o===-1||a===-1?null:{start:o,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(ea={focusedElem:e,selectionRange:r},$s=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,h=S.memoizedState,d=t.stateNode,f=d.getSnapshotBeforeUpdate(t.elementType===t.type?v:Rt(t.type,v),h);d.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(y){be(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return S=nh,nh=!1,S}function fi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&ga(t,r,s)}i=i.next}while(i!==n)}}function xo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function _a(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Rp(e){var t=e.alternate;t!==null&&(e.alternate=null,Rp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[Ti],delete t[na],delete t[dv],delete t[fv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tp(e){return e.tag===5||e.tag===3||e.tag===4}function ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function va(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ks));else if(n!==4&&(e=e.child,e!==null))for(va(e,t,r),e=e.sibling;e!==null;)va(e,t,r),e=e.sibling}function ya(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ya(e,t,r),e=e.sibling;e!==null;)ya(e,t,r),e=e.sibling}var je=null,Tt=!1;function nr(e,t,r){for(r=r.child;r!==null;)Ap(e,t,r),r=r.sibling}function Ap(e,t,r){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(mo,r)}catch{}switch(r.tag){case 5:We||mn(r,t);case 6:var n=je,i=Tt;je=null,nr(e,t,r),je=n,Tt=i,je!==null&&(Tt?(e=je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):je.removeChild(r.stateNode));break;case 18:je!==null&&(Tt?(e=je,r=r.stateNode,e.nodeType===8?sl(e.parentNode,r):e.nodeType===1&&sl(e,r),ki(e)):sl(je,r.stateNode));break;case 4:n=je,i=Tt,je=r.stateNode.containerInfo,Tt=!0,nr(e,t,r),je=n,Tt=i;break;case 0:case 11:case 14:case 15:if(!We&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&ga(r,t,l),i=i.next}while(i!==n)}nr(e,t,r);break;case 1:if(!We&&(mn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){be(r,t,o)}nr(e,t,r);break;case 21:nr(e,t,r);break;case 22:r.mode&1?(We=(n=We)||r.memoizedState!==null,nr(e,t,r),We=n):nr(e,t,r);break;default:nr(e,t,r)}}function sh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Tv),t.forEach(function(n){var i=Fv.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Lt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:je=o.stateNode,Tt=!1;break e;case 3:je=o.stateNode.containerInfo,Tt=!0;break e;case 4:je=o.stateNode.containerInfo,Tt=!0;break e}o=o.return}if(je===null)throw Error(X(160));Ap(s,l,i),je=null,Tt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){be(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Dp(t,e),t=t.sibling}function Dp(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Mt(e),n&4){try{fi(3,e,e.return),xo(3,e)}catch(v){be(e,e.return,v)}try{fi(5,e,e.return)}catch(v){be(e,e.return,v)}}break;case 1:Lt(t,e),Mt(e),n&512&&r!==null&&mn(r,r.return);break;case 5:if(Lt(t,e),Mt(e),n&512&&r!==null&&mn(r,r.return),e.flags&32){var i=e.stateNode;try{Si(i,"")}catch(v){be(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,l=r!==null?r.memoizedProps:s,o=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Yd(i,s),Wl(o,l);var u=Wl(o,s);for(l=0;l<a.length;l+=2){var m=a[l],c=a[l+1];m==="style"?nf(i,c):m==="dangerouslySetInnerHTML"?tf(i,c):m==="children"?Si(i,c):Ga(i,m,c,u)}switch(o){case"input":jl(i,s);break;case"textarea":Zd(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?_n(i,!!s.multiple,_,!1):g!==!!s.multiple&&(s.defaultValue!=null?_n(i,!!s.multiple,s.defaultValue,!0):_n(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ti]=s}catch(v){be(e,e.return,v)}}break;case 6:if(Lt(t,e),Mt(e),n&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){be(e,e.return,v)}}break;case 3:if(Lt(t,e),Mt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ki(t.containerInfo)}catch(v){be(e,e.return,v)}break;case 4:Lt(t,e),Mt(e);break;case 13:Lt(t,e),Mt(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ru=Ee())),n&4&&sh(e);break;case 22:if(m=r!==null&&r.memoizedState!==null,e.mode&1?(We=(u=We)||m,Lt(t,e),We=u):Lt(t,e),Mt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(ee=e,m=e.child;m!==null;){for(c=ee=m;ee!==null;){switch(g=ee,_=g.child,g.tag){case 0:case 11:case 14:case 15:fi(4,g,g.return);break;case 1:mn(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(v){be(n,r,v)}}break;case 5:mn(g,g.return);break;case 22:if(g.memoizedState!==null){lh(c);continue}}_!==null?(_.return=g,ee=_):lh(c)}m=m.sibling}e:for(m=null,c=e;;){if(c.tag===5){if(m===null){m=c;try{i=c.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=c.stateNode,a=c.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,o.style.display=rf("display",l))}catch(v){be(e,e.return,v)}}}else if(c.tag===6){if(m===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){be(e,e.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Lt(t,e),Mt(e),n&4&&sh(e);break;case 21:break;default:Lt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Tp(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Si(i,""),n.flags&=-33);var s=ih(e);ya(e,s,i);break;case 3:case 4:var l=n.stateNode.containerInfo,o=ih(e);va(e,o,l);break;default:throw Error(X(161))}}catch(a){be(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Dv(e,t,r){ee=e,Pp(e)}function Pp(e,t,r){for(var n=(e.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||ps;if(!l){var o=i.alternate,a=o!==null&&o.memoizedState!==null||We;o=ps;var u=We;if(ps=l,(We=a)&&!u)for(ee=i;ee!==null;)l=ee,a=l.child,l.tag===22&&l.memoizedState!==null?ah(i):a!==null?(a.return=l,ee=a):ah(i);for(;s!==null;)ee=s,Pp(s),s=s.sibling;ee=i,ps=o,We=u}oh(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):oh(e)}}function oh(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||xo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!We)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Rt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&$c(t,s,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}$c(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var c=m.dehydrated;c!==null&&ki(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}We||t.flags&512&&_a(t)}catch(g){be(t,t.return,g)}}if(t===e){ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,ee=r;break}ee=t.return}}function lh(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ee=r;break}ee=t.return}}function ah(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xo(4,t)}catch(a){be(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(a){be(t,i,a)}}var s=t.return;try{_a(t)}catch(a){be(t,s,a)}break;case 5:var l=t.return;try{_a(t)}catch(a){be(t,l,a)}}}catch(a){be(t,t.return,a)}if(t===e){ee=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ee=o;break}ee=t.return}}var Pv=Math.ceil,io=rr.ReactCurrentDispatcher,Eu=rr.ReactCurrentOwner,xt=rr.ReactCurrentBatchConfig,he=0,Me=null,Te=null,Fe=0,ht=0,gn=xr(0),Oe=0,Mi=null,Vr=0,ko=0,Lu=0,pi=null,Ze=null,Ru=0,Dn=1/0,Kt=null,so=!1,Sa=null,_r=null,ms=!1,cr=null,oo=0,mi=0,wa=null,As=-1,Ds=0;function Xe(){return he&6?Ee():As!==-1?As:As=Ee()}function vr(e){return e.mode&1?he&2&&Fe!==0?Fe&-Fe:mv.transition!==null?(Ds===0&&(Ds=gf()),Ds):(e=me,e!==0||(e=window.event,e=e===void 0?16:xf(e.type)),e):1}function Pt(e,t,r,n){if(50<mi)throw mi=0,wa=null,Error(X(185));zi(e,r,n),(!(he&2)||e!==Me)&&(e===Me&&(!(he&2)&&(ko|=r),Oe===4&&ar(e,Fe)),nt(e,n),r===1&&he===0&&!(t.mode&1)&&(Dn=Ee()+500,So&&kr()))}function nt(e,t){var r=e.callbackNode;m_(e,t);var n=Ws(e,e===Me?Fe:0);if(n===0)r!==null&&_c(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_c(r),t===1)e.tag===0?pv(uh.bind(null,e)):Uf(uh.bind(null,e)),cv(function(){!(he&6)&&kr()}),r=null;else{switch(_f(n)){case 1:r=eu;break;case 4:r=pf;break;case 16:r=Us;break;case 536870912:r=mf;break;default:r=Us}r=Hp(r,Op.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Op(e,t){if(As=-1,Ds=0,he&6)throw Error(X(327));var r=e.callbackNode;if(Cn()&&e.callbackNode!==r)return null;var n=Ws(e,e===Me?Fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lo(e,n);else{t=n;var i=he;he|=2;var s=Mp();(Me!==e||Fe!==t)&&(Kt=null,Dn=Ee()+500,jr(e,t));do try{Mv();break}catch(o){Ip(e,o)}while(!0);fu(),io.current=s,he=i,Te!==null?t=0:(Me=null,Fe=0,t=Oe)}if(t!==0){if(t===2&&(i=Xl(e),i!==0&&(n=i,t=Ca(e,i))),t===1)throw r=Mi,jr(e,0),ar(e,n),nt(e,Ee()),r;if(t===6)ar(e,n);else{if(i=e.current.alternate,!(n&30)&&!Ov(i)&&(t=lo(e,n),t===2&&(s=Xl(e),s!==0&&(n=s,t=Ca(e,s))),t===1))throw r=Mi,jr(e,0),ar(e,n),nt(e,Ee()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:Ar(e,Ze,Kt);break;case 3:if(ar(e,n),(n&130023424)===n&&(t=Ru+500-Ee(),10<t)){if(Ws(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Xe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ra(Ar.bind(null,e,Ze,Kt),t);break}Ar(e,Ze,Kt);break;case 4:if(ar(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-Dt(n);s=1<<l,l=t[l],l>i&&(i=l),n&=~s}if(n=i,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Pv(n/1960))-n,10<n){e.timeoutHandle=ra(Ar.bind(null,e,Ze,Kt),n);break}Ar(e,Ze,Kt);break;case 5:Ar(e,Ze,Kt);break;default:throw Error(X(329))}}}return nt(e,Ee()),e.callbackNode===r?Op.bind(null,e):null}function Ca(e,t){var r=pi;return e.current.memoizedState.isDehydrated&&(jr(e,t).flags|=256),e=lo(e,t),e!==2&&(t=Ze,Ze=r,t!==null&&xa(t)),e}function xa(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Ov(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ot(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ar(e,t){for(t&=~Lu,t&=~ko,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dt(t),n=1<<r;e[r]=-1,t&=~n}}function uh(e){if(he&6)throw Error(X(327));Cn();var t=Ws(e,0);if(!(t&1))return nt(e,Ee()),null;var r=lo(e,t);if(e.tag!==0&&r===2){var n=Xl(e);n!==0&&(t=n,r=Ca(e,n))}if(r===1)throw r=Mi,jr(e,0),ar(e,t),nt(e,Ee()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ar(e,Ze,Kt),nt(e,Ee()),null}function Tu(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(Dn=Ee()+500,So&&kr())}}function qr(e){cr!==null&&cr.tag===0&&!(he&6)&&Cn();var t=he;he|=1;var r=xt.transition,n=me;try{if(xt.transition=null,me=1,e)return e()}finally{me=n,xt.transition=r,he=t,!(he&6)&&kr()}}function Au(){ht=gn.current,Se(gn)}function jr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uv(r)),Te!==null)for(r=Te.return;r!==null;){var n=r;switch(cu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xs();break;case 3:Tn(),Se(tt),Se(Ve),yu();break;case 5:vu(n);break;case 4:Tn();break;case 13:Se(Ce);break;case 19:Se(Ce);break;case 10:pu(n.type._context);break;case 22:case 23:Au()}r=r.return}if(Me=e,Te=e=yr(e.current,null),Fe=ht=t,Oe=0,Mi=null,Lu=ko=Vr=0,Ze=pi=null,Ir!==null){for(t=0;t<Ir.length;t++)if(r=Ir[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var l=s.next;s.next=i,n.next=l}r.pending=n}Ir=null}return e}function Ip(e,t){do{var r=Te;try{if(fu(),Ls.current=no,ro){for(var n=xe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ro=!1}if($r=0,Ie=Pe=xe=null,di=!1,Pi=0,Eu.current=null,r===null||r.return===null){Oe=1,Mi=t,Te=null;break}e:{var s=e,l=r.return,o=r,a=t;if(t=Fe,o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,m=o,c=m.tag;if(!(m.mode&1)&&(c===0||c===11||c===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var _=Jc(l);if(_!==null){_.flags&=-257,Qc(_,l,o,s,t),_.mode&1&&Gc(s,u,t),t=_,a=u;var S=t.updateQueue;if(S===null){var v=new Set;v.add(a),t.updateQueue=v}else S.add(a);break e}else{if(!(t&1)){Gc(s,u,t),Du();break e}a=Error(X(426))}}else if(we&&o.mode&1){var h=Jc(l);if(h!==null){!(h.flags&65536)&&(h.flags|=256),Qc(h,l,o,s,t),hu(An(a,o));break e}}s=a=An(a,o),Oe!==4&&(Oe=2),pi===null?pi=[s]:pi.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var d=_p(s,a,t);Wc(s,d);break e;case 1:o=a;var f=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(_r===null||!_r.has(p)))){s.flags|=65536,t&=-t,s.lanes|=t;var y=vp(s,o,t);Wc(s,y);break e}}s=s.return}while(s!==null)}Np(r)}catch(C){t=C,Te===r&&r!==null&&(Te=r=r.return);continue}break}while(!0)}function Mp(){var e=io.current;return io.current=no,e===null?no:e}function Du(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Me===null||!(Vr&268435455)&&!(ko&268435455)||ar(Me,Fe)}function lo(e,t){var r=he;he|=2;var n=Mp();(Me!==e||Fe!==t)&&(Kt=null,jr(e,t));do try{Iv();break}catch(i){Ip(e,i)}while(!0);if(fu(),he=r,io.current=n,Te!==null)throw Error(X(261));return Me=null,Fe=0,Oe}function Iv(){for(;Te!==null;)Bp(Te)}function Mv(){for(;Te!==null&&!o_();)Bp(Te)}function Bp(e){var t=Fp(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?Np(e):Te=t,Eu.current=null}function Np(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Rv(r,t),r!==null){r.flags&=32767,Te=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Te=null;return}}else if(r=Lv(r,t,ht),r!==null){Te=r;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Oe===0&&(Oe=5)}function Ar(e,t,r){var n=me,i=xt.transition;try{xt.transition=null,me=1,Bv(e,t,r,n)}finally{xt.transition=i,me=n}return null}function Bv(e,t,r,n){do Cn();while(cr!==null);if(he&6)throw Error(X(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(g_(e,s),e===Me&&(Te=Me=null,Fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ms||(ms=!0,Hp(Us,function(){return Cn(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=xt.transition,xt.transition=null;var l=me;me=1;var o=he;he|=4,Eu.current=null,Av(e,r),Dp(r,e),rv(ea),$s=!!Zl,ea=Zl=null,e.current=r,Dv(r),l_(),he=o,me=l,xt.transition=s}else e.current=r;if(ms&&(ms=!1,cr=e,oo=i),s=e.pendingLanes,s===0&&(_r=null),c_(r.stateNode),nt(e,Ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(so)throw so=!1,e=Sa,Sa=null,e;return oo&1&&e.tag!==0&&Cn(),s=e.pendingLanes,s&1?e===wa?mi++:(mi=0,wa=e):mi=0,kr(),null}function Cn(){if(cr!==null){var e=_f(oo),t=xt.transition,r=me;try{if(xt.transition=null,me=16>e?16:e,cr===null)var n=!1;else{if(e=cr,cr=null,oo=0,he&6)throw Error(X(331));var i=he;for(he|=4,ee=e.current;ee!==null;){var s=ee,l=s.child;if(ee.flags&16){var o=s.deletions;if(o!==null){for(var a=0;a<o.length;a++){var u=o[a];for(ee=u;ee!==null;){var m=ee;switch(m.tag){case 0:case 11:case 15:fi(8,m,s)}var c=m.child;if(c!==null)c.return=m,ee=c;else for(;ee!==null;){m=ee;var g=m.sibling,_=m.return;if(Rp(m),m===u){ee=null;break}if(g!==null){g.return=_,ee=g;break}ee=_}}}var S=s.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var h=v.sibling;v.sibling=null,v=h}while(v!==null)}}ee=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,ee=l;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:fi(9,s,s.return)}var d=s.sibling;if(d!==null){d.return=s.return,ee=d;break e}ee=s.return}}var f=e.current;for(ee=f;ee!==null;){l=ee;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,ee=p;else e:for(l=f;ee!==null;){if(o=ee,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:xo(9,o)}}catch(C){be(o,o.return,C)}if(o===l){ee=null;break e}var y=o.sibling;if(y!==null){y.return=o.return,ee=y;break e}ee=o.return}}if(he=i,kr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(mo,e)}catch{}n=!0}return n}finally{me=r,xt.transition=t}}return!1}function ch(e,t,r){t=An(r,t),t=_p(e,t,1),e=gr(e,t,1),t=Xe(),e!==null&&(zi(e,1,t),nt(e,t))}function be(e,t,r){if(e.tag===3)ch(e,e,r);else for(;t!==null;){if(t.tag===3){ch(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_r===null||!_r.has(n))){e=An(r,e),e=vp(t,e,1),t=gr(t,e,1),e=Xe(),t!==null&&(zi(t,1,e),nt(t,e));break}}t=t.return}}function Nv(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&r,Me===e&&(Fe&r)===r&&(Oe===4||Oe===3&&(Fe&130023424)===Fe&&500>Ee()-Ru?jr(e,0):Lu|=r),nt(e,t)}function jp(e,t){t===0&&(e.mode&1?(t=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):t=1);var r=Xe();e=er(e,t),e!==null&&(zi(e,t,r),nt(e,r))}function jv(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jp(e,r)}function Fv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),jp(e,r)}var Fp;Fp=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)et=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return et=!1,Ev(e,t,r);et=!!(e.flags&131072)}else et=!1,we&&t.flags&1048576&&Wf(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ts(e,t),e=t.pendingProps;var i=En(t,Ve.current);wn(t,r),i=wu(null,t,n,e,i,r);var s=Cu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(n)?(s=!0,Gs(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gu(t),i.updater=Co,t.stateNode=i,i._reactInternals=t,ua(t,n,e,r),t=da(null,t,n,!0,s,r)):(t.tag=0,we&&s&&uu(t),Ke(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ts(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=zv(n),e=Rt(n,e),i){case 0:t=ha(null,t,n,e,r);break e;case 1:t=eh(null,t,n,e,r);break e;case 11:t=Yc(null,t,n,e,r);break e;case 14:t=Zc(null,t,n,Rt(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Rt(n,i),ha(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Rt(n,i),eh(e,t,n,i,r);case 3:e:{if(Cp(t),e===null)throw Error(X(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Gf(e,t),eo(t,n,null,r);var l=t.memoizedState;if(n=l.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=An(Error(X(423)),t),t=th(e,t,n,r,i);break e}else if(n!==i){i=An(Error(X(424)),t),t=th(e,t,n,r,i);break e}else for(dt=mr(t.stateNode.containerInfo.firstChild),pt=t,we=!0,At=null,r=Kf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ln(),n===i){t=tr(e,t,r);break e}Ke(e,t,n,r)}t=t.child}return t;case 5:return Jf(t),e===null&&oa(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,l=i.children,ta(n,i)?l=null:s!==null&&ta(n,s)&&(t.flags|=32),wp(e,t),Ke(e,t,l,r),t.child;case 6:return e===null&&oa(t),null;case 13:return xp(e,t,r);case 4:return _u(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rn(t,null,n,r):Ke(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Rt(n,i),Yc(e,t,n,i,r);case 7:return Ke(e,t,t.pendingProps,r),t.child;case 8:return Ke(e,t,t.pendingProps.children,r),t.child;case 12:return Ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,_e(Ys,n._currentValue),n._currentValue=l,s!==null)if(Ot(s.value,l)){if(s.children===i.children&&!tt.current){t=tr(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){l=s.child;for(var a=o.firstContext;a!==null;){if(a.context===n){if(s.tag===1){a=Qt(-1,r&-r),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?a.next=a:(a.next=m.next,m.next=a),u.pending=a}}s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),la(s.return,r,t),o.lanes|=r;break}a=a.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(X(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),la(l,r,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Ke(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,wn(t,r),i=kt(i),n=n(i),t.flags|=1,Ke(e,t,n,r),t.child;case 14:return n=t.type,i=Rt(n,t.pendingProps),i=Rt(n.type,i),Zc(e,t,n,i,r);case 15:return yp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Rt(n,i),Ts(e,t),t.tag=1,rt(n)?(e=!0,Gs(t)):e=!1,wn(t,r),gp(t,n,i),ua(t,n,i,r),da(null,t,n,!0,e,r);case 19:return kp(e,t,r);case 22:return Sp(e,t,r)}throw Error(X(156,t.tag))};function Hp(e,t){return ff(e,t)}function Hv(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,n){return new Hv(e,t,r,n)}function Pu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zv(e){if(typeof e=="function")return Pu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qa)return 11;if(e===Ya)return 14}return 2}function yr(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ps(e,t,r,n,i,s){var l=2;if(n=e,typeof e=="function")Pu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case on:return Fr(r.children,i,s,t);case Ja:l=8,i|=8;break;case Ol:return e=Ct(12,r,t,i|2),e.elementType=Ol,e.lanes=s,e;case Il:return e=Ct(13,r,t,i),e.elementType=Il,e.lanes=s,e;case Ml:return e=Ct(19,r,t,i),e.elementType=Ml,e.lanes=s,e;case Gd:return bo(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kd:l=10;break e;case Xd:l=9;break e;case Qa:l=11;break e;case Ya:l=14;break e;case sr:l=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Ct(l,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Fr(e,t,r,n){return e=Ct(7,e,n,t),e.lanes=r,e}function bo(e,t,r,n){return e=Ct(22,e,n,t),e.elementType=Gd,e.lanes=r,e.stateNode={isHidden:!1},e}function fl(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function pl(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uv(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ou(e,t,r,n,i,s,l,o,a){return e=new Uv(e,t,r,o,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ct(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gu(s),e}function Wv(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function zp(e){if(!e)return wr;e=e._reactInternals;e:{if(Gr(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(rt(r))return zf(e,r,t)}return t}function Up(e,t,r,n,i,s,l,o,a){return e=Ou(r,n,!0,e,i,s,l,o,a),e.context=zp(null),r=e.current,n=Xe(),i=vr(r),s=Qt(n,i),s.callback=t??null,gr(r,s,i),e.current.lanes=i,zi(e,i,n),nt(e,n),e}function Eo(e,t,r,n){var i=t.current,s=Xe(),l=vr(i);return r=zp(r),t.context===null?t.context=r:t.pendingContext=r,t=Qt(s,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gr(i,t,l),e!==null&&(Pt(e,i,l,s),Es(e,i,l)),l}function ao(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Iu(e,t){hh(e,t),(e=e.alternate)&&hh(e,t)}function $v(){return null}var Wp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mu(e){this._internalRoot=e}Lo.prototype.render=Mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Eo(e,t,null,null)};Lo.prototype.unmount=Mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qr(function(){Eo(null,e,null,null)}),t[Zt]=null}};function Lo(e){this._internalRoot=e}Lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Sf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<lr.length&&t!==0&&t<lr[r].priority;r++);lr.splice(r,0,e),r===0&&Cf(e)}};function Bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ro(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dh(){}function Vv(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=ao(l);s.call(u)}}var l=Up(t,n,e,0,null,!1,!1,"",dh);return e._reactRootContainer=l,e[Zt]=l.current,Li(e.nodeType===8?e.parentNode:e),qr(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=ao(a);o.call(u)}}var a=Ou(e,0,!1,null,null,!1,!1,"",dh);return e._reactRootContainer=a,e[Zt]=a.current,Li(e.nodeType===8?e.parentNode:e),qr(function(){Eo(t,a,r,n)}),a}function To(e,t,r,n,i){var s=r._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var o=i;i=function(){var a=ao(l);o.call(a)}}Eo(t,l,e,i)}else l=Vv(r,t,e,i,n);return ao(l)}vf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ii(t.pendingLanes);r!==0&&(tu(t,r|1),nt(t,Ee()),!(he&6)&&(Dn=Ee()+500,kr()))}break;case 13:qr(function(){var n=er(e,1);if(n!==null){var i=Xe();Pt(n,e,1,i)}}),Iu(e,1)}};ru=function(e){if(e.tag===13){var t=er(e,134217728);if(t!==null){var r=Xe();Pt(t,e,134217728,r)}Iu(e,134217728)}};yf=function(e){if(e.tag===13){var t=vr(e),r=er(e,t);if(r!==null){var n=Xe();Pt(r,e,t,n)}Iu(e,t)}};Sf=function(){return me};wf=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};Vl=function(e,t,r){switch(t){case"input":if(jl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=yo(n);if(!i)throw Error(X(90));Qd(n),jl(n,i)}}}break;case"textarea":Zd(e,r);break;case"select":t=r.value,t!=null&&_n(e,!!r.multiple,t,!1)}};lf=Tu;af=qr;var qv={usingClientEntryPoint:!1,Events:[Wi,cn,yo,sf,of,Tu]},Yn={findFiberByHostInstance:Or,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kv={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hf(e),e===null?null:e.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||$v,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gs.isDisabled&&gs.supportsFiber)try{mo=gs.inject(Kv),Ut=gs}catch{}}gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qv;gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bu(t))throw Error(X(200));return Wv(e,t,null,r)};gt.createRoot=function(e,t){if(!Bu(e))throw Error(X(299));var r=!1,n="",i=Wp;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ou(e,1,!1,null,null,r,!1,n,i),e[Zt]=t.current,Li(e.nodeType===8?e.parentNode:e),new Mu(t)};gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=hf(t),e=e===null?null:e.stateNode,e};gt.flushSync=function(e){return qr(e)};gt.hydrate=function(e,t,r){if(!Ro(t))throw Error(X(200));return To(null,e,t,!0,r)};gt.hydrateRoot=function(e,t,r){if(!Bu(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",l=Wp;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Up(t,null,e,1,r??null,i,!1,s,l),e[Zt]=t.current,Li(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Lo(t)};gt.render=function(e,t,r){if(!Ro(t))throw Error(X(200));return To(null,e,t,!1,r)};gt.unmountComponentAtNode=function(e){if(!Ro(e))throw Error(X(40));return e._reactRootContainer?(qr(function(){To(null,null,e,!1,function(){e._reactRootContainer=null,e[Zt]=null})}),!0):!1};gt.unstable_batchedUpdates=Tu;gt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ro(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return To(e,t,r,!1,n)};gt.version="18.3.1-next-f1338f8080-20240426";function $p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($p)}catch(e){console.error(e)}}$p(),Wd.exports=gt;var Xv=Wd.exports,fh=Xv;Dl.createRoot=fh.createRoot,Dl.hydrateRoot=fh.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(this,arguments)}var hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hr||(hr={}));const ph="popstate";function Gv(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:l,hash:o}=n.location;return ka("",{pathname:s,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Vp(i)}return Qv(t,r,null,e)}function Ae(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nu(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Jv(){return Math.random().toString(36).substr(2,8)}function mh(e,t){return{usr:e.state,key:e.key,idx:t}}function ka(e,t,r,n){return r===void 0&&(r=null),Bi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Nn(t):t,{state:r,key:t&&t.key||n||Jv()})}function Vp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Nn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Qv(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,l=i.history,o=hr.Pop,a=null,u=m();u==null&&(u=0,l.replaceState(Bi({},l.state,{idx:u}),""));function m(){return(l.state||{idx:null}).idx}function c(){o=hr.Pop;let h=m(),d=h==null?null:h-u;u=h,a&&a({action:o,location:v.location,delta:d})}function g(h,d){o=hr.Push;let f=ka(v.location,h,d);u=m()+1;let p=mh(f,u),y=v.createHref(f);try{l.pushState(p,"",y)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(y)}s&&a&&a({action:o,location:v.location,delta:1})}function _(h,d){o=hr.Replace;let f=ka(v.location,h,d);u=m();let p=mh(f,u),y=v.createHref(f);l.replaceState(p,"",y),s&&a&&a({action:o,location:v.location,delta:0})}function S(h){let d=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof h=="string"?h:Vp(h);return f=f.replace(/ $/,"%20"),Ae(d,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,d)}let v={get action(){return o},get location(){return e(i,l)},listen(h){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(ph,c),a=h,()=>{i.removeEventListener(ph,c),a=null}},createHref(h){return t(i,h)},createURL:S,encodeLocation(h){let d=S(h);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:g,replace:_,go(h){return l.go(h)}};return v}var gh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gh||(gh={}));function Yv(e,t,r){return r===void 0&&(r="/"),Zv(e,t,r)}function Zv(e,t,r,n){let i=typeof t=="string"?Nn(t):t,s=Xp(i.pathname||"/",r);if(s==null)return null;let l=qp(e);e0(l);let o=null;for(let a=0;o==null&&a<l.length;++a){let u=d0(s);o=u0(l[a],u)}return o}function qp(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,l,o)=>{let a={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};a.relativePath.startsWith("/")&&(Ae(a.relativePath.startsWith(n),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(n.length));let u=Hr([n,a.relativePath]),m=r.concat(a);s.children&&s.children.length>0&&(Ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qp(s.children,t,m,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:l0(u,s.index),routesMeta:m})};return e.forEach((s,l)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,l);else for(let a of Kp(s.path))i(s,l,a)}),t}function Kp(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let l=Kp(n.join("/")),o=[];return o.push(...l.map(a=>a===""?s:[s,a].join("/"))),i&&o.push(...l),o.map(a=>e.startsWith("/")&&a===""?"/":a)}function e0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:a0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const t0=/^:[\w-]+$/,r0=3,n0=2,i0=1,s0=10,o0=-2,_h=e=>e==="*";function l0(e,t){let r=e.split("/"),n=r.length;return r.some(_h)&&(n+=o0),t&&(n+=n0),r.filter(i=>!_h(i)).reduce((i,s)=>i+(t0.test(s)?r0:s===""?i0:s0),n)}function a0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function u0(e,t,r){let{routesMeta:n}=e,i={},s="/",l=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",c=c0({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},m),g=a.route;if(!c)return null;Object.assign(i,c.params),l.push({params:i,pathname:Hr([s,c.pathname]),pathnameBase:_0(Hr([s,c.pathnameBase])),route:g}),c.pathnameBase!=="/"&&(s=Hr([s,c.pathnameBase]))}return l}function c0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=h0(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,m,c)=>{let{paramName:g,isOptional:_}=m;if(g==="*"){let v=o[c]||"";l=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const S=o[c];return _&&!S?u[g]=void 0:u[g]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:l,pattern:e}}function h0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Nu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,a)=>(n.push({paramName:o,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function d0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const f0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p0=e=>f0.test(e);function m0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Nn(e):e,s;if(r)if(p0(r))s=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Nu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?s=vh(r.substring(1),"/"):s=vh(r,t)}else s=t;return{pathname:s,search:v0(n),hash:y0(i)}}function vh(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ml(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gp(e,t){let r=g0(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Jp(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Nn(e):(i=Bi({},e),Ae(!i.pathname||!i.pathname.includes("?"),ml("?","pathname","search",i)),Ae(!i.pathname||!i.pathname.includes("#"),ml("#","pathname","hash",i)),Ae(!i.search||!i.search.includes("#"),ml("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,o;if(l==null)o=r;else{let c=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),c-=1;i.pathname=g.join("/")}o=c>=0?t[c]:"/"}let a=m0(i,o),u=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(u||m)&&(a.pathname+="/"),a}const Hr=e=>e.join("/").replace(/\/\/+/g,"/"),_0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),v0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,y0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qp=["post","put","patch","delete"];new Set(Qp);const w0=["get",...Qp];new Set(w0);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}const ju=K.createContext(null),C0=K.createContext(null),Vi=K.createContext(null),Ao=K.createContext(null),Jr=K.createContext({outlet:null,matches:[],isDataRoute:!1}),Yp=K.createContext(null);function qi(){return K.useContext(Ao)!=null}function Fu(){return qi()||Ae(!1),K.useContext(Ao).location}function Zp(e){K.useContext(Vi).static||K.useLayoutEffect(e)}function Do(){let{isDataRoute:e}=K.useContext(Jr);return e?M0():x0()}function x0(){qi()||Ae(!1);let e=K.useContext(ju),{basename:t,future:r,navigator:n}=K.useContext(Vi),{matches:i}=K.useContext(Jr),{pathname:s}=Fu(),l=JSON.stringify(Gp(i,r.v7_relativeSplatPath)),o=K.useRef(!1);return Zp(()=>{o.current=!0}),K.useCallback(function(u,m){if(m===void 0&&(m={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let c=Jp(u,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Hr([t,c.pathname])),(m.replace?n.replace:n.push)(c,m.state,m)},[t,n,l,s,e])}function k0(e,t){return b0(e,t)}function b0(e,t,r,n){qi()||Ae(!1);let{navigator:i}=K.useContext(Vi),{matches:s}=K.useContext(Jr),l=s[s.length-1],o=l?l.params:{};l&&l.pathname;let a=l?l.pathnameBase:"/";l&&l.route;let u=Fu(),m;if(t){var c;let h=typeof t=="string"?Nn(t):t;a==="/"||(c=h.pathname)!=null&&c.startsWith(a)||Ae(!1),m=h}else m=u;let g=m.pathname||"/",_=g;if(a!=="/"){let h=a.replace(/^\//,"").split("/");_="/"+g.replace(/^\//,"").split("/").slice(h.length).join("/")}let S=Yv(e,{pathname:_}),v=A0(S&&S.map(h=>Object.assign({},h,{params:Object.assign({},o,h.params),pathname:Hr([a,i.encodeLocation?i.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?a:Hr([a,i.encodeLocation?i.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),s,r,n);return t&&v?K.createElement(Ao.Provider,{value:{location:Ni({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:hr.Pop}},v):v}function E0(){let e=I0(),t=S0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),r?K.createElement("pre",{style:i},r):null,null)}const L0=K.createElement(E0,null);class R0 extends K.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?K.createElement(Jr.Provider,{value:this.props.routeContext},K.createElement(Yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T0(e){let{routeContext:t,match:r,children:n}=e,i=K.useContext(ju);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),K.createElement(Jr.Provider,{value:t},n)}function A0(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let m=l.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);m>=0||Ae(!1),l=l.slice(0,Math.min(l.length,m+1))}let a=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<l.length;m++){let c=l[m];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(u=m),c.route.id){let{loaderData:g,errors:_}=r,S=c.route.loader&&g[c.route.id]===void 0&&(!_||_[c.route.id]===void 0);if(c.route.lazy||S){a=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((m,c,g)=>{let _,S=!1,v=null,h=null;r&&(_=o&&c.route.id?o[c.route.id]:void 0,v=c.route.errorElement||L0,a&&(u<0&&g===0?(B0("route-fallback"),S=!0,h=null):u===g&&(S=!0,h=c.route.hydrateFallbackElement||null)));let d=t.concat(l.slice(0,g+1)),f=()=>{let p;return _?p=v:S?p=h:c.route.Component?p=K.createElement(c.route.Component,null):c.route.element?p=c.route.element:p=m,K.createElement(T0,{match:c,routeContext:{outlet:m,matches:d,isDataRoute:r!=null},children:p})};return r&&(c.route.ErrorBoundary||c.route.errorElement||g===0)?K.createElement(R0,{location:r.location,revalidation:r.revalidation,component:v,error:_,children:f(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):f()},null)}var em=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(em||{}),tm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(tm||{});function D0(e){let t=K.useContext(ju);return t||Ae(!1),t}function P0(e){let t=K.useContext(C0);return t||Ae(!1),t}function O0(e){let t=K.useContext(Jr);return t||Ae(!1),t}function rm(e){let t=O0(),r=t.matches[t.matches.length-1];return r.route.id||Ae(!1),r.route.id}function I0(){var e;let t=K.useContext(Yp),r=P0(),n=rm();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function M0(){let{router:e}=D0(em.UseNavigateStable),t=rm(tm.UseNavigateStable),r=K.useRef(!1);return Zp(()=>{r.current=!0}),K.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ni({fromRouteId:t},s)))},[e,t])}const yh={};function B0(e,t,r){yh[e]||(yh[e]=!0)}function N0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Sh(e){let{to:t,replace:r,state:n,relative:i}=e;qi()||Ae(!1);let{future:s,static:l}=K.useContext(Vi),{matches:o}=K.useContext(Jr),{pathname:a}=Fu(),u=Do(),m=Jp(t,Gp(o,s.v7_relativeSplatPath),a,i==="path"),c=JSON.stringify(m);return K.useEffect(()=>u(JSON.parse(c),{replace:r,state:n,relative:i}),[u,c,i,r,n]),null}function oi(e){Ae(!1)}function j0(e){let{basename:t="/",children:r=null,location:n,navigationType:i=hr.Pop,navigator:s,static:l=!1,future:o}=e;qi()&&Ae(!1);let a=t.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:a,navigator:s,static:l,future:Ni({v7_relativeSplatPath:!1},o)}),[a,o,s,l]);typeof n=="string"&&(n=Nn(n));let{pathname:m="/",search:c="",hash:g="",state:_=null,key:S="default"}=n,v=K.useMemo(()=>{let h=Xp(m,a);return h==null?null:{location:{pathname:h,search:c,hash:g,state:_,key:S},navigationType:i}},[a,m,c,g,_,S,i]);return v==null?null:K.createElement(Vi.Provider,{value:u},K.createElement(Ao.Provider,{children:r,value:v}))}function F0(e){let{children:t,location:r}=e;return k0(ba(t),r)}new Promise(()=>{});function ba(e,t){t===void 0&&(t=[]);let r=[];return K.Children.forEach(e,(n,i)=>{if(!K.isValidElement(n))return;let s=[...t,i];if(n.type===K.Fragment){r.push.apply(r,ba(n.props.children,s));return}n.type!==oi&&Ae(!1),!n.props.index||!n.props.children||Ae(!1);let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=ba(n.props.children,s)),r.push(l)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const H0="6";try{window.__reactRouterVersion=H0}catch{}const z0="startTransition",wh=Ng[z0];function U0(e){let{basename:t,children:r,future:n,window:i}=e,s=K.useRef();s.current==null&&(s.current=Gv({window:i,v5Compat:!0}));let l=s.current,[o,a]=K.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},m=K.useCallback(c=>{u&&wh?wh(()=>a(c)):a(c)},[a,u]);return K.useLayoutEffect(()=>l.listen(m),[l,m]),K.useEffect(()=>N0(n),[n]),K.createElement(j0,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}var Ch;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ch||(Ch={}));var xh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xh||(xh={}));const W0={},kh=e=>{let t;const r=new Set,n=(m,c)=>{const g=typeof m=="function"?m(t):m;if(!Object.is(g,t)){const _=t;t=c??(typeof g!="object"||g===null)?g:Object.assign({},t,g),r.forEach(S=>S(t,_))}},i=()=>t,a={setState:n,getState:i,getInitialState:()=>u,subscribe:m=>(r.add(m),()=>r.delete(m)),destroy:()=>{(W0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,i,a);return a},$0=e=>e?kh(e):kh;var nm={exports:{}},im={},sm={exports:{}},om={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pn=K;function V0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var q0=typeof Object.is=="function"?Object.is:V0,K0=Pn.useState,X0=Pn.useEffect,G0=Pn.useLayoutEffect,J0=Pn.useDebugValue;function Q0(e,t){var r=t(),n=K0({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return G0(function(){i.value=r,i.getSnapshot=t,gl(i)&&s({inst:i})},[e,r,t]),X0(function(){return gl(i)&&s({inst:i}),e(function(){gl(i)&&s({inst:i})})},[e]),J0(r),r}function gl(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!q0(e,r)}catch{return!0}}function Y0(e,t){return t()}var Z0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Y0:Q0;om.useSyncExternalStore=Pn.useSyncExternalStore!==void 0?Pn.useSyncExternalStore:Z0;sm.exports=om;var ey=sm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=K,ty=ey;function ry(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ny=typeof Object.is=="function"?Object.is:ry,iy=ty.useSyncExternalStore,sy=Po.useRef,oy=Po.useEffect,ly=Po.useMemo,ay=Po.useDebugValue;im.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=sy(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=ly(function(){function a(_){if(!u){if(u=!0,m=_,_=n(_),i!==void 0&&l.hasValue){var S=l.value;if(i(S,_))return c=S}return c=_}if(S=c,ny(m,_))return S;var v=n(_);return i!==void 0&&i(S,v)?(m=_,S):(m=_,c=v)}var u=!1,m,c,g=r===void 0?null:r;return[function(){return a(t())},g===null?void 0:function(){return a(g())}]},[t,r,n,i]);var o=iy(e,s[0],s[1]);return oy(function(){l.hasValue=!0,l.value=o},[o]),ay(o),o};nm.exports=im;var uy=nm.exports;const cy=fo(uy),lm={},{useDebugValue:hy}=qa,{useSyncExternalStoreWithSelector:dy}=cy;let bh=!1;const fy=e=>e;function py(e,t=fy,r){(lm?"production":void 0)!=="production"&&r&&!bh&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),bh=!0);const n=dy(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return hy(n),n}const my=e=>{(lm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?$0(e):e,r=(n,i)=>py(t,n,i);return Object.assign(r,t),r},gy=e=>my,_y={};function vy(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var s;const l=a=>a===null?null:JSON.parse(a,void 0),o=(s=r.getItem(i))!=null?s:null;return o instanceof Promise?o.then(l):l(o)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const ji=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return ji(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return ji(n)(r)}}}},yy=(e,t)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:h=>h,version:0,merge:(h,d)=>({...d,...h}),...t},l=!1;const o=new Set,a=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return e((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...h)},n,i);const m=ji(s.serialize),c=()=>{const h=s.partialize({...n()});let d;const f=m({state:h,version:s.version}).then(p=>u.setItem(s.name,p)).catch(p=>{d=p});if(d)throw d;return f},g=i.setState;i.setState=(h,d)=>{g(h,d),c()};const _=e((...h)=>{r(...h),c()},n,i);let S;const v=()=>{var h;if(!u)return;l=!1,o.forEach(f=>f(n()));const d=((h=s.onRehydrateStorage)==null?void 0:h.call(s,n()))||void 0;return ji(u.getItem.bind(u))(s.name).then(f=>{if(f)return s.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==s.version){if(s.migrate)return s.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var p;return S=s.merge(f,(p=n())!=null?p:_),r(S,!0),c()}).then(()=>{d==null||d(S,void 0),l=!0,a.forEach(f=>f(S))}).catch(f=>{d==null||d(void 0,f)})};return i.persist={setOptions:h=>{s={...s,...h},h.getStorage&&(u=h.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>l,onHydrate:h=>(o.add(h),()=>{o.delete(h)}),onFinishHydration:h=>(a.add(h),()=>{a.delete(h)})},v(),S||_},Sy=(e,t)=>(r,n,i)=>{let s={storage:vy(()=>localStorage),partialize:v=>v,version:0,merge:(v,h)=>({...h,...v}),...t},l=!1;const o=new Set,a=new Set;let u=s.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...v)},n,i);const m=()=>{const v=s.partialize({...n()});return u.setItem(s.name,{state:v,version:s.version})},c=i.setState;i.setState=(v,h)=>{c(v,h),m()};const g=e((...v)=>{r(...v),m()},n,i);i.getInitialState=()=>g;let _;const S=()=>{var v,h;if(!u)return;l=!1,o.forEach(f=>{var p;return f((p=n())!=null?p:g)});const d=((h=s.onRehydrateStorage)==null?void 0:h.call(s,(v=n())!=null?v:g))||void 0;return ji(u.getItem.bind(u))(s.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==s.version){if(s.migrate)return[!0,s.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var p;const[y,C]=f;if(_=s.merge(C,(p=n())!=null?p:g),r(_,!0),y)return m()}).then(()=>{d==null||d(_,void 0),_=n(),l=!0,a.forEach(f=>f(_))}).catch(f=>{d==null||d(void 0,f)})};return i.persist={setOptions:v=>{s={...s,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>S(),hasHydrated:()=>l,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(a.add(v),()=>{a.delete(v)})},s.skipHydration||S(),_||g},wy=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((_y?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),yy(e,t)):Sy(e,t),Cy=wy,Oo=gy()(Cy(e=>({llmConfig:null,runtimeConfig:null,sessionId:null,isConfigured:!1,setLLMConfig:t=>e({llmConfig:t}),setRuntimeConfig:t=>e({runtimeConfig:t}),setSessionId:t=>e({sessionId:t}),setConfigured:t=>e({isConfigured:t}),reset:()=>e({llmConfig:null,runtimeConfig:null,sessionId:null,isConfigured:!1})}),{name:"ai-engineer-config"}));function am(e,t){return function(){return e.apply(t,arguments)}}const{toString:xy}=Object.prototype,{getPrototypeOf:Hu}=Object,{iterator:Io,toStringTag:um}=Symbol,Mo=(e=>t=>{const r=xy.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),It=e=>(e=e.toLowerCase(),t=>Mo(t)===e),Bo=e=>t=>typeof t===e,{isArray:jn}=Array,On=Bo("undefined");function Ki(e){return e!==null&&!On(e)&&e.constructor!==null&&!On(e.constructor)&&it(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const cm=It("ArrayBuffer");function ky(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cm(e.buffer),t}const by=Bo("string"),it=Bo("function"),hm=Bo("number"),Xi=e=>e!==null&&typeof e=="object",Ey=e=>e===!0||e===!1,Os=e=>{if(Mo(e)!=="object")return!1;const t=Hu(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(um in e)&&!(Io in e)},Ly=e=>{if(!Xi(e)||Ki(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ry=It("Date"),Ty=It("File"),Ay=It("Blob"),Dy=It("FileList"),Py=e=>Xi(e)&&it(e.pipe),Oy=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||it(e.append)&&((t=Mo(e))==="formdata"||t==="object"&&it(e.toString)&&e.toString()==="[object FormData]"))},Iy=It("URLSearchParams"),[My,By,Ny,jy]=["ReadableStream","Request","Response","Headers"].map(It),Fy=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gi(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),jn(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Ki(e))return;const s=r?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let o;for(n=0;n<l;n++)o=s[n],t.call(null,e[o],o,e)}}function dm(e,t){if(Ki(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fm=e=>!On(e)&&e!==Br;function Ea(){const{caseless:e,skipUndefined:t}=fm(this)&&this||{},r={},n=(i,s)=>{const l=e&&dm(r,s)||s;Os(r[l])&&Os(i)?r[l]=Ea(r[l],i):Os(i)?r[l]=Ea({},i):jn(i)?r[l]=i.slice():(!t||!On(i))&&(r[l]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Gi(arguments[i],n);return r}const Hy=(e,t,r,{allOwnKeys:n}={})=>(Gi(t,(i,s)=>{r&&it(i)?e[s]=am(i,r):e[s]=i},{allOwnKeys:n}),e),zy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Uy=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Wy=(e,t,r,n)=>{let i,s,l;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)l=i[s],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=r!==!1&&Hu(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},$y=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Vy=e=>{if(!e)return null;if(jn(e))return e;let t=e.length;if(!hm(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},qy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hu(Uint8Array)),Ky=(e,t)=>{const n=(e&&e[Io]).call(e);let i;for(;(i=n.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},Xy=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Gy=It("HTMLFormElement"),Jy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Eh=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Qy=It("RegExp"),pm=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Gi(r,(i,s)=>{let l;(l=t(i,s,e))!==!1&&(n[s]=l||i)}),Object.defineProperties(e,n)},Yy=e=>{pm(e,(t,r)=>{if(it(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(it(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Zy=(e,t)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return jn(e)?n(e):n(String(e).split(t)),r},e1=()=>{},t1=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function r1(e){return!!(e&&it(e.append)&&e[um]==="FormData"&&e[Io])}const n1=e=>{const t=new Array(10),r=(n,i)=>{if(Xi(n)){if(t.indexOf(n)>=0)return;if(Ki(n))return n;if(!("toJSON"in n)){t[i]=n;const s=jn(n)?[]:{};return Gi(n,(l,o)=>{const a=r(l,i+1);!On(a)&&(s[o]=a)}),t[i]=void 0,s}}return n};return r(e,0)},i1=It("AsyncFunction"),s1=e=>e&&(Xi(e)||it(e))&&it(e.then)&&it(e.catch),mm=((e,t)=>e?setImmediate:t?((r,n)=>(Br.addEventListener("message",({source:i,data:s})=>{i===Br&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Br.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",it(Br.postMessage)),o1=typeof queueMicrotask<"u"?queueMicrotask.bind(Br):typeof process<"u"&&process.nextTick||mm,l1=e=>e!=null&&it(e[Io]),z={isArray:jn,isArrayBuffer:cm,isBuffer:Ki,isFormData:Oy,isArrayBufferView:ky,isString:by,isNumber:hm,isBoolean:Ey,isObject:Xi,isPlainObject:Os,isEmptyObject:Ly,isReadableStream:My,isRequest:By,isResponse:Ny,isHeaders:jy,isUndefined:On,isDate:Ry,isFile:Ty,isBlob:Ay,isRegExp:Qy,isFunction:it,isStream:Py,isURLSearchParams:Iy,isTypedArray:qy,isFileList:Dy,forEach:Gi,merge:Ea,extend:Hy,trim:Fy,stripBOM:zy,inherits:Uy,toFlatObject:Wy,kindOf:Mo,kindOfTest:It,endsWith:$y,toArray:Vy,forEachEntry:Ky,matchAll:Xy,isHTMLForm:Gy,hasOwnProperty:Eh,hasOwnProp:Eh,reduceDescriptors:pm,freezeMethods:Yy,toObjectSet:Zy,toCamelCase:Jy,noop:e1,toFiniteNumber:t1,findKey:dm,global:Br,isContextDefined:fm,isSpecCompliantForm:r1,toJSONObject:n1,isAsyncFn:i1,isThenable:s1,setImmediate:mm,asap:o1,isIterable:l1};function se(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}z.inherits(se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});const gm=se.prototype,_m={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_m[e]={value:e}});Object.defineProperties(se,_m);Object.defineProperty(gm,"isAxiosError",{value:!0});se.from=(e,t,r,n,i,s)=>{const l=Object.create(gm);z.toFlatObject(e,l,function(m){return m!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",a=t==null&&e?e.code:t;return se.call(l,o,a,r,n,i),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",s&&Object.assign(l,s),l};const a1=null;function La(e){return z.isPlainObject(e)||z.isArray(e)}function vm(e){return z.endsWith(e,"[]")?e.slice(0,-2):e}function Lh(e,t,r){return e?e.concat(t).map(function(i,s){return i=vm(i),!r&&s?"["+i+"]":i}).join(r?".":""):t}function u1(e){return z.isArray(e)&&!e.some(La)}const c1=z.toFlatObject(z,{},null,function(t){return/^is[A-Z]/.test(t)});function No(e,t,r){if(!z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,h){return!z.isUndefined(h[v])});const n=r.metaTokens,i=r.visitor||m,s=r.dots,l=r.indexes,a=(r.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(t);if(!z.isFunction(i))throw new TypeError("visitor must be a function");function u(S){if(S===null)return"";if(z.isDate(S))return S.toISOString();if(z.isBoolean(S))return S.toString();if(!a&&z.isBlob(S))throw new se("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(S)||z.isTypedArray(S)?a&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,v,h){let d=S;if(S&&!h&&typeof S=="object"){if(z.endsWith(v,"{}"))v=n?v:v.slice(0,-2),S=JSON.stringify(S);else if(z.isArray(S)&&u1(S)||(z.isFileList(S)||z.endsWith(v,"[]"))&&(d=z.toArray(S)))return v=vm(v),d.forEach(function(p,y){!(z.isUndefined(p)||p===null)&&t.append(l===!0?Lh([v],y,s):l===null?v:v+"[]",u(p))}),!1}return La(S)?!0:(t.append(Lh(h,v,s),u(S)),!1)}const c=[],g=Object.assign(c1,{defaultVisitor:m,convertValue:u,isVisitable:La});function _(S,v){if(!z.isUndefined(S)){if(c.indexOf(S)!==-1)throw Error("Circular reference detected in "+v.join("."));c.push(S),z.forEach(S,function(d,f){(!(z.isUndefined(d)||d===null)&&i.call(t,d,z.isString(f)?f.trim():f,v,g))===!0&&_(d,v?v.concat(f):[f])}),c.pop()}}if(!z.isObject(e))throw new TypeError("data must be an object");return _(e),t}function Rh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function zu(e,t){this._pairs=[],e&&No(e,this,t)}const ym=zu.prototype;ym.append=function(t,r){this._pairs.push([t,r])};ym.toString=function(t){const r=t?function(n){return t.call(this,n,Rh)}:Rh;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function h1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sm(e,t,r){if(!t)return e;const n=r&&r.encode||h1;z.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(t,r):s=z.isURLSearchParams(t)?t.toString():new zu(t,r).toString(n),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class Th{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){z.forEach(this.handlers,function(n){n!==null&&t(n)})}}const wm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},d1=typeof URLSearchParams<"u"?URLSearchParams:zu,f1=typeof FormData<"u"?FormData:null,p1=typeof Blob<"u"?Blob:null,m1={isBrowser:!0,classes:{URLSearchParams:d1,FormData:f1,Blob:p1},protocols:["http","https","file","blob","url","data"]},Uu=typeof window<"u"&&typeof document<"u",Ra=typeof navigator=="object"&&navigator||void 0,g1=Uu&&(!Ra||["ReactNative","NativeScript","NS"].indexOf(Ra.product)<0),_1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",v1=Uu&&window.location.href||"http://localhost",y1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uu,hasStandardBrowserEnv:g1,hasStandardBrowserWebWorkerEnv:_1,navigator:Ra,origin:v1},Symbol.toStringTag,{value:"Module"})),$e={...y1,...m1};function S1(e,t){return No(e,new $e.classes.URLSearchParams,{visitor:function(r,n,i,s){return $e.isNode&&z.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function w1(e){return z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function C1(e){const t={},r=Object.keys(e);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],t[s]=e[s];return t}function Cm(e){function t(r,n,i,s){let l=r[s++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),a=s>=r.length;return l=!l&&z.isArray(i)?i.length:l,a?(z.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!o):((!i[l]||!z.isObject(i[l]))&&(i[l]=[]),t(r,n,i[l],s)&&z.isArray(i[l])&&(i[l]=C1(i[l])),!o)}if(z.isFormData(e)&&z.isFunction(e.entries)){const r={};return z.forEachEntry(e,(n,i)=>{t(w1(n),i,r,0)}),r}return null}function x1(e,t,r){if(z.isString(e))try{return(t||JSON.parse)(e),z.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ji={transitional:wm,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=z.isObject(t);if(s&&z.isHTMLForm(t)&&(t=new FormData(t)),z.isFormData(t))return i?JSON.stringify(Cm(t)):t;if(z.isArrayBuffer(t)||z.isBuffer(t)||z.isStream(t)||z.isFile(t)||z.isBlob(t)||z.isReadableStream(t))return t;if(z.isArrayBufferView(t))return t.buffer;if(z.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return S1(t,this.formSerializer).toString();if((o=z.isFileList(t))||n.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return No(o?{"files[]":t}:t,a&&new a,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),x1(t)):t}],transformResponse:[function(t){const r=this.transitional||Ji.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(z.isResponse(t)||z.isReadableStream(t))return t;if(t&&z.isString(t)&&(n&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?se.from(o,se.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],e=>{Ji.headers[e]={}});const k1=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b1=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!r||t[r]&&k1[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Ah=Symbol("internals");function Zn(e){return e&&String(e).trim().toLowerCase()}function Is(e){return e===!1||e==null?e:z.isArray(e)?e.map(Is):String(e)}function E1(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const L1=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _l(e,t,r,n,i){if(z.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!z.isString(t)){if(z.isString(n))return t.indexOf(n)!==-1;if(z.isRegExp(n))return n.test(t)}}function R1(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function T1(e,t){const r=z.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,s,l){return this[n].call(this,t,i,s,l)},configurable:!0})})}let st=class{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function s(o,a,u){const m=Zn(a);if(!m)throw new Error("header name must be a non-empty string");const c=z.findKey(i,m);(!c||i[c]===void 0||u===!0||u===void 0&&i[c]!==!1)&&(i[c||a]=Is(o))}const l=(o,a)=>z.forEach(o,(u,m)=>s(u,m,a));if(z.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(z.isString(t)&&(t=t.trim())&&!L1(t))l(b1(t),r);else if(z.isObject(t)&&z.isIterable(t)){let o={},a,u;for(const m of t){if(!z.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[u=m[0]]=(a=o[u])?z.isArray(a)?[...a,m[1]]:[a,m[1]]:m[1]}l(o,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=Zn(t),t){const n=z.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return E1(i);if(z.isFunction(r))return r.call(this,i,n);if(z.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Zn(t),t){const n=z.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||_l(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function s(l){if(l=Zn(l),l){const o=z.findKey(n,l);o&&(!r||_l(n,n[o],o,r))&&(delete n[o],i=!0)}}return z.isArray(t)?t.forEach(s):s(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!t||_l(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const r=this,n={};return z.forEach(this,(i,s)=>{const l=z.findKey(n,s);if(l){r[l]=Is(i),delete r[s];return}const o=t?R1(s):String(s).trim();o!==s&&delete r[s],r[o]=Is(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return z.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&z.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Ah]=this[Ah]={accessors:{}}).accessors,i=this.prototype;function s(l){const o=Zn(l);n[o]||(T1(i,l),n[o]=!0)}return z.isArray(t)?t.forEach(s):s(t),this}};st.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(st.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});z.freezeMethods(st);function vl(e,t){const r=this||Ji,n=t||r,i=st.from(n.headers);let s=n.data;return z.forEach(e,function(o){s=o.call(r,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function xm(e){return!!(e&&e.__CANCEL__)}function Fn(e,t,r){se.call(this,e??"canceled",se.ERR_CANCELED,t,r),this.name="CanceledError"}z.inherits(Fn,se,{__CANCEL__:!0});function km(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new se("Request failed with status code "+r.status,[se.ERR_BAD_REQUEST,se.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function A1(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function D1(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,s=0,l;return t=t!==void 0?t:1e3,function(a){const u=Date.now(),m=n[s];l||(l=u),r[i]=a,n[i]=u;let c=s,g=0;for(;c!==i;)g+=r[c++],c=c%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-l<t)return;const _=m&&u-m;return _?Math.round(g*1e3/_):void 0}}function P1(e,t){let r=0,n=1e3/t,i,s;const l=(u,m=Date.now())=>{r=m,i=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const m=Date.now(),c=m-r;c>=n?l(u,m):(i=u,s||(s=setTimeout(()=>{s=null,l(i)},n-c)))},()=>i&&l(i)]}const uo=(e,t,r=3)=>{let n=0;const i=D1(50,250);return P1(s=>{const l=s.loaded,o=s.lengthComputable?s.total:void 0,a=l-n,u=i(a),m=l<=o;n=l;const c={loaded:l,total:o,progress:o?l/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&m?(o-l)/u:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(c)},r)},Dh=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Ph=e=>(...t)=>z.asap(()=>e(...t)),O1=$e.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,$e.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL($e.origin),$e.navigator&&/(msie|trident)/i.test($e.navigator.userAgent)):()=>!0,I1=$e.hasStandardBrowserEnv?{write(e,t,r,n,i,s,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];z.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),z.isString(n)&&o.push(`path=${n}`),z.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),z.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function M1(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function B1(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bm(e,t,r){let n=!M1(t);return e&&(n||r==!1)?B1(e,t):t}const Oh=e=>e instanceof st?{...e}:e;function Kr(e,t){t=t||{};const r={};function n(u,m,c,g){return z.isPlainObject(u)&&z.isPlainObject(m)?z.merge.call({caseless:g},u,m):z.isPlainObject(m)?z.merge({},m):z.isArray(m)?m.slice():m}function i(u,m,c,g){if(z.isUndefined(m)){if(!z.isUndefined(u))return n(void 0,u,c,g)}else return n(u,m,c,g)}function s(u,m){if(!z.isUndefined(m))return n(void 0,m)}function l(u,m){if(z.isUndefined(m)){if(!z.isUndefined(u))return n(void 0,u)}else return n(void 0,m)}function o(u,m,c){if(c in t)return n(u,m);if(c in e)return n(void 0,u)}const a={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(u,m,c)=>i(Oh(u),Oh(m),c,!0)};return z.forEach(Object.keys({...e,...t}),function(m){const c=a[m]||i,g=c(e[m],t[m],m);z.isUndefined(g)&&c!==o||(r[m]=g)}),r}const Em=e=>{const t=Kr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:o}=t;if(t.headers=l=st.from(l),t.url=Sm(bm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),z.isFormData(r)){if($e.hasStandardBrowserEnv||$e.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(z.isFunction(r.getHeaders)){const a=r.getHeaders(),u=["content-type","content-length"];Object.entries(a).forEach(([m,c])=>{u.includes(m.toLowerCase())&&l.set(m,c)})}}if($e.hasStandardBrowserEnv&&(n&&z.isFunction(n)&&(n=n(t)),n||n!==!1&&O1(t.url))){const a=i&&s&&I1.read(s);a&&l.set(i,a)}return t},N1=typeof XMLHttpRequest<"u",j1=N1&&function(e){return new Promise(function(r,n){const i=Em(e);let s=i.data;const l=st.from(i.headers).normalize();let{responseType:o,onUploadProgress:a,onDownloadProgress:u}=i,m,c,g,_,S;function v(){_&&_(),S&&S(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let h=new XMLHttpRequest;h.open(i.method.toUpperCase(),i.url,!0),h.timeout=i.timeout;function d(){if(!h)return;const p=st.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),C={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:p,config:e,request:h};km(function(b){r(b),v()},function(b){n(b),v()},C),h=null}"onloadend"in h?h.onloadend=d:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(d)},h.onabort=function(){h&&(n(new se("Request aborted",se.ECONNABORTED,e,h)),h=null)},h.onerror=function(y){const C=y&&y.message?y.message:"Network Error",x=new se(C,se.ERR_NETWORK,e,h);x.event=y||null,n(x),h=null},h.ontimeout=function(){let y=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||wm;i.timeoutErrorMessage&&(y=i.timeoutErrorMessage),n(new se(y,C.clarifyTimeoutError?se.ETIMEDOUT:se.ECONNABORTED,e,h)),h=null},s===void 0&&l.setContentType(null),"setRequestHeader"in h&&z.forEach(l.toJSON(),function(y,C){h.setRequestHeader(C,y)}),z.isUndefined(i.withCredentials)||(h.withCredentials=!!i.withCredentials),o&&o!=="json"&&(h.responseType=i.responseType),u&&([g,S]=uo(u,!0),h.addEventListener("progress",g)),a&&h.upload&&([c,_]=uo(a),h.upload.addEventListener("progress",c),h.upload.addEventListener("loadend",_)),(i.cancelToken||i.signal)&&(m=p=>{h&&(n(!p||p.type?new Fn(null,e,h):p),h.abort(),h=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const f=A1(i.url);if(f&&$e.protocols.indexOf(f)===-1){n(new se("Unsupported protocol "+f+":",se.ERR_BAD_REQUEST,e));return}h.send(s||null)})},F1=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const m=u instanceof Error?u:this.reason;n.abort(m instanceof se?m:new Fn(m instanceof Error?m.message:m))}};let l=t&&setTimeout(()=>{l=null,s(new se(`timeout ${t} of ms exceeded`,se.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:a}=n;return a.unsubscribe=()=>z.asap(o),a}},H1=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},z1=async function*(e,t){for await(const r of U1(e))yield*H1(r,t)},U1=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Ih=(e,t,r,n)=>{const i=z1(e,t);let s=0,l,o=a=>{l||(l=!0,n&&n(a))};return new ReadableStream({async pull(a){try{const{done:u,value:m}=await i.next();if(u){o(),a.close();return}let c=m.byteLength;if(r){let g=s+=c;r(g)}a.enqueue(new Uint8Array(m))}catch(u){throw o(u),u}},cancel(a){return o(a),i.return()}},{highWaterMark:2})},Mh=64*1024,{isFunction:_s}=z,W1=(({Request:e,Response:t})=>({Request:e,Response:t}))(z.global),{ReadableStream:Bh,TextEncoder:Nh}=z.global,jh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},$1=e=>{e=z.merge.call({skipUndefined:!0},W1,e);const{fetch:t,Request:r,Response:n}=e,i=t?_s(t):typeof fetch=="function",s=_s(r),l=_s(n);if(!i)return!1;const o=i&&_s(Bh),a=i&&(typeof Nh=="function"?(S=>v=>S.encode(v))(new Nh):async S=>new Uint8Array(await new r(S).arrayBuffer())),u=s&&o&&jh(()=>{let S=!1;const v=new r($e.origin,{body:new Bh,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!v}),m=l&&o&&jh(()=>z.isReadableStream(new n("").body)),c={stream:m&&(S=>S.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!c[S]&&(c[S]=(v,h)=>{let d=v&&v[S];if(d)return d.call(v);throw new se(`Response type '${S}' is not supported`,se.ERR_NOT_SUPPORT,h)})});const g=async S=>{if(S==null)return 0;if(z.isBlob(S))return S.size;if(z.isSpecCompliantForm(S))return(await new r($e.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(z.isArrayBufferView(S)||z.isArrayBuffer(S))return S.byteLength;if(z.isURLSearchParams(S)&&(S=S+""),z.isString(S))return(await a(S)).byteLength},_=async(S,v)=>{const h=z.toFiniteNumber(S.getContentLength());return h??g(v)};return async S=>{let{url:v,method:h,data:d,signal:f,cancelToken:p,timeout:y,onDownloadProgress:C,onUploadProgress:x,responseType:b,headers:w,withCredentials:E="same-origin",fetchOptions:D}=Em(S),P=t||fetch;b=b?(b+"").toLowerCase():"text";let A=F1([f,p&&p.toAbortSignal()],y),B=null;const j=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let H;try{if(x&&u&&h!=="get"&&h!=="head"&&(H=await _(w,d))!==0){let O=new r(v,{method:"POST",body:d,duplex:"half"}),F;if(z.isFormData(d)&&(F=O.headers.get("content-type"))&&w.setContentType(F),O.body){const[M,Q]=Dh(H,uo(Ph(x)));d=Ih(O.body,Mh,M,Q)}}z.isString(E)||(E=E?"include":"omit");const U=s&&"credentials"in r.prototype,W={...D,signal:A,method:h.toUpperCase(),headers:w.normalize().toJSON(),body:d,duplex:"half",credentials:U?E:void 0};B=s&&new r(v,W);let L=await(s?P(B,D):P(v,W));const I=m&&(b==="stream"||b==="response");if(m&&(C||I&&j)){const O={};["status","statusText","headers"].forEach(Y=>{O[Y]=L[Y]});const F=z.toFiniteNumber(L.headers.get("content-length")),[M,Q]=C&&Dh(F,uo(Ph(C),!0))||[];L=new n(Ih(L.body,Mh,M,()=>{Q&&Q(),j&&j()}),O)}b=b||"text";let k=await c[z.findKey(c,b)||"text"](L,S);return!I&&j&&j(),await new Promise((O,F)=>{km(O,F,{data:k,headers:st.from(L.headers),status:L.status,statusText:L.statusText,config:S,request:B})})}catch(U){throw j&&j(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new se("Network Error",se.ERR_NETWORK,S,B),{cause:U.cause||U}):se.from(U,U&&U.code,S,B)}}},V1=new Map,Lm=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:i}=t,s=[n,i,r];let l=s.length,o=l,a,u,m=V1;for(;o--;)a=s[o],u=m.get(a),u===void 0&&m.set(a,u=o?new Map:$1(t)),m=u;return u};Lm();const Wu={http:a1,xhr:j1,fetch:{get:Lm}};z.forEach(Wu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Fh=e=>`- ${e}`,q1=e=>z.isFunction(e)||e===null||e===!1;function K1(e,t){e=z.isArray(e)?e:[e];const{length:r}=e;let n,i;const s={};for(let l=0;l<r;l++){n=e[l];let o;if(i=n,!q1(n)&&(i=Wu[(o=String(n)).toLowerCase()],i===void 0))throw new se(`Unknown adapter '${o}'`);if(i&&(z.isFunction(i)||(i=i.get(t))))break;s[o||"#"+l]=i}if(!i){const l=Object.entries(s).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(Fh).join(`
`):" "+Fh(l[0]):"as no adapter specified";throw new se("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const Rm={getAdapter:K1,adapters:Wu};function yl(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fn(null,e)}function Hh(e){return yl(e),e.headers=st.from(e.headers),e.data=vl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Rm.getAdapter(e.adapter||Ji.adapter,e)(e).then(function(n){return yl(e),n.data=vl.call(e,e.transformResponse,n),n.headers=st.from(n.headers),n},function(n){return xm(n)||(yl(e),n&&n.response&&(n.response.data=vl.call(e,e.transformResponse,n.response),n.response.headers=st.from(n.response.headers))),Promise.reject(n)})}const Tm="1.13.2",jo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{jo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const zh={};jo.transitional=function(t,r,n){function i(s,l){return"[Axios v"+Tm+"] Transitional option '"+s+"'"+l+(n?". "+n:"")}return(s,l,o)=>{if(t===!1)throw new se(i(l," has been removed"+(r?" in "+r:"")),se.ERR_DEPRECATED);return r&&!zh[l]&&(zh[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,l,o):!0}};jo.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function X1(e,t,r){if(typeof e!="object")throw new se("options must be an object",se.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const s=n[i],l=t[s];if(l){const o=e[s],a=o===void 0||l(o,s,e);if(a!==!0)throw new se("option "+s+" must be "+a,se.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new se("Unknown option "+s,se.ERR_BAD_OPTION)}}const Ms={assertOptions:X1,validators:jo},Bt=Ms.validators;let zr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Th,response:new Th}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Kr(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Ms.assertOptions(n,{silentJSONParsing:Bt.transitional(Bt.boolean),forcedJSONParsing:Bt.transitional(Bt.boolean),clarifyTimeoutError:Bt.transitional(Bt.boolean)},!1),i!=null&&(z.isFunction(i)?r.paramsSerializer={serialize:i}:Ms.assertOptions(i,{encode:Bt.function,serialize:Bt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ms.assertOptions(r,{baseUrl:Bt.spelling("baseURL"),withXsrfToken:Bt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=s&&z.merge(s.common,s[r.method]);s&&z.forEach(["delete","get","head","post","put","patch","common"],S=>{delete s[S]}),r.headers=st.concat(l,s);const o=[];let a=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(a=a&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let m,c=0,g;if(!a){const S=[Hh.bind(this),void 0];for(S.unshift(...o),S.push(...u),g=S.length,m=Promise.resolve(r);c<g;)m=m.then(S[c++],S[c++]);return m}g=o.length;let _=r;for(;c<g;){const S=o[c++],v=o[c++];try{_=S(_)}catch(h){v.call(this,h);break}}try{m=Hh.call(this,_)}catch(S){return Promise.reject(S)}for(c=0,g=u.length;c<g;)m=m.then(u[c++],u[c++]);return m}getUri(t){t=Kr(this.defaults,t);const r=bm(t.baseURL,t.url,t.allowAbsoluteUrls);return Sm(r,t.params,t.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(t){zr.prototype[t]=function(r,n){return this.request(Kr(n||{},{method:t,url:r,data:(n||{}).data}))}});z.forEach(["post","put","patch"],function(t){function r(n){return function(s,l,o){return this.request(Kr(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}zr.prototype[t]=r(),zr.prototype[t+"Form"]=r(!0)});let G1=class Am{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(o=>{n.subscribe(o),s=o}).then(i);return l.cancel=function(){n.unsubscribe(s)},l},t(function(s,l,o){n.reason||(n.reason=new Fn(s,l,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Am(function(i){t=i}),cancel:t}}};function J1(e){return function(r){return e.apply(null,r)}}function Q1(e){return z.isObject(e)&&e.isAxiosError===!0}const Ta={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ta).forEach(([e,t])=>{Ta[t]=e});function Dm(e){const t=new zr(e),r=am(zr.prototype.request,t);return z.extend(r,zr.prototype,t,{allOwnKeys:!0}),z.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return Dm(Kr(e,i))},r}const Le=Dm(Ji);Le.Axios=zr;Le.CanceledError=Fn;Le.CancelToken=G1;Le.isCancel=xm;Le.VERSION=Tm;Le.toFormData=No;Le.AxiosError=se;Le.Cancel=Le.CanceledError;Le.all=function(t){return Promise.all(t)};Le.spread=J1;Le.isAxiosError=Q1;Le.mergeConfig=Kr;Le.AxiosHeaders=st;Le.formToJSON=e=>Cm(z.isHTMLForm(e)?new FormData(e):e);Le.getAdapter=Rm.getAdapter;Le.HttpStatusCode=Ta;Le.default=Le;const{Axios:hb,AxiosError:db,CanceledError:fb,isCancel:pb,CancelToken:mb,VERSION:gb,all:_b,Cancel:vb,isAxiosError:yb,spread:Sb,toFormData:wb,AxiosHeaders:Cb,HttpStatusCode:xb,formToJSON:kb,getAdapter:bb,mergeConfig:Eb}=Le,Y1="",Qi=Le.create({baseURL:Y1,headers:{"Content-Type":"application/json"}}),Z1=async()=>(await Qi.get("/api/providers/runtime")).data,eS=async(e,t)=>(await Qi.post("/api/health-check",{llm_config:e,runtime_config:t})).data,tS=async e=>(await Qi.post("/api/sessions",e)).data,rS=async e=>(await Qi.delete(`/api/sessions/${e}`)).data,nS=async e=>(await Qi.post(`/api/sessions/${e}/stop`)).data;function Pm(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Pm(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ot(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Pm(e))&&(n&&(n+=" "),n+=t);return n}function zt({children:e,variant:t="primary",size:r="md",loading:n=!1,className:i,disabled:s,...l}){return T.jsxs("button",{className:ot("inline-flex items-center justify-center rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",{"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500":t==="primary","bg-gray-100 text-gray-900 hover:bg-gray-200 focus:ring-gray-500":t==="secondary","bg-red-600 text-white hover:bg-red-700 focus:ring-red-500":t==="danger","bg-transparent text-gray-700 hover:bg-gray-100 focus:ring-gray-500":t==="ghost","px-3 py-1.5 text-sm":r==="sm","px-4 py-2 text-base":r==="md","px-6 py-3 text-lg":r==="lg"},i),disabled:s||n,...l,children:[n&&T.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e]})}const Dr=K.forwardRef(({label:e,error:t,hint:r,className:n,...i},s)=>T.jsxs("div",{className:"space-y-1",children:[e&&T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),T.jsx("input",{ref:s,className:ot("w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 transition-colors",t?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500",i.disabled&&"bg-gray-50 cursor-not-allowed",n),...i}),r&&!t&&T.jsx("p",{className:"text-sm text-gray-500",children:r}),t&&T.jsx("p",{className:"text-sm text-red-600",children:t})]}));Dr.displayName="Input";const Om=K.forwardRef(({label:e,options:t,error:r,hint:n,className:i,...s},l)=>T.jsxs("div",{className:"space-y-1",children:[e&&T.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),T.jsx("select",{ref:l,className:ot("w-full px-3 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 transition-colors bg-white",r?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500",s.disabled&&"bg-gray-50 cursor-not-allowed",i),...s,children:t.map(o=>T.jsx("option",{value:o.value,disabled:o.disabled,children:o.label},o.value))}),n&&!r&&T.jsx("p",{className:"text-sm text-gray-500",children:n}),r&&T.jsx("p",{className:"text-sm text-red-600",children:r})]}));Om.displayName="Select";const iS={healthy:{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"},unhealthy:{bg:"bg-red-100",text:"text-red-800",dot:"bg-red-500"},pending:{bg:"bg-yellow-100",text:"text-yellow-800",dot:"bg-yellow-500"},running:{bg:"bg-blue-100",text:"text-blue-800",dot:"bg-blue-500"},completed:{bg:"bg-green-100",text:"text-green-800",dot:"bg-green-500"},failed:{bg:"bg-red-100",text:"text-red-800",dot:"bg-red-500"}},sS={healthy:"Healthy",unhealthy:"Unhealthy",pending:"Pending",running:"Running",completed:"Completed",failed:"Failed"};function Nr({status:e,label:t,size:r="md",pulse:n=!1}){const i=iS[e],s=t||sS[e];return T.jsxs("span",{className:ot("inline-flex items-center rounded-full font-medium",i.bg,i.text,r==="sm"?"px-2 py-0.5 text-xs":"px-3 py-1 text-sm"),children:[T.jsx("span",{className:ot("rounded-full",i.dot,r==="sm"?"w-1.5 h-1.5 mr-1.5":"w-2 h-2 mr-2",n&&"animate-pulse")}),s]})}function Aa({children:e,className:t,padding:r="md"}){return T.jsx("div",{className:ot("bg-white rounded-xl shadow-sm border border-gray-200",{"p-0":r==="none","p-4":r==="sm","p-6":r==="md","p-8":r==="lg"},t),children:e})}function oS({size:e="md",className:t}){return T.jsxs("svg",{className:ot("animate-spin text-blue-600",{"h-4 w-4":e==="sm","h-6 w-6":e==="md","h-8 w-8":e==="lg"},t),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function lS({message:e="Loading..."}){return T.jsx("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50",children:T.jsxs("div",{className:"flex flex-col items-center gap-3",children:[T.jsx(oS,{size:"lg"}),T.jsx("p",{className:"text-gray-600 font-medium",children:e})]})})}function aS(){const e=Do(),{setLLMConfig:t,setRuntimeConfig:r}=Oo(),[n,i]=K.useState(""),[s,l]=K.useState(""),[o,a]=K.useState(""),[u,m]=K.useState("docker"),[c,g]=K.useState(""),[_,S]=K.useState(""),[v,h]=K.useState("eu"),[d,f]=K.useState([]),[p,y]=K.useState(!0),[C,x]=K.useState({});K.useEffect(()=>{b()},[]);const b=async()=>{try{const P=await Z1();f(P.providers)}catch(P){console.error("Failed to load providers:",P)}finally{y(!1)}},w=()=>{const P={};n.trim()||(P.llmModel="Model name is required"),s.trim()||(P.llmApiKey="API key is required");const A=d.find(B=>B.id===u);return A!=null&&A.requires_api_key&&!c.trim()&&(P.runtimeApiKey="API key is required for this provider"),A!=null&&A.requires_api_url&&!_.trim()&&(P.runtimeApiUrl="API URL is required for this provider"),x(P),Object.keys(P).length===0},E=()=>{if(!w())return;let P="custom";const A=n.toLowerCase();A.includes("gpt")||A.includes("o1")||A.startsWith("ft:")?P="openai":A.includes("claude")?P="anthropic":A.includes("gemini")&&(P="google"),t({provider:P,model:n,api_key:s,base_url:o||void 0,temperature:0,max_tokens:4096}),r({provider:u,api_key:c||void 0,api_url:_||void 0,target:v||void 0,timeout:300}),e("/health")},D=d.find(P=>P.id===u);return p?T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:T.jsx("div",{className:"animate-pulse text-gray-600",children:"Loading configuration..."})}):T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 py-12 px-4",children:T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsxs("div",{className:"text-center mb-10",children:[T.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[T.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:T.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),T.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"AI Engineer"})]}),T.jsx("p",{className:"text-lg text-gray-600 max-w-xl mx-auto",children:"Open-source AI coding assistant. No login required - bring your own LLM and compute."})]}),T.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),T.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Configure"})]}),T.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),T.jsx("span",{className:"text-sm text-gray-500",children:"Health Check"})]}),T.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),T.jsx("span",{className:"text-sm text-gray-500",children:"Start Coding"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs(Aa,{className:"h-fit",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[T.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:T.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"LLM Provider"}),T.jsx("p",{className:"text-sm text-gray-500",children:"Choose your AI brain"})]})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx(Dr,{label:"Model",placeholder:"gpt-4o, claude-sonnet-4-20250514, gemini-2.0-flash, etc.",value:n,onChange:P=>i(P.target.value),error:C.llmModel,hint:"Enter your model name (e.g., gpt-4o, claude-sonnet-4-20250514, gemini-2.0-flash)"}),T.jsx(Dr,{label:"API Key",type:"password",placeholder:"Enter your API key",value:s,onChange:P=>l(P.target.value),error:C.llmApiKey}),T.jsx(Dr,{label:"Base URL (Optional)",placeholder:"https://api.openai.com/v1",value:o,onChange:P=>a(P.target.value),error:C.llmBaseUrl,hint:"Leave empty for default provider URLs, or enter custom endpoint"})]})]}),T.jsxs(Aa,{className:"h-fit",children:[T.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[T.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:T.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Runtime Environment"}),T.jsx("p",{className:"text-sm text-gray-500",children:"Where code runs"})]})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsx(Om,{label:"Provider",value:u,onChange:P=>{const A=P.target.value;m(A);const B=d.find(j=>j.id===A);B!=null&&B.default_api_url&&S(B.default_api_url)},options:d.map(P=>({value:P.id,label:`${P.name} - ${P.description}`}))}),(D==null?void 0:D.signup_url)&&T.jsxs("p",{className:"text-sm text-gray-500",children:["Need an account?"," ",T.jsxs("a",{href:D.signup_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:["Sign up at ",D.name]})]}),(D==null?void 0:D.requires_api_key)&&T.jsx(Dr,{label:"API Key",type:"password",placeholder:"Enter API key",value:c,onChange:P=>g(P.target.value),error:C.runtimeApiKey}),(D==null?void 0:D.requires_api_url)&&T.jsx(Dr,{label:"API URL",placeholder:D.default_api_url||"Enter API URL",value:_,onChange:P=>S(P.target.value),error:C.runtimeApiUrl}),u==="daytona"&&T.jsx(Dr,{label:"Target Region",placeholder:"eu",value:v,onChange:P=>h(P.target.value),hint:"Daytona deployment region"}),u==="docker"&&T.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:T.jsxs("p",{className:"text-sm text-blue-800",children:[T.jsx("strong",{children:"Docker"})," runs locally on your machine. Make sure Docker Desktop is running."]})})]})]})]}),T.jsx("div",{className:"mt-8 flex justify-center",children:T.jsxs(zt,{size:"lg",onClick:E,className:"px-12",children:["Continue to Health Check",T.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})})}function uS(){const e=Do(),{llmConfig:t,runtimeConfig:r,setConfigured:n,setSessionId:i}=Oo(),[s,l]=K.useState(!1),[o,a]=K.useState(!1),[u,m]=K.useState(null),[c,g]=K.useState(null),_=async()=>{var v,h;if(!t||!r){g("Configuration missing. Please go back and configure.");return}l(!0),m(null),g(null);try{const d=await eS(t,r);m(d)}catch(d){g(((h=(v=d.response)==null?void 0:v.data)==null?void 0:h.detail)||d.message||"Health check failed"),m({overall_healthy:!1,llm_status:"unhealthy",llm_message:"Connection failed",runtime_status:"unhealthy",runtime_message:d.message,timestamp:new Date().toISOString()})}finally{l(!1)}},S=async()=>{var v,h;if(!(!t||!r)){a(!0),g(null);try{const d=await tS({llm_config:t,runtime_config:r});i(d.session_id),n(!0),e("/chat")}catch(d){g(((h=(v=d.response)==null?void 0:v.data)==null?void 0:h.detail)||d.message||"Failed to create session")}finally{a(!1)}}};return T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 py-12 px-4",children:T.jsxs("div",{className:"max-w-2xl mx-auto",children:[T.jsxs("div",{className:"text-center mb-10",children:[T.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[T.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:T.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),T.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Health Check"})]}),T.jsx("p",{className:"text-lg text-gray-600",children:"Verify your configuration before starting"})]}),T.jsxs("div",{className:"flex items-center justify-center gap-4 mb-8",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center",children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),T.jsx("span",{className:"text-sm text-gray-500",children:"Configure"})]}),T.jsx("div",{className:"w-12 h-0.5 bg-green-500"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),T.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Health Check"})]}),T.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),T.jsx("span",{className:"text-sm text-gray-500",children:"Start Coding"})]})]}),T.jsxs(Aa,{className:"mb-6",children:[T.jsxs("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[T.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Configuration Summary"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[T.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"LLM"}),T.jsx("p",{className:"font-medium text-gray-900",children:(t==null?void 0:t.model)||"Not configured"})]}),T.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[T.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Runtime"}),T.jsx("p",{className:"font-medium text-gray-900 capitalize",children:(r==null?void 0:r.provider)||"Not configured"})]})]})]}),u?T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${u.llm_status==="healthy"?"bg-green-100":"bg-red-100"}`,children:T.jsx("svg",{className:`w-5 h-5 ${u.llm_status==="healthy"?"text-green-600":"text-red-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-medium text-gray-900",children:"LLM Connection"}),T.jsx("p",{className:"text-sm text-gray-600",children:u.llm_message}),u.llm_latency_ms&&T.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Latency: ",u.llm_latency_ms.toFixed(0),"ms"]})]})]}),T.jsx(Nr,{status:u.llm_status==="healthy"?"healthy":"unhealthy"})]}),T.jsxs("div",{className:"flex items-start justify-between p-4 bg-gray-50 rounded-lg",children:[T.jsxs("div",{className:"flex items-start gap-3",children:[T.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${u.runtime_status==="healthy"?"bg-green-100":"bg-red-100"}`,children:T.jsx("svg",{className:`w-5 h-5 ${u.runtime_status==="healthy"?"text-green-600":"text-red-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-medium text-gray-900",children:"Runtime Connection"}),T.jsx("p",{className:"text-sm text-gray-600",children:u.runtime_message})]})]}),T.jsx(Nr,{status:u.runtime_status==="healthy"?"healthy":"unhealthy"})]}),u.overall_healthy?T.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[T.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsx("span",{className:"font-medium",children:"All systems operational!"})]}),T.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Your configuration is ready. Start your AI coding session."})]}):T.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[T.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsx("span",{className:"font-medium",children:"Configuration issues detected"})]}),T.jsx("p",{className:"text-red-700 text-sm mt-1",children:"Please check your settings and try again."})]})]}):T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ready to Check"}),T.jsx("p",{className:"text-gray-600 mb-6",children:"Click below to verify your LLM and runtime connections"}),T.jsx(zt,{size:"lg",onClick:_,loading:s,children:s?"Checking...":"Run Health Check"})]}),c&&T.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:T.jsx("p",{className:"text-red-800 text-sm",children:c})})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsxs(zt,{variant:"secondary",onClick:()=>e("/"),children:[T.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 17l-5-5m0 0l5-5m-5 5h12"})}),"Back to Configuration"]}),u&&(u.overall_healthy?T.jsxs(zt,{size:"lg",onClick:S,loading:o,children:[o?"Creating Session...":"Start Session",T.jsx("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}):T.jsx(zt,{onClick:_,loading:s,children:"Retry Health Check"}))]})]})})}class cS{constructor(t,r){Rr(this,"ws",null);Rr(this,"sessionId");Rr(this,"callbacks");Rr(this,"reconnectAttempts",0);Rr(this,"maxReconnectAttempts",5);Rr(this,"reconnectDelay",1e3);this.sessionId=t,this.callbacks=r}connect(){var i,s;const t=window.location.protocol==="https:"?"wss:":"ws:",r=window.location.host,n=`${t}//${r}/ws/${this.sessionId}`;(s=(i=this.callbacks).onStatusChange)==null||s.call(i,"connecting"),this.ws=new WebSocket(n),this.ws.onopen=()=>{var l,o;console.log("WebSocket connected"),(o=(l=this.callbacks).onStatusChange)==null||o.call(l,"connected"),this.reconnectAttempts=0},this.ws.onmessage=l=>{try{const o=JSON.parse(l.data);this.callbacks.onMessage(o)}catch(o){console.error("Failed to parse WebSocket message:",o)}},this.ws.onerror=l=>{var o,a,u,m;console.error("WebSocket error:",l),(a=(o=this.callbacks).onStatusChange)==null||a.call(o,"error"),(m=(u=this.callbacks).onError)==null||m.call(u,l)},this.ws.onclose=()=>{var l,o;console.log("WebSocket disconnected"),(o=(l=this.callbacks).onStatusChange)==null||o.call(l,"disconnected"),this.attemptReconnect()}}attemptReconnect(){this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,console.log(`Attempting reconnect ${this.reconnectAttempts}/${this.maxReconnectAttempts}`),setTimeout(()=>this.connect(),this.reconnectDelay*this.reconnectAttempts))}send(t,r={}){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(JSON.stringify({type:t,data:r})):console.warn("WebSocket not connected, cannot send message")}sendChatMessage(t){this.send("chat",{content:t})}sendTerminalCommand(t){this.send("terminal",{command:t})}requestFileList(t="/workspace"){this.send("list_files",{path:t})}requestFileContent(t){this.send("read_file",{path:t})}stopTask(){this.send("stop")}ping(){this.send("ping")}disconnect(){this.maxReconnectAttempts=0,this.ws&&(this.ws.close(),this.ws=null)}get isConnected(){var t;return((t=this.ws)==null?void 0:t.readyState)===WebSocket.OPEN}}function hS(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const dS=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fS=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pS={};function Uh(e,t){return(pS.jsx?fS:dS).test(e)}const mS=/[ \t\n\f\r]/g;function gS(e){return typeof e=="object"?e.type==="text"?Wh(e.value):!1:Wh(e)}function Wh(e){return e.replace(mS,"")===""}class Yi{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Yi.prototype.normal={};Yi.prototype.property={};Yi.prototype.space=void 0;function Im(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Yi(r,n,t)}function Da(e){return e.toLowerCase()}class at{constructor(t,r){this.attribute=r,this.property=t}}at.prototype.attribute="";at.prototype.booleanish=!1;at.prototype.boolean=!1;at.prototype.commaOrSpaceSeparated=!1;at.prototype.commaSeparated=!1;at.prototype.defined=!1;at.prototype.mustUseProperty=!1;at.prototype.number=!1;at.prototype.overloadedBoolean=!1;at.prototype.property="";at.prototype.spaceSeparated=!1;at.prototype.space=void 0;let _S=0;const oe=Qr(),Re=Qr(),Pa=Qr(),G=Qr(),ge=Qr(),xn=Qr(),ct=Qr();function Qr(){return 2**++_S}const Oa=Object.freeze(Object.defineProperty({__proto__:null,boolean:oe,booleanish:Re,commaOrSpaceSeparated:ct,commaSeparated:xn,number:G,overloadedBoolean:Pa,spaceSeparated:ge},Symbol.toStringTag,{value:"Module"})),Sl=Object.keys(Oa);class $u extends at{constructor(t,r,n,i){let s=-1;if(super(t,r),$h(this,"space",i),typeof n=="number")for(;++s<Sl.length;){const l=Sl[s];$h(this,Sl[s],(n&Oa[l])===Oa[l])}}}$u.prototype.defined=!0;function $h(e,t,r){r&&(e[t]=r)}function Hn(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new $u(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[Da(n)]=n,r[Da(s.attribute)]=n}return new Yi(t,r,e.space)}const Mm=Hn({properties:{ariaActiveDescendant:null,ariaAtomic:Re,ariaAutoComplete:null,ariaBusy:Re,ariaChecked:Re,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:ge,ariaCurrent:null,ariaDescribedBy:ge,ariaDetails:null,ariaDisabled:Re,ariaDropEffect:ge,ariaErrorMessage:null,ariaExpanded:Re,ariaFlowTo:ge,ariaGrabbed:Re,ariaHasPopup:null,ariaHidden:Re,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ge,ariaLevel:G,ariaLive:null,ariaModal:Re,ariaMultiLine:Re,ariaMultiSelectable:Re,ariaOrientation:null,ariaOwns:ge,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:Re,ariaReadOnly:Re,ariaRelevant:null,ariaRequired:Re,ariaRoleDescription:ge,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:Re,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Bm(e,t){return t in e?e[t]:t}function Nm(e,t){return Bm(e,t.toLowerCase())}const vS=Hn({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xn,acceptCharset:ge,accessKey:ge,action:null,allow:null,allowFullScreen:oe,allowPaymentRequest:oe,allowUserMedia:oe,alt:null,as:null,async:oe,autoCapitalize:null,autoComplete:ge,autoFocus:oe,autoPlay:oe,blocking:ge,capture:null,charSet:null,checked:oe,cite:null,className:ge,cols:G,colSpan:null,content:null,contentEditable:Re,controls:oe,controlsList:ge,coords:G|xn,crossOrigin:null,data:null,dateTime:null,decoding:null,default:oe,defer:oe,dir:null,dirName:null,disabled:oe,download:Pa,draggable:Re,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:oe,formTarget:null,headers:ge,height:G,hidden:Pa,high:G,href:null,hrefLang:null,htmlFor:ge,httpEquiv:ge,id:null,imageSizes:null,imageSrcSet:null,inert:oe,inputMode:null,integrity:null,is:null,isMap:oe,itemId:null,itemProp:ge,itemRef:ge,itemScope:oe,itemType:ge,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:oe,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:oe,muted:oe,name:null,nonce:null,noModule:oe,noValidate:oe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:oe,optimum:G,pattern:null,ping:ge,placeholder:null,playsInline:oe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:oe,referrerPolicy:null,rel:ge,required:oe,reversed:oe,rows:G,rowSpan:G,sandbox:ge,scope:null,scoped:oe,seamless:oe,selected:oe,shadowRootClonable:oe,shadowRootDelegatesFocus:oe,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:Re,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:oe,useMap:null,value:Re,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ge,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:oe,declare:oe,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:oe,noHref:oe,noShade:oe,noWrap:oe,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:Re,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:oe,disableRemotePlayback:oe,prefix:null,property:null,results:G,security:null,unselectable:null},space:"html",transform:Nm}),yS=Hn({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ct,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:ge,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:oe,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xn,g2:xn,glyphName:xn,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:ct,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ge,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ct,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ct,rev:ct,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ct,requiredFeatures:ct,requiredFonts:ct,requiredFormats:ct,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:ct,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ct,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ct,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Bm}),jm=Hn({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Fm=Hn({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Nm}),Hm=Hn({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),SS={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},wS=/[A-Z]/g,Vh=/-[a-z]/g,CS=/^data[-\w.:]+$/i;function xS(e,t){const r=Da(t);let n=t,i=at;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&CS.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Vh,bS);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Vh.test(s)){let l=s.replace(wS,kS);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=$u}return new i(n,t)}function kS(e){return"-"+e.toLowerCase()}function bS(e){return e.charAt(1).toUpperCase()}const ES=Im([Mm,vS,jm,Fm,Hm],"html"),Vu=Im([Mm,yS,jm,Fm,Hm],"svg");function LS(e){return e.join(" ").trim()}var qu={},qh=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,RS=/\n/g,TS=/^\s*/,AS=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,DS=/^:\s*/,PS=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,OS=/^[;\s]*/,IS=/^\s+|\s+$/g,MS=`
`,Kh="/",Xh="*",Pr="",BS="comment",NS="declaration";function jS(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(S){var v=S.match(RS);v&&(r+=v.length);var h=S.lastIndexOf(MS);n=~h?S.length-h:n+S.length}function s(){var S={line:r,column:n};return function(v){return v.position=new l(S),u(),v}}function l(S){this.start=S,this.end={line:r,column:n},this.source=t.source}l.prototype.content=e;function o(S){var v=new Error(t.source+":"+r+":"+n+": "+S);if(v.reason=S,v.filename=t.source,v.line=r,v.column=n,v.source=e,!t.silent)throw v}function a(S){var v=S.exec(e);if(v){var h=v[0];return i(h),e=e.slice(h.length),v}}function u(){a(TS)}function m(S){var v;for(S=S||[];v=c();)v!==!1&&S.push(v);return S}function c(){var S=s();if(!(Kh!=e.charAt(0)||Xh!=e.charAt(1))){for(var v=2;Pr!=e.charAt(v)&&(Xh!=e.charAt(v)||Kh!=e.charAt(v+1));)++v;if(v+=2,Pr===e.charAt(v-1))return o("End of comment missing");var h=e.slice(2,v-2);return n+=2,i(h),e=e.slice(v),n+=2,S({type:BS,comment:h})}}function g(){var S=s(),v=a(AS);if(v){if(c(),!a(DS))return o("property missing ':'");var h=a(PS),d=S({type:NS,property:Gh(v[0].replace(qh,Pr)),value:h?Gh(h[0].replace(qh,Pr)):Pr});return a(OS),d}}function _(){var S=[];m(S);for(var v;v=g();)v!==!1&&(S.push(v),m(S));return S}return u(),_()}function Gh(e){return e?e.replace(IS,Pr):Pr}var FS=jS,HS=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qu,"__esModule",{value:!0});qu.default=US;const zS=HS(FS);function US(e,t){let r=null;if(!e||typeof e!="string")return r;const n=(0,zS.default)(e),i=typeof t=="function";return n.forEach(s=>{if(s.type!=="declaration")return;const{property:l,value:o}=s;i?t(l,o,s):o&&(r=r||{},r[l]=o)}),r}var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.camelCase=void 0;var WS=/^--[a-zA-Z0-9_-]+$/,$S=/-([a-z])/g,VS=/^[^-]+$/,qS=/^-(webkit|moz|ms|o|khtml)-/,KS=/^-(ms)-/,XS=function(e){return!e||VS.test(e)||WS.test(e)},GS=function(e,t){return t.toUpperCase()},Jh=function(e,t){return"".concat(t,"-")},JS=function(e,t){return t===void 0&&(t={}),XS(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(KS,Jh):e=e.replace(qS,Jh),e.replace($S,GS))};Fo.camelCase=JS;var QS=js&&js.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},YS=QS(qu),ZS=Fo;function Ia(e,t){var r={};return!e||typeof e!="string"||(0,YS.default)(e,function(n,i){n&&i&&(r[(0,ZS.camelCase)(n,t)]=i)}),r}Ia.default=Ia;var ew=Ia;const tw=fo(ew),zm=Um("end"),Ku=Um("start");function Um(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function rw(e){const t=Ku(e),r=zm(e);if(t&&r)return{start:t,end:r}}function gi(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Qh(e.position):"start"in e||"end"in e?Qh(e):"line"in e||"column"in e?Ma(e):""}function Ma(e){return Yh(e&&e.line)+":"+Yh(e&&e.column)}function Qh(e){return Ma(e&&e.start)+"-"+Ma(e&&e.end)}function Yh(e){return e&&typeof e=="number"?e:1}class qe extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},l=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(l=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const a=n.indexOf(":");a===-1?s.ruleId=n:(s.source=n.slice(0,a),s.ruleId=n.slice(a+1))}if(!s.place&&s.ancestors&&s.ancestors){const a=s.ancestors[s.ancestors.length-1];a&&(s.place=a.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=gi(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=l&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}qe.prototype.file="";qe.prototype.name="";qe.prototype.reason="";qe.prototype.message="";qe.prototype.stack="";qe.prototype.column=void 0;qe.prototype.line=void 0;qe.prototype.ancestors=void 0;qe.prototype.cause=void 0;qe.prototype.fatal=void 0;qe.prototype.place=void 0;qe.prototype.ruleId=void 0;qe.prototype.source=void 0;const Xu={}.hasOwnProperty,nw=new Map,iw=/[A-Z]/g,sw=new Set(["table","tbody","thead","tfoot","tr"]),ow=new Set(["td","th"]),Wm="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function lw(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=mw(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=pw(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Vu:ES,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=$m(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function $m(e,t,r){if(t.type==="element")return aw(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return uw(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return hw(e,t,r);if(t.type==="mdxjsEsm")return cw(e,t);if(t.type==="root")return dw(e,t,r);if(t.type==="text")return fw(e,t)}function aw(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=Vu,e.schema=i),e.ancestors.push(t);const s=qm(e,t.tagName,!1),l=gw(e,t);let o=Ju(e,t);return sw.has(t.tagName)&&(o=o.filter(function(a){return typeof a=="string"?!gS(a):!0})),Vm(e,l,s,t),Gu(l,o),e.ancestors.pop(),e.schema=n,e.create(t,s,l,r)}function uw(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Fi(e,t.position)}function cw(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Fi(e,t.position)}function hw(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=Vu,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:qm(e,t.name,!0),l=_w(e,t),o=Ju(e,t);return Vm(e,l,s,t),Gu(l,o),e.ancestors.pop(),e.schema=n,e.create(t,s,l,r)}function dw(e,t,r){const n={};return Gu(n,Ju(e,t)),e.create(t,e.Fragment,n,r)}function fw(e,t){return t.value}function Vm(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function Gu(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function pw(e,t,r){return n;function n(i,s,l,o){const u=Array.isArray(l.children)?r:t;return o?u(s,l,o):u(s,l)}}function mw(e,t){return r;function r(n,i,s,l){const o=Array.isArray(s.children),a=Ku(n);return t(i,s,l,o,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function gw(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&Xu.call(t.properties,i)){const s=vw(e,i,t.properties[i]);if(s){const[l,o]=s;e.tableCellAlignToStyle&&l==="align"&&typeof o=="string"&&ow.has(t.tagName)?n=o:r[l]=o}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function _w(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const l=s.expression;l.type;const o=l.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else Fi(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,s=e.evaluater.evaluateExpression(o.expression)}else Fi(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function Ju(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:nw;for(;++n<t.children.length;){const s=t.children[n];let l;if(e.passKeys){const a=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(a){const u=i.get(a)||0;l=a+"-"+u,i.set(a,u+1)}}const o=$m(e,s,l);o!==void 0&&r.push(o)}return r}function vw(e,t,r){const n=xS(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?hS(r):LS(r)),n.property==="style"){let i=typeof r=="object"?r:yw(e,String(r));return e.stylePropertyNameCase==="css"&&(i=Sw(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?SS[n.property]||n.property:n.attribute,r]}}function yw(e,t){try{return tw(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new qe("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Wm+"#cannot-parse-style-attribute",i}}function qm(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,l;for(;++s<i.length;){const o=Uh(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};l=l?{type:"MemberExpression",object:l,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}n=l}else n=Uh(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return Xu.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Fi(e)}function Fi(e,t){const r=new qe("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Wm+"#cannot-handle-mdx-estrees-without-createevaluater",r}function Sw(e){const t={};let r;for(r in e)Xu.call(e,r)&&(t[ww(r)]=e[r]);return t}function ww(e){let t=e.replace(iw,Cw);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Cw(e){return"-"+e.toLowerCase()}const wl={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xw={};function kw(e,t){const r=xw,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Km(e,n,i)}function Km(e,t,r){if(bw(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Zh(e.children,t,r)}return Array.isArray(e)?Zh(e,t,r):""}function Zh(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=Km(e[i],t,r);return n.join("")}function bw(e){return!!(e&&typeof e=="object")}const ed=document.createElement("i");function Qu(e){const t="&"+e+";";ed.innerHTML=t;const r=ed.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function $t(e,t,r,n){const i=e.length;let s=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)l=Array.from(n),l.unshift(t,r),e.splice(...l);else for(r&&e.splice(t,r);s<n.length;)l=n.slice(s,s+1e4),l.unshift(t,0),e.splice(...l),s+=1e4,t+=1e4}function wt(e,t){return e.length>0?($t(e,e.length,0,t),e):t}const td={}.hasOwnProperty;function Ew(e){const t={};let r=-1;for(;++r<e.length;)Lw(t,e[r]);return t}function Lw(e,t){let r;for(r in t){const i=(td.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let l;if(s)for(l in s){td.call(i,l)||(i[l]=[]);const o=s[l];Rw(i[l],Array.isArray(o)?o:o?[o]:[])}}}function Rw(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);$t(e,0,0,n)}function Xm(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function kn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ht=br(/[A-Za-z]/),ft=br(/[\dA-Za-z]/),Tw=br(/[#-'*+\--9=?A-Z^-~]/);function Ba(e){return e!==null&&(e<32||e===127)}const Na=br(/\d/),Aw=br(/[\dA-Fa-f]/),Dw=br(/[!-/:-@[-`{-~]/);function ne(e){return e!==null&&e<-2}function lt(e){return e!==null&&(e<0||e===32)}function pe(e){return e===-2||e===-1||e===32}const Pw=br(new RegExp("\\p{P}|\\p{S}","u")),Ow=br(/\s/);function br(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function zn(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let l="";if(s===37&&ft(e.charCodeAt(r+1))&&ft(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(l=String.fromCharCode(s));else if(s>55295&&s<57344){const o=e.charCodeAt(r+1);s<56320&&o>56319&&o<57344?(l=String.fromCharCode(s,o),i=1):l=""}else l=String.fromCharCode(s);l&&(t.push(e.slice(n,r),encodeURIComponent(l)),n=r+i+1,l=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function ve(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return l;function l(a){return pe(a)?(e.enter(r),o(a)):t(a)}function o(a){return pe(a)&&s++<i?(e.consume(a),o):(e.exit(r),t(a))}}const Iw={tokenize:Mw};function Mw(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),ve(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),s(o)}function s(o){const a=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=a),r=a,l(o)}function l(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return ne(o)?(e.consume(o),e.exit("chunkText"),s):(e.consume(o),l)}}const Bw={tokenize:Nw},rd={tokenize:jw};function Nw(e){const t=this,r=[];let n=0,i,s,l;return o;function o(p){if(n<r.length){const y=r[n];return t.containerState=y[1],e.attempt(y[0].continuation,a,u)(p)}return u(p)}function a(p){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&f();const y=t.events.length;let C=y,x;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){x=t.events[C][1].end;break}d(n);let b=y;for(;b<t.events.length;)t.events[b][1].end={...x},b++;return $t(t.events,C+1,0,t.events.slice(y)),t.events.length=b,u(p)}return o(p)}function u(p){if(n===r.length){if(!i)return g(p);if(i.currentConstruct&&i.currentConstruct.concrete)return S(p);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(rd,m,c)(p)}function m(p){return i&&f(),d(n),g(p)}function c(p){return t.parser.lazy[t.now().line]=n!==r.length,l=t.now().offset,S(p)}function g(p){return t.containerState={},e.attempt(rd,_,S)(p)}function _(p){return n++,r.push([t.currentConstruct,t.containerState]),g(p)}function S(p){if(p===null){i&&f(),d(0),e.consume(p);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),v(p)}function v(p){if(p===null){h(e.exit("chunkFlow"),!0),d(0),e.consume(p);return}return ne(p)?(e.consume(p),h(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(p),v)}function h(p,y){const C=t.sliceStream(p);if(y&&C.push(null),p.previous=s,s&&(s.next=p),s=p,i.defineSkip(p.start),i.write(C),t.parser.lazy[p.start.line]){let x=i.events.length;for(;x--;)if(i.events[x][1].start.offset<l&&(!i.events[x][1].end||i.events[x][1].end.offset>l))return;const b=t.events.length;let w=b,E,D;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){if(E){D=t.events[w][1].end;break}E=!0}for(d(n),x=b;x<t.events.length;)t.events[x][1].end={...D},x++;$t(t.events,w+1,0,t.events.slice(b)),t.events.length=x}}function d(p){let y=r.length;for(;y-- >p;){const C=r[y];t.containerState=C[1],C[0].exit.call(t,e)}r.length=p}function f(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function jw(e,t,r){return ve(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nd(e){if(e===null||lt(e)||Ow(e))return 1;if(Pw(e))return 2}function Yu(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const ja={name:"attention",resolveAll:Fw,tokenize:Hw};function Fw(e,t){let r=-1,n,i,s,l,o,a,u,m;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const c={...e[n][1].end},g={...e[r][1].start};id(c,-a),id(g,a),l={type:a>1?"strongSequence":"emphasisSequence",start:c,end:{...e[n][1].end}},o={type:a>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:g},s={type:a>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:a>1?"strong":"emphasis",start:{...l.start},end:{...o.end}},e[n][1].end={...l.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=wt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=wt(u,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",s,t]]),u=wt(u,Yu(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=wt(u,[["exit",s,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(m=2,u=wt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):m=0,$t(e,n-1,r-n+3,u),r=n+u.length-m-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function Hw(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=nd(n);let s;return l;function l(a){return s=a,e.enter("attentionSequence"),o(a)}function o(a){if(a===s)return e.consume(a),o;const u=e.exit("attentionSequence"),m=nd(a),c=!m||m===2&&i||r.includes(a),g=!i||i===2&&m||r.includes(n);return u._open=!!(s===42?c:c&&(i||!g)),u._close=!!(s===42?g:g&&(m||!c)),t(a)}}function id(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const zw={name:"autolink",tokenize:Uw};function Uw(e,t,r){let n=0;return i;function i(_){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(_){return Ht(_)?(e.consume(_),l):_===64?r(_):u(_)}function l(_){return _===43||_===45||_===46||ft(_)?(n=1,o(_)):u(_)}function o(_){return _===58?(e.consume(_),n=0,a):(_===43||_===45||_===46||ft(_))&&n++<32?(e.consume(_),o):(n=0,u(_))}function a(_){return _===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.exit("autolink"),t):_===null||_===32||_===60||Ba(_)?r(_):(e.consume(_),a)}function u(_){return _===64?(e.consume(_),m):Tw(_)?(e.consume(_),u):r(_)}function m(_){return ft(_)?c(_):r(_)}function c(_){return _===46?(e.consume(_),n=0,m):_===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.exit("autolink"),t):g(_)}function g(_){if((_===45||ft(_))&&n++<63){const S=_===45?g:c;return e.consume(_),S}return r(_)}}const Ho={partial:!0,tokenize:Ww};function Ww(e,t,r){return n;function n(s){return pe(s)?ve(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ne(s)?t(s):r(s)}}const Gm={continuation:{tokenize:Vw},exit:qw,name:"blockQuote",tokenize:$w};function $w(e,t,r){const n=this;return i;function i(l){if(l===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),s}return r(l)}function s(l){return pe(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function Vw(e,t,r){const n=this;return i;function i(l){return pe(l)?ve(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):s(l)}function s(l){return e.attempt(Gm,t,r)(l)}}function qw(e){e.exit("blockQuote")}const Jm={name:"characterEscape",tokenize:Kw};function Kw(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return Dw(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const Qm={name:"characterReference",tokenize:Xw};function Xw(e,t,r){const n=this;let i=0,s,l;return o;function o(c){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),a}function a(c){return c===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(c),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,l=ft,m(c))}function u(c){return c===88||c===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(c),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,l=Aw,m):(e.enter("characterReferenceValue"),s=7,l=Na,m(c))}function m(c){if(c===59&&i){const g=e.exit("characterReferenceValue");return l===ft&&!Qu(n.sliceSerialize(g))?r(c):(e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(c)&&i++<s?(e.consume(c),m):r(c)}}const sd={partial:!0,tokenize:Jw},od={concrete:!0,name:"codeFenced",tokenize:Gw};function Gw(e,t,r){const n=this,i={partial:!0,tokenize:C};let s=0,l=0,o;return a;function a(x){return u(x)}function u(x){const b=n.events[n.events.length-1];return s=b&&b[1].type==="linePrefix"?b[2].sliceSerialize(b[1],!0).length:0,o=x,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),m(x)}function m(x){return x===o?(l++,e.consume(x),m):l<3?r(x):(e.exit("codeFencedFenceSequence"),pe(x)?ve(e,c,"whitespace")(x):c(x))}function c(x){return x===null||ne(x)?(e.exit("codeFencedFence"),n.interrupt?t(x):e.check(sd,v,y)(x)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||ne(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(x)):pe(x)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),ve(e,_,"whitespace")(x)):x===96&&x===o?r(x):(e.consume(x),g)}function _(x){return x===null||ne(x)?c(x):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(x))}function S(x){return x===null||ne(x)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(x)):x===96&&x===o?r(x):(e.consume(x),S)}function v(x){return e.attempt(i,y,h)(x)}function h(x){return e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),d}function d(x){return s>0&&pe(x)?ve(e,f,"linePrefix",s+1)(x):f(x)}function f(x){return x===null||ne(x)?e.check(sd,v,y)(x):(e.enter("codeFlowValue"),p(x))}function p(x){return x===null||ne(x)?(e.exit("codeFlowValue"),f(x)):(e.consume(x),p)}function y(x){return e.exit("codeFenced"),t(x)}function C(x,b,w){let E=0;return D;function D(H){return x.enter("lineEnding"),x.consume(H),x.exit("lineEnding"),P}function P(H){return x.enter("codeFencedFence"),pe(H)?ve(x,A,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):A(H)}function A(H){return H===o?(x.enter("codeFencedFenceSequence"),B(H)):w(H)}function B(H){return H===o?(E++,x.consume(H),B):E>=l?(x.exit("codeFencedFenceSequence"),pe(H)?ve(x,j,"whitespace")(H):j(H)):w(H)}function j(H){return H===null||ne(H)?(x.exit("codeFencedFence"),b(H)):w(H)}}}function Jw(e,t,r){const n=this;return i;function i(l){return l===null?r(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s)}function s(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}const Cl={name:"codeIndented",tokenize:Yw},Qw={partial:!0,tokenize:Zw};function Yw(e,t,r){const n=this;return i;function i(u){return e.enter("codeIndented"),ve(e,s,"linePrefix",5)(u)}function s(u){const m=n.events[n.events.length-1];return m&&m[1].type==="linePrefix"&&m[2].sliceSerialize(m[1],!0).length>=4?l(u):r(u)}function l(u){return u===null?a(u):ne(u)?e.attempt(Qw,l,a)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||ne(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),o)}function a(u){return e.exit("codeIndented"),t(u)}}function Zw(e,t,r){const n=this;return i;function i(l){return n.parser.lazy[n.now().line]?r(l):ne(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):ve(e,s,"linePrefix",5)(l)}function s(l){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):ne(l)?i(l):r(l)}}const eC={name:"codeText",previous:rC,resolve:tC,tokenize:nC};function tC(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function rC(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function nC(e,t,r){let n=0,i,s;return l;function l(c){return e.enter("codeText"),e.enter("codeTextSequence"),o(c)}function o(c){return c===96?(e.consume(c),n++,o):(e.exit("codeTextSequence"),a(c))}function a(c){return c===null?r(c):c===32?(e.enter("space"),e.consume(c),e.exit("space"),a):c===96?(s=e.enter("codeTextSequence"),i=0,m(c)):ne(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||ne(c)?(e.exit("codeTextData"),a(c)):(e.consume(c),u)}function m(c){return c===96?(e.consume(c),i++,m):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(c)):(s.type="codeTextData",u(c))}}class iC{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&ei(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ei(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ei(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);ei(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ei(this.left,r.reverse())}}}function ei(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function Ym(e){const t={};let r=-1,n,i,s,l,o,a,u;const m=new iC(e);for(;++r<m.length;){for(;r in t;)r=t[r];if(n=m.get(r),r&&n[1].type==="chunkFlow"&&m.get(r-1)[1].type==="listItemPrefix"&&(a=n[1]._tokenizer.events,s=0,s<a.length&&a[s][1].type==="lineEndingBlank"&&(s+=2),s<a.length&&a[s][1].type==="content"))for(;++s<a.length&&a[s][1].type!=="content";)a[s][1].type==="chunkText"&&(a[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,sC(m,r)),r=t[r],u=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(l=m.get(s),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(m.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=s);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(n[1].end={...m.get(i)[1].start},o=m.slice(i,r),o.unshift(n),m.splice(i,r-i+1,o))}}return $t(e,0,Number.POSITIVE_INFINITY,m.slice(0)),!u}function sC(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let l=r._tokenizer;l||(l=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const o=l.events,a=[],u={};let m,c,g=-1,_=r,S=0,v=0;const h=[v];for(;_;){for(;e.get(++i)[1]!==_;);s.push(i),_._tokenizer||(m=n.sliceStream(_),_.next||m.push(null),c&&l.defineSkip(_.start),_._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(m),_._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),c=_,_=_.next}for(_=r;++g<o.length;)o[g][0]==="exit"&&o[g-1][0]==="enter"&&o[g][1].type===o[g-1][1].type&&o[g][1].start.line!==o[g][1].end.line&&(v=g+1,h.push(v),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(l.events=[],_?(_._tokenizer=void 0,_.previous=void 0):h.pop(),g=h.length;g--;){const d=o.slice(h[g],h[g+1]),f=s.pop();a.push([f,f+d.length-1]),e.splice(f,2,d)}for(a.reverse(),g=-1;++g<a.length;)u[S+a[g][0]]=S+a[g][1],S+=a[g][1]-a[g][0]-1;return u}const oC={resolve:aC,tokenize:uC},lC={partial:!0,tokenize:cC};function aC(e){return Ym(e),e}function uC(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):ne(o)?e.check(lC,l,s)(o):(e.consume(o),i)}function s(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function l(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function cC(e,t,r){const n=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),ve(e,s,"linePrefix")}function s(l){if(l===null||ne(l))return r(l);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(l):e.interrupt(n.parser.constructs.flow,r,t)(l)}}function Zm(e,t,r,n,i,s,l,o,a){const u=a||Number.POSITIVE_INFINITY;let m=0;return c;function c(d){return d===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(d),e.exit(s),g):d===null||d===32||d===41||Ba(d)?r(d):(e.enter(n),e.enter(l),e.enter(o),e.enter("chunkString",{contentType:"string"}),v(d))}function g(d){return d===62?(e.enter(s),e.consume(d),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),_(d))}function _(d){return d===62?(e.exit("chunkString"),e.exit(o),g(d)):d===null||d===60||ne(d)?r(d):(e.consume(d),d===92?S:_)}function S(d){return d===60||d===62||d===92?(e.consume(d),_):_(d)}function v(d){return!m&&(d===null||d===41||lt(d))?(e.exit("chunkString"),e.exit(o),e.exit(l),e.exit(n),t(d)):m<u&&d===40?(e.consume(d),m++,v):d===41?(e.consume(d),m--,v):d===null||d===32||d===40||Ba(d)?r(d):(e.consume(d),d===92?h:v)}function h(d){return d===40||d===41||d===92?(e.consume(d),v):v(d)}}function eg(e,t,r,n,i,s){const l=this;let o=0,a;return u;function u(_){return e.enter(n),e.enter(i),e.consume(_),e.exit(i),e.enter(s),m}function m(_){return o>999||_===null||_===91||_===93&&!a||_===94&&!o&&"_hiddenFootnoteSupport"in l.parser.constructs?r(_):_===93?(e.exit(s),e.enter(i),e.consume(_),e.exit(i),e.exit(n),t):ne(_)?(e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),m):(e.enter("chunkString",{contentType:"string"}),c(_))}function c(_){return _===null||_===91||_===93||ne(_)||o++>999?(e.exit("chunkString"),m(_)):(e.consume(_),a||(a=!pe(_)),_===92?g:c)}function g(_){return _===91||_===92||_===93?(e.consume(_),o++,c):c(_)}}function tg(e,t,r,n,i,s){let l;return o;function o(g){return g===34||g===39||g===40?(e.enter(n),e.enter(i),e.consume(g),e.exit(i),l=g===40?41:g,a):r(g)}function a(g){return g===l?(e.enter(i),e.consume(g),e.exit(i),e.exit(n),t):(e.enter(s),u(g))}function u(g){return g===l?(e.exit(s),a(l)):g===null?r(g):ne(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),ve(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===l||g===null||ne(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?c:m)}function c(g){return g===l||g===92?(e.consume(g),m):m(g)}}function _i(e,t){let r;return n;function n(i){return ne(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):pe(i)?ve(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const hC={name:"definition",tokenize:fC},dC={partial:!0,tokenize:pC};function fC(e,t,r){const n=this;let i;return s;function s(_){return e.enter("definition"),l(_)}function l(_){return eg.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function o(_){return i=kn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),_===58?(e.enter("definitionMarker"),e.consume(_),e.exit("definitionMarker"),a):r(_)}function a(_){return lt(_)?_i(e,u)(_):u(_)}function u(_){return Zm(e,m,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function m(_){return e.attempt(dC,c,c)(_)}function c(_){return pe(_)?ve(e,g,"whitespace")(_):g(_)}function g(_){return _===null||ne(_)?(e.exit("definition"),n.parser.defined.push(i),t(_)):r(_)}}function pC(e,t,r){return n;function n(o){return lt(o)?_i(e,i)(o):r(o)}function i(o){return tg(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return pe(o)?ve(e,l,"whitespace")(o):l(o)}function l(o){return o===null||ne(o)?t(o):r(o)}}const mC={name:"hardBreakEscape",tokenize:gC};function gC(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ne(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const _C={name:"headingAtx",resolve:vC,tokenize:yC};function vC(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},$t(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function yC(e,t,r){let n=0;return i;function i(m){return e.enter("atxHeading"),s(m)}function s(m){return e.enter("atxHeadingSequence"),l(m)}function l(m){return m===35&&n++<6?(e.consume(m),l):m===null||lt(m)?(e.exit("atxHeadingSequence"),o(m)):r(m)}function o(m){return m===35?(e.enter("atxHeadingSequence"),a(m)):m===null||ne(m)?(e.exit("atxHeading"),t(m)):pe(m)?ve(e,o,"whitespace")(m):(e.enter("atxHeadingText"),u(m))}function a(m){return m===35?(e.consume(m),a):(e.exit("atxHeadingSequence"),o(m))}function u(m){return m===null||m===35||lt(m)?(e.exit("atxHeadingText"),o(m)):(e.consume(m),u)}}const SC=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ld=["pre","script","style","textarea"],wC={concrete:!0,name:"htmlFlow",resolveTo:kC,tokenize:bC},CC={partial:!0,tokenize:LC},xC={partial:!0,tokenize:EC};function kC(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function bC(e,t,r){const n=this;let i,s,l,o,a;return u;function u(M){return m(M)}function m(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),c}function c(M){return M===33?(e.consume(M),g):M===47?(e.consume(M),s=!0,v):M===63?(e.consume(M),i=3,n.interrupt?t:k):Ht(M)?(e.consume(M),l=String.fromCharCode(M),h):r(M)}function g(M){return M===45?(e.consume(M),i=2,_):M===91?(e.consume(M),i=5,o=0,S):Ht(M)?(e.consume(M),i=4,n.interrupt?t:k):r(M)}function _(M){return M===45?(e.consume(M),n.interrupt?t:k):r(M)}function S(M){const Q="CDATA[";return M===Q.charCodeAt(o++)?(e.consume(M),o===Q.length?n.interrupt?t:A:S):r(M)}function v(M){return Ht(M)?(e.consume(M),l=String.fromCharCode(M),h):r(M)}function h(M){if(M===null||M===47||M===62||lt(M)){const Q=M===47,Y=l.toLowerCase();return!Q&&!s&&ld.includes(Y)?(i=1,n.interrupt?t(M):A(M)):SC.includes(l.toLowerCase())?(i=6,Q?(e.consume(M),d):n.interrupt?t(M):A(M)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(M):s?f(M):p(M))}return M===45||ft(M)?(e.consume(M),l+=String.fromCharCode(M),h):r(M)}function d(M){return M===62?(e.consume(M),n.interrupt?t:A):r(M)}function f(M){return pe(M)?(e.consume(M),f):D(M)}function p(M){return M===47?(e.consume(M),D):M===58||M===95||Ht(M)?(e.consume(M),y):pe(M)?(e.consume(M),p):D(M)}function y(M){return M===45||M===46||M===58||M===95||ft(M)?(e.consume(M),y):C(M)}function C(M){return M===61?(e.consume(M),x):pe(M)?(e.consume(M),C):p(M)}function x(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),a=M,b):pe(M)?(e.consume(M),x):w(M)}function b(M){return M===a?(e.consume(M),a=null,E):M===null||ne(M)?r(M):(e.consume(M),b)}function w(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||lt(M)?C(M):(e.consume(M),w)}function E(M){return M===47||M===62||pe(M)?p(M):r(M)}function D(M){return M===62?(e.consume(M),P):r(M)}function P(M){return M===null||ne(M)?A(M):pe(M)?(e.consume(M),P):r(M)}function A(M){return M===45&&i===2?(e.consume(M),U):M===60&&i===1?(e.consume(M),W):M===62&&i===4?(e.consume(M),O):M===63&&i===3?(e.consume(M),k):M===93&&i===5?(e.consume(M),I):ne(M)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(CC,F,B)(M)):M===null||ne(M)?(e.exit("htmlFlowData"),B(M)):(e.consume(M),A)}function B(M){return e.check(xC,j,F)(M)}function j(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),H}function H(M){return M===null||ne(M)?B(M):(e.enter("htmlFlowData"),A(M))}function U(M){return M===45?(e.consume(M),k):A(M)}function W(M){return M===47?(e.consume(M),l="",L):A(M)}function L(M){if(M===62){const Q=l.toLowerCase();return ld.includes(Q)?(e.consume(M),O):A(M)}return Ht(M)&&l.length<8?(e.consume(M),l+=String.fromCharCode(M),L):A(M)}function I(M){return M===93?(e.consume(M),k):A(M)}function k(M){return M===62?(e.consume(M),O):M===45&&i===2?(e.consume(M),k):A(M)}function O(M){return M===null||ne(M)?(e.exit("htmlFlowData"),F(M)):(e.consume(M),O)}function F(M){return e.exit("htmlFlow"),t(M)}}function EC(e,t,r){const n=this;return i;function i(l){return ne(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):r(l)}function s(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}function LC(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ho,t,r)}}const RC={name:"htmlText",tokenize:TC};function TC(e,t,r){const n=this;let i,s,l;return o;function o(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),a}function a(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),C):k===63?(e.consume(k),p):Ht(k)?(e.consume(k),w):r(k)}function u(k){return k===45?(e.consume(k),m):k===91?(e.consume(k),s=0,S):Ht(k)?(e.consume(k),f):r(k)}function m(k){return k===45?(e.consume(k),_):r(k)}function c(k){return k===null?r(k):k===45?(e.consume(k),g):ne(k)?(l=c,W(k)):(e.consume(k),c)}function g(k){return k===45?(e.consume(k),_):c(k)}function _(k){return k===62?U(k):k===45?g(k):c(k)}function S(k){const O="CDATA[";return k===O.charCodeAt(s++)?(e.consume(k),s===O.length?v:S):r(k)}function v(k){return k===null?r(k):k===93?(e.consume(k),h):ne(k)?(l=v,W(k)):(e.consume(k),v)}function h(k){return k===93?(e.consume(k),d):v(k)}function d(k){return k===62?U(k):k===93?(e.consume(k),d):v(k)}function f(k){return k===null||k===62?U(k):ne(k)?(l=f,W(k)):(e.consume(k),f)}function p(k){return k===null?r(k):k===63?(e.consume(k),y):ne(k)?(l=p,W(k)):(e.consume(k),p)}function y(k){return k===62?U(k):p(k)}function C(k){return Ht(k)?(e.consume(k),x):r(k)}function x(k){return k===45||ft(k)?(e.consume(k),x):b(k)}function b(k){return ne(k)?(l=b,W(k)):pe(k)?(e.consume(k),b):U(k)}function w(k){return k===45||ft(k)?(e.consume(k),w):k===47||k===62||lt(k)?E(k):r(k)}function E(k){return k===47?(e.consume(k),U):k===58||k===95||Ht(k)?(e.consume(k),D):ne(k)?(l=E,W(k)):pe(k)?(e.consume(k),E):U(k)}function D(k){return k===45||k===46||k===58||k===95||ft(k)?(e.consume(k),D):P(k)}function P(k){return k===61?(e.consume(k),A):ne(k)?(l=P,W(k)):pe(k)?(e.consume(k),P):E(k)}function A(k){return k===null||k===60||k===61||k===62||k===96?r(k):k===34||k===39?(e.consume(k),i=k,B):ne(k)?(l=A,W(k)):pe(k)?(e.consume(k),A):(e.consume(k),j)}function B(k){return k===i?(e.consume(k),i=void 0,H):k===null?r(k):ne(k)?(l=B,W(k)):(e.consume(k),B)}function j(k){return k===null||k===34||k===39||k===60||k===61||k===96?r(k):k===47||k===62||lt(k)?E(k):(e.consume(k),j)}function H(k){return k===47||k===62||lt(k)?E(k):r(k)}function U(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):r(k)}function W(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),L}function L(k){return pe(k)?ve(e,I,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):I(k)}function I(k){return e.enter("htmlTextData"),l(k)}}const Zu={name:"labelEnd",resolveAll:OC,resolveTo:IC,tokenize:MC},AC={tokenize:BC},DC={tokenize:NC},PC={tokenize:jC};function OC(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&$t(e,0,e.length,r),e}function IC(e,t){let r=e.length,n=0,i,s,l,o;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(l=r);const a={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[l][1].end}},m={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[l-2][1].start}};return o=[["enter",a,t],["enter",u,t]],o=wt(o,e.slice(s+1,s+n+3)),o=wt(o,[["enter",m,t]]),o=wt(o,Yu(t.parser.constructs.insideSpan.null,e.slice(s+n+4,l-3),t)),o=wt(o,[["exit",m,t],e[l-2],e[l-1],["exit",u,t]]),o=wt(o,e.slice(l+1)),o=wt(o,[["exit",a,t]]),$t(e,s,e.length,o),e}function MC(e,t,r){const n=this;let i=n.events.length,s,l;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return o;function o(g){return s?s._inactive?c(g):(l=n.parser.defined.includes(kn(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),a):r(g)}function a(g){return g===40?e.attempt(AC,m,l?m:c)(g):g===91?e.attempt(DC,m,l?u:c)(g):l?m(g):c(g)}function u(g){return e.attempt(PC,m,c)(g)}function m(g){return t(g)}function c(g){return s._balanced=!0,r(g)}}function BC(e,t,r){return n;function n(c){return e.enter("resource"),e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),i}function i(c){return lt(c)?_i(e,s)(c):s(c)}function s(c){return c===41?m(c):Zm(e,l,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function l(c){return lt(c)?_i(e,a)(c):m(c)}function o(c){return r(c)}function a(c){return c===34||c===39||c===40?tg(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):m(c)}function u(c){return lt(c)?_i(e,m)(c):m(c)}function m(c){return c===41?(e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),e.exit("resource"),t):r(c)}}function NC(e,t,r){const n=this;return i;function i(o){return eg.call(n,e,s,l,"reference","referenceMarker","referenceString")(o)}function s(o){return n.parser.defined.includes(kn(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function l(o){return r(o)}}function jC(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const FC={name:"labelStartImage",resolveAll:Zu.resolveAll,tokenize:HC};function HC(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),s}function s(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),l):r(o)}function l(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const zC={name:"labelStartLink",resolveAll:Zu.resolveAll,tokenize:UC};function UC(e,t,r){const n=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),s}function s(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const xl={name:"lineEnding",tokenize:WC};function WC(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),ve(e,t,"linePrefix")}}const Bs={name:"thematicBreak",tokenize:$C};function $C(e,t,r){let n=0,i;return s;function s(u){return e.enter("thematicBreak"),l(u)}function l(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):n>=3&&(u===null||ne(u))?(e.exit("thematicBreak"),t(u)):r(u)}function a(u){return u===i?(e.consume(u),n++,a):(e.exit("thematicBreakSequence"),pe(u)?ve(e,o,"whitespace")(u):o(u))}}const Ye={continuation:{tokenize:XC},exit:JC,name:"list",tokenize:KC},VC={partial:!0,tokenize:QC},qC={partial:!0,tokenize:GC};function KC(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return o;function o(_){const S=n.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!n.containerState.marker||_===n.containerState.marker:Na(_)){if(n.containerState.type||(n.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),_===42||_===45?e.check(Bs,r,u)(_):u(_);if(!n.interrupt||_===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(_)}return r(_)}function a(_){return Na(_)&&++l<10?(e.consume(_),a):(!n.interrupt||l<2)&&(n.containerState.marker?_===n.containerState.marker:_===41||_===46)?(e.exit("listItemValue"),u(_)):r(_)}function u(_){return e.enter("listItemMarker"),e.consume(_),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||_,e.check(Ho,n.interrupt?r:m,e.attempt(VC,g,c))}function m(_){return n.containerState.initialBlankLine=!0,s++,g(_)}function c(_){return pe(_)?(e.enter("listItemPrefixWhitespace"),e.consume(_),e.exit("listItemPrefixWhitespace"),g):r(_)}function g(_){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(_)}}function XC(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Ho,i,s);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,ve(e,t,"listItemIndent",n.containerState.size+1)(o)}function s(o){return n.containerState.furtherBlankLines||!pe(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(qC,t,l)(o))}function l(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,ve(e,e.attempt(Ye,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function GC(e,t,r){const n=this;return ve(e,i,"listItemIndent",n.containerState.size+1);function i(s){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?t(s):r(s)}}function JC(e){e.exit(this.containerState.type)}function QC(e,t,r){const n=this;return ve(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const l=n.events[n.events.length-1];return!pe(s)&&l&&l[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const ad={name:"setextUnderline",resolveTo:YC,tokenize:ZC};function YC(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const l={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",l,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=l,e.push(["exit",l,t]),e}function ZC(e,t,r){const n=this;let i;return s;function s(u){let m=n.events.length,c;for(;m--;)if(n.events[m][1].type!=="lineEnding"&&n.events[m][1].type!=="linePrefix"&&n.events[m][1].type!=="content"){c=n.events[m][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||c)?(e.enter("setextHeadingLine"),i=u,l(u)):r(u)}function l(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),pe(u)?ve(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||ne(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const ex={tokenize:tx};function tx(e){const t=this,r=e.attempt(Ho,n,e.attempt(this.parser.constructs.flowInitial,i,ve(e,e.attempt(this.parser.constructs.flow,i,e.attempt(oC,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const rx={resolveAll:ng()},nx=rg("string"),ix=rg("text");function rg(e){return{resolveAll:ng(e==="text"?sx:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,l,o);return l;function l(m){return u(m)?s(m):o(m)}function o(m){if(m===null){r.consume(m);return}return r.enter("data"),r.consume(m),a}function a(m){return u(m)?(r.exit("data"),s(m)):(r.consume(m),a)}function u(m){if(m===null)return!0;const c=i[m];let g=-1;if(c)for(;++g<c.length;){const _=c[g];if(!_.previous||_.previous.call(n,n.previous))return!0}return!1}}}function ng(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function sx(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,l=-1,o=0,a;for(;s--;){const u=i[s];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)o++,l--;if(l)break;l=-1}else if(u===-2)a=!0,o++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const u={type:r===e.length||a||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?l:n.start._bufferIndex+l,_index:n.start._index+s,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const ox={42:Ye,43:Ye,45:Ye,48:Ye,49:Ye,50:Ye,51:Ye,52:Ye,53:Ye,54:Ye,55:Ye,56:Ye,57:Ye,62:Gm},lx={91:hC},ax={[-2]:Cl,[-1]:Cl,32:Cl},ux={35:_C,42:Bs,45:[ad,Bs],60:wC,61:ad,95:Bs,96:od,126:od},cx={38:Qm,92:Jm},hx={[-5]:xl,[-4]:xl,[-3]:xl,33:FC,38:Qm,42:ja,60:[zw,RC],91:zC,92:[mC,Jm],93:Zu,95:ja,96:eC},dx={null:[ja,rx]},fx={null:[42,95]},px={null:[]},mx=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:fx,contentInitial:lx,disable:px,document:ox,flow:ux,flowInitial:ax,insideSpan:dx,string:cx,text:hx},Symbol.toStringTag,{value:"Module"}));function gx(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let l=[],o=[];const a={attempt:b(C),check:b(x),consume:f,enter:p,exit:y,interrupt:b(x,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:S,parser:e,previous:null,sliceSerialize:g,sliceStream:_,write:c};let m=t.tokenize.call(u,a);return t.resolveAll&&s.push(t),u;function c(P){return l=wt(l,P),h(),l[l.length-1]!==null?[]:(w(t,0),u.events=Yu(s,u.events,u),u.events)}function g(P,A){return vx(_(P),A)}function _(P){return _x(l,P)}function S(){const{_bufferIndex:P,_index:A,line:B,column:j,offset:H}=n;return{_bufferIndex:P,_index:A,line:B,column:j,offset:H}}function v(P){i[P.line]=P.column,D()}function h(){let P;for(;n._index<l.length;){const A=l[n._index];if(typeof A=="string")for(P=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===P&&n._bufferIndex<A.length;)d(A.charCodeAt(n._bufferIndex));else d(A)}}function d(P){m=m(P)}function f(P){ne(P)?(n.line++,n.column=1,n.offset+=P===-3?2:1,D()):P!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=P}function p(P,A){const B=A||{};return B.type=P,B.start=S(),u.events.push(["enter",B,u]),o.push(B),B}function y(P){const A=o.pop();return A.end=S(),u.events.push(["exit",A,u]),A}function C(P,A){w(P,A.from)}function x(P,A){A.restore()}function b(P,A){return B;function B(j,H,U){let W,L,I,k;return Array.isArray(j)?F(j):"tokenize"in j?F([j]):O(j);function O(te){return R;function R(N){const q=N!==null&&te[N],V=N!==null&&te.null,ie=[...Array.isArray(q)?q:q?[q]:[],...Array.isArray(V)?V:V?[V]:[]];return F(ie)(N)}}function F(te){return W=te,L=0,te.length===0?U:M(te[L])}function M(te){return R;function R(N){return k=E(),I=te,te.partial||(u.currentConstruct=te),te.name&&u.parser.constructs.disable.null.includes(te.name)?Y():te.tokenize.call(A?Object.assign(Object.create(u),A):u,a,Q,Y)(N)}}function Q(te){return P(I,k),H}function Y(te){return k.restore(),++L<W.length?M(W[L]):U}}}function w(P,A){P.resolveAll&&!s.includes(P)&&s.push(P),P.resolve&&$t(u.events,A,u.events.length-A,P.resolve(u.events.slice(A),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function E(){const P=S(),A=u.previous,B=u.currentConstruct,j=u.events.length,H=Array.from(o);return{from:j,restore:U};function U(){n=P,u.previous=A,u.currentConstruct=B,u.events.length=j,o=H,D()}}function D(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function _x(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let l;if(r===i)l=[e[r].slice(n,s)];else{if(l=e.slice(r,i),n>-1){const o=l[0];typeof o=="string"?l[0]=o.slice(n):l.shift()}s>0&&l.push(e[i].slice(0,s))}return l}function vx(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let l;if(typeof s=="string")l=s;else switch(s){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(s)}i=s===-2,n.push(l)}return n.join("")}function yx(e){const n={constructs:Ew([mx,...(e||{}).extensions||[]]),content:i(Iw),defined:[],document:i(Bw),flow:i(ex),lazy:{},string:i(nx),text:i(ix)};return n;function i(s){return l;function l(o){return gx(n,s,o)}}}function Sx(e){for(;!Ym(e););return e}const ud=/[\0\t\n\r]/g;function wx(){let e=1,t="",r=!0,n;return i;function i(s,l,o){const a=[];let u,m,c,g,_;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(l||void 0).decode(s)),c=0,t="",r&&(s.charCodeAt(0)===65279&&c++,r=void 0);c<s.length;){if(ud.lastIndex=c,u=ud.exec(s),g=u&&u.index!==void 0?u.index:s.length,_=s.charCodeAt(g),!u){t=s.slice(c);break}if(_===10&&c===g&&n)a.push(-3),n=void 0;else switch(n&&(a.push(-5),n=void 0),c<g&&(a.push(s.slice(c,g)),e+=g-c),_){case 0:{a.push(65533),e++;break}case 9:{for(m=Math.ceil(e/4)*4,a.push(-2);e++<m;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:n=!0,e=1}c=g+1}return o&&(n&&a.push(-5),t&&a.push(t),a.push(null)),a}}const Cx=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function xx(e){return e.replace(Cx,kx)}function kx(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return Xm(r.slice(s?2:1),s?16:10)}return Qu(r)||e}const ig={}.hasOwnProperty;function bx(e,t,r){return typeof t!="string"&&(r=t,t=void 0),Ex(r)(Sx(yx(r).document().write(wx()(e,t,!0))))}function Ex(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Yr),autolinkProtocol:E,autolinkEmail:E,atxHeading:s(Be),blockQuote:s(V),characterEscape:E,characterReference:E,codeFenced:s(ie),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(ie,l),codeText:s(Z,l),codeTextData:E,data:E,codeFlowValue:E,definition:s(de),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(De),hardBreakEscape:s(Vt),hardBreakTrailing:s(Vt),htmlFlow:s(le,l),htmlFlowData:E,htmlText:s(le,l),htmlTextData:E,image:s(Er),label:l,link:s(Yr),listItem:s(Un),listItemValue:g,listOrdered:s(Zr,c),listUnordered:s(Zr),paragraph:s(en),reference:M,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(Be),strong:s(Qe),thematicBreak:s(vt)},exit:{atxHeading:a(),atxHeadingSequence:C,autolink:a(),autolinkEmail:q,autolinkProtocol:N,blockQuote:a(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Y,characterReferenceMarkerNumeric:Y,characterReferenceValue:te,characterReference:R,codeFenced:a(h),codeFencedFence:v,codeFencedFenceInfo:_,codeFencedFenceMeta:S,codeFlowValue:D,codeIndented:a(d),codeText:a(H),codeTextData:D,data:D,definition:a(),definitionDestinationString:y,definitionLabelString:f,definitionTitleString:p,emphasis:a(),hardBreakEscape:a(A),hardBreakTrailing:a(A),htmlFlow:a(B),htmlFlowData:D,htmlText:a(j),htmlTextData:D,image:a(W),label:I,labelText:L,lineEnding:P,link:a(U),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Q,resourceDestinationString:k,resourceTitleString:O,resource:F,setextHeading:a(w),setextHeadingLineSequence:b,setextHeadingText:x,strong:a(),thematicBreak:a()}};sg(t,(e||{}).mdastExtensions||[]);const r={};return n;function n($){let J={type:"root",children:[]};const re={stack:[J],tokenStack:[],config:t,enter:o,exit:u,buffer:l,resume:m,data:r},ae=[];let ce=-1;for(;++ce<$.length;)if($[ce][1].type==="listOrdered"||$[ce][1].type==="listUnordered")if($[ce][0]==="enter")ae.push(ce);else{const Ne=ae.pop();ce=i($,Ne,ce)}for(ce=-1;++ce<$.length;){const Ne=t[$[ce][0]];ig.call(Ne,$[ce][1].type)&&Ne[$[ce][1].type].call(Object.assign({sliceSerialize:$[ce][2].sliceSerialize},re),$[ce][1])}if(re.tokenStack.length>0){const Ne=re.tokenStack[re.tokenStack.length-1];(Ne[1]||cd).call(re,void 0,Ne[0])}for(J.position={start:ir($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:ir($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},ce=-1;++ce<t.transforms.length;)J=t.transforms[ce](J)||J;return J}function i($,J,re){let ae=J-1,ce=-1,Ne=!1,fe,Et,Wn,$n;for(;++ae<=re;){const ut=$[ae];switch(ut[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ut[0]==="enter"?ce++:ce--,$n=void 0;break}case"lineEndingBlank":{ut[0]==="enter"&&(fe&&!$n&&!ce&&!Wn&&(Wn=ae),$n=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:$n=void 0}if(!ce&&ut[0]==="enter"&&ut[1].type==="listItemPrefix"||ce===-1&&ut[0]==="exit"&&(ut[1].type==="listUnordered"||ut[1].type==="listOrdered")){if(fe){let tn=ae;for(Et=void 0;tn--;){const qt=$[tn];if(qt[1].type==="lineEnding"||qt[1].type==="lineEndingBlank"){if(qt[0]==="exit")continue;Et&&($[Et][1].type="lineEndingBlank",Ne=!0),qt[1].type="lineEnding",Et=tn}else if(!(qt[1].type==="linePrefix"||qt[1].type==="blockQuotePrefix"||qt[1].type==="blockQuotePrefixWhitespace"||qt[1].type==="blockQuoteMarker"||qt[1].type==="listItemIndent"))break}Wn&&(!Et||Wn<Et)&&(fe._spread=!0),fe.end=Object.assign({},Et?$[Et][1].start:ut[1].end),$.splice(Et||ae,0,["exit",fe,ut[2]]),ae++,re++}if(ut[1].type==="listItemPrefix"){const tn={type:"listItem",_spread:!1,start:Object.assign({},ut[1].start),end:void 0};fe=tn,$.splice(ae,0,["enter",tn,ut[2]]),ae++,re++,Wn=void 0,$n=!0}}}return $[J][1]._spread=Ne,re}function s($,J){return re;function re(ae){o.call(this,$(ae),ae),J&&J.call(this,ae)}}function l(){this.stack.push({type:"fragment",children:[]})}function o($,J,re){this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([J,re||void 0]),$.position={start:ir(J.start),end:void 0}}function a($){return J;function J(re){$&&$.call(this,re),u.call(this,re)}}function u($,J){const re=this.stack.pop(),ae=this.tokenStack.pop();if(ae)ae[0].type!==$.type&&(J?J.call(this,$,ae[0]):(ae[1]||cd).call(this,$,ae[0]));else throw new Error("Cannot close `"+$.type+"` ("+gi({start:$.start,end:$.end})+"): its not open");re.position.end=ir($.end)}function m(){return kw(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function g($){if(this.data.expectingFirstListItemValue){const J=this.stack[this.stack.length-2];J.start=Number.parseInt(this.sliceSerialize($),10),this.data.expectingFirstListItemValue=void 0}}function _(){const $=this.resume(),J=this.stack[this.stack.length-1];J.lang=$}function S(){const $=this.resume(),J=this.stack[this.stack.length-1];J.meta=$}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function h(){const $=this.resume(),J=this.stack[this.stack.length-1];J.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function d(){const $=this.resume(),J=this.stack[this.stack.length-1];J.value=$.replace(/(\r?\n|\r)$/g,"")}function f($){const J=this.resume(),re=this.stack[this.stack.length-1];re.label=J,re.identifier=kn(this.sliceSerialize($)).toLowerCase()}function p(){const $=this.resume(),J=this.stack[this.stack.length-1];J.title=$}function y(){const $=this.resume(),J=this.stack[this.stack.length-1];J.url=$}function C($){const J=this.stack[this.stack.length-1];if(!J.depth){const re=this.sliceSerialize($).length;J.depth=re}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function b($){const J=this.stack[this.stack.length-1];J.depth=this.sliceSerialize($).codePointAt(0)===61?1:2}function w(){this.data.setextHeadingSlurpLineEnding=void 0}function E($){const re=this.stack[this.stack.length-1].children;let ae=re[re.length-1];(!ae||ae.type!=="text")&&(ae=Lr(),ae.position={start:ir($.start),end:void 0},re.push(ae)),this.stack.push(ae)}function D($){const J=this.stack.pop();J.value+=this.sliceSerialize($),J.position.end=ir($.end)}function P($){const J=this.stack[this.stack.length-1];if(this.data.atHardBreak){const re=J.children[J.children.length-1];re.position.end=ir($.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(J.type)&&(E.call(this,$),D.call(this,$))}function A(){this.data.atHardBreak=!0}function B(){const $=this.resume(),J=this.stack[this.stack.length-1];J.value=$}function j(){const $=this.resume(),J=this.stack[this.stack.length-1];J.value=$}function H(){const $=this.resume(),J=this.stack[this.stack.length-1];J.value=$}function U(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=J,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function W(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const J=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=J,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function L($){const J=this.sliceSerialize($),re=this.stack[this.stack.length-2];re.label=xx(J),re.identifier=kn(J).toLowerCase()}function I(){const $=this.stack[this.stack.length-1],J=this.resume(),re=this.stack[this.stack.length-1];if(this.data.inReference=!0,re.type==="link"){const ae=$.children;re.children=ae}else re.alt=J}function k(){const $=this.resume(),J=this.stack[this.stack.length-1];J.url=$}function O(){const $=this.resume(),J=this.stack[this.stack.length-1];J.title=$}function F(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function Q($){const J=this.resume(),re=this.stack[this.stack.length-1];re.label=J,re.identifier=kn(this.sliceSerialize($)).toLowerCase(),this.data.referenceType="full"}function Y($){this.data.characterReferenceType=$.type}function te($){const J=this.sliceSerialize($),re=this.data.characterReferenceType;let ae;re?(ae=Xm(J,re==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ae=Qu(J);const ce=this.stack[this.stack.length-1];ce.value+=ae}function R($){const J=this.stack.pop();J.position.end=ir($.end)}function N($){D.call(this,$);const J=this.stack[this.stack.length-1];J.url=this.sliceSerialize($)}function q($){D.call(this,$);const J=this.stack[this.stack.length-1];J.url="mailto:"+this.sliceSerialize($)}function V(){return{type:"blockquote",children:[]}}function ie(){return{type:"code",lang:null,meta:null,value:""}}function Z(){return{type:"inlineCode",value:""}}function de(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function De(){return{type:"emphasis",children:[]}}function Be(){return{type:"heading",depth:0,children:[]}}function Vt(){return{type:"break"}}function le(){return{type:"html",value:""}}function Er(){return{type:"image",title:null,url:"",alt:null}}function Yr(){return{type:"link",title:null,url:"",children:[]}}function Zr($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function Un($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function en(){return{type:"paragraph",children:[]}}function Qe(){return{type:"strong",children:[]}}function Lr(){return{type:"text",value:""}}function vt(){return{type:"thematicBreak"}}}function ir(e){return{line:e.line,column:e.column,offset:e.offset}}function sg(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?sg(e,n):Lx(e,n)}}function Lx(e,t){let r;for(r in t)if(ig.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function cd(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+gi({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+gi({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+gi({start:t.start,end:t.end})+") is still open")}function Rx(e){const t=this;t.parser=r;function r(n){return bx(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Tx(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function Ax(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function Dx(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function Px(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ox(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Ix(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=zn(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let l,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),l=e.footnoteOrder.length):l=s+1,o+=1,e.footnoteCounts.set(n,o);const a={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function Mx(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Bx(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function og(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=n:i.push({type:"text",value:n}),i}function Nx(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return og(e,t);const i={src:zn(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function jx(e,t){const r={src:zn(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function Fx(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function Hx(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return og(e,t);const i={href:zn(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function zx(e,t){const r={href:zn(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ux(e,t,r){const n=e.all(t),i=r?Wx(r):lg(t),s={},l=[];if(typeof t.checked=="boolean"){const m=n[0];let c;m&&m.type==="element"&&m.tagName==="p"?c=m:(c={type:"element",tagName:"p",properties:{},children:[]},n.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const m=n[o];(i||o!==0||m.type!=="element"||m.tagName!=="p")&&l.push({type:"text",value:`
`}),m.type==="element"&&m.tagName==="p"&&!i?l.push(...m.children):l.push(m)}const a=n[n.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:l};return e.patch(t,u),e.applyData(t,u)}function Wx(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=lg(r[n])}return t}function lg(e){const t=e.spread;return t??e.children.length>1}function $x(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const l=n[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function Vx(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qx(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function Kx(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Xx(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],l),i.push(l)}if(r.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=Ku(t.children[1]),a=zm(t.children[t.children.length-1]);o&&a&&(l.position={start:o,end:a}),i.push(l)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function Gx(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",l=r&&r.type==="table"?r.align:void 0,o=l?l.length:t.children.length;let a=-1;const u=[];for(;++a<o;){const c=t.children[a],g={},_=l?l[a]:void 0;_&&(g.align=_);let S={type:"element",tagName:s,properties:g,children:[]};c&&(S.children=e.all(c),e.patch(c,S),S=e.applyData(c,S)),u.push(S)}const m={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,m),e.applyData(t,m)}function Jx(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const hd=9,dd=32;function Qx(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push(fd(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push(fd(t.slice(i),i>0,!1)),s.join("")}function fd(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===hd||s===dd;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===hd||s===dd;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function Yx(e,t){const r={type:"text",value:Qx(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function Zx(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const ek={blockquote:Tx,break:Ax,code:Dx,delete:Px,emphasis:Ox,footnoteReference:Ix,heading:Mx,html:Bx,imageReference:Nx,image:jx,inlineCode:Fx,linkReference:Hx,link:zx,listItem:Ux,list:$x,paragraph:Vx,root:qx,strong:Kx,table:Xx,tableCell:Jx,tableRow:Gx,text:Yx,thematicBreak:Zx,toml:vs,yaml:vs,definition:vs,footnoteDefinition:vs};function vs(){}const ag=-1,zo=0,vi=1,co=2,ec=3,tc=4,rc=5,nc=6,ug=7,cg=8,pd=typeof self=="object"?self:globalThis,tk=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,l]=t[i];switch(s){case zo:case ag:return r(l,i);case vi:{const o=r([],i);for(const a of l)o.push(n(a));return o}case co:{const o=r({},i);for(const[a,u]of l)o[n(a)]=n(u);return o}case ec:return r(new Date(l),i);case tc:{const{source:o,flags:a}=l;return r(new RegExp(o,a),i)}case rc:{const o=r(new Map,i);for(const[a,u]of l)o.set(n(a),n(u));return o}case nc:{const o=r(new Set,i);for(const a of l)o.add(n(a));return o}case ug:{const{name:o,message:a}=l;return r(new pd[o](a),i)}case cg:return r(BigInt(l),i);case"BigInt":return r(Object(BigInt(l)),i);case"ArrayBuffer":return r(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:o}=new Uint8Array(l);return r(new DataView(o),l)}}return r(new pd[s](l),i)};return n},md=e=>tk(new Map,e)(0),nn="",{toString:rk}={},{keys:nk}=Object,ti=e=>{const t=typeof e;if(t!=="object"||!e)return[zo,t];const r=rk.call(e).slice(8,-1);switch(r){case"Array":return[vi,nn];case"Object":return[co,nn];case"Date":return[ec,nn];case"RegExp":return[tc,nn];case"Map":return[rc,nn];case"Set":return[nc,nn];case"DataView":return[vi,r]}return r.includes("Array")?[vi,r]:r.includes("Error")?[ug,r]:[co,r]},ys=([e,t])=>e===zo&&(t==="function"||t==="symbol"),ik=(e,t,r,n)=>{const i=(l,o)=>{const a=n.push(l)-1;return r.set(o,a),a},s=l=>{if(r.has(l))return r.get(l);let[o,a]=ti(l);switch(o){case zo:{let m=l;switch(a){case"bigint":o=cg,m=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);m=null;break;case"undefined":return i([ag],l)}return i([o,m],l)}case vi:{if(a){let g=l;return a==="DataView"?g=new Uint8Array(l.buffer):a==="ArrayBuffer"&&(g=new Uint8Array(l)),i([a,[...g]],l)}const m=[],c=i([o,m],l);for(const g of l)m.push(s(g));return c}case co:{if(a)switch(a){case"BigInt":return i([a,l.toString()],l);case"Boolean":case"Number":case"String":return i([a,l.valueOf()],l)}if(t&&"toJSON"in l)return s(l.toJSON());const m=[],c=i([o,m],l);for(const g of nk(l))(e||!ys(ti(l[g])))&&m.push([s(g),s(l[g])]);return c}case ec:return i([o,l.toISOString()],l);case tc:{const{source:m,flags:c}=l;return i([o,{source:m,flags:c}],l)}case rc:{const m=[],c=i([o,m],l);for(const[g,_]of l)(e||!(ys(ti(g))||ys(ti(_))))&&m.push([s(g),s(_)]);return c}case nc:{const m=[],c=i([o,m],l);for(const g of l)(e||!ys(ti(g)))&&m.push(s(g));return c}}const{message:u}=l;return i([o,{name:a,message:u}],l)};return s},gd=(e,{json:t,lossy:r}={})=>{const n=[];return ik(!(t||r),!!t,new Map,n)(e),n},ho=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?md(gd(e,t)):structuredClone(e):(e,t)=>md(gd(e,t));function sk(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function ok(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function lk(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||sk,n=e.options.footnoteBackLabel||ok,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const m=e.all(u),c=String(u.identifier).toUpperCase(),g=zn(c.toLowerCase());let _=0;const S=[],v=e.footnoteCounts.get(c);for(;v!==void 0&&++_<=v;){S.length>0&&S.push({type:"text",value:" "});let f=typeof r=="string"?r:r(a,_);typeof f=="string"&&(f={type:"text",value:f}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(a,_),className:["data-footnote-backref"]},children:Array.isArray(f)?f:[f]})}const h=m[m.length-1];if(h&&h.type==="element"&&h.tagName==="p"){const f=h.children[h.children.length-1];f&&f.type==="text"?f.value+=" ":h.children.push({type:"text",value:" "}),h.children.push(...S)}else m.push(...S);const d={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(m,!0)};e.patch(u,d),o.push(d)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...ho(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const hg=function(e){if(e==null)return hk;if(typeof e=="function")return Uo(e);if(typeof e=="object")return Array.isArray(e)?ak(e):uk(e);if(typeof e=="string")return ck(e);throw new Error("Expected function, string, or object as test")};function ak(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=hg(e[r]);return Uo(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function uk(e){const t=e;return Uo(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function ck(e){return Uo(t);function t(r){return r&&r.type===e}}function Uo(e){return t;function t(r,n,i){return!!(dk(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function hk(){return!0}function dk(e){return e!==null&&typeof e=="object"&&"type"in e}const dg=[],fk=!0,_d=!1,pk="skip";function mk(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=hg(i),l=n?-1:1;o(e,void 0,[])();function o(a,u,m){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const _=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(a.type+(_?"<"+_+">":""))+")"})}return g;function g(){let _=dg,S,v,h;if((!t||s(a,u,m[m.length-1]||void 0))&&(_=gk(r(a,m)),_[0]===_d))return _;if("children"in a&&a.children){const d=a;if(d.children&&_[0]!==pk)for(v=(n?d.children.length:-1)+l,h=m.concat(d);v>-1&&v<d.children.length;){const f=d.children[v];if(S=o(f,v,h)(),S[0]===_d)return S;v=typeof S[1]=="number"?S[1]:v+l}}return _}}}function gk(e){return Array.isArray(e)?e:typeof e=="number"?[fk,e]:e==null?dg:[e]}function fg(e,t,r,n){let i,s,l;typeof t=="function"&&typeof r!="function"?(s=void 0,l=t,i=r):(s=t,l=r,i=n),mk(e,s,o,i);function o(a,u){const m=u[u.length-1],c=m?m.children.indexOf(a):void 0;return l(a,c,m)}}const Fa={}.hasOwnProperty,_k={};function vk(e,t){const r=t||_k,n=new Map,i=new Map,s=new Map,l={...ek,...r.handlers},o={all:u,applyData:Sk,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:l,one:a,options:r,patch:yk,wrap:Ck};return fg(e,function(m){if(m.type==="definition"||m.type==="footnoteDefinition"){const c=m.type==="definition"?n:i,g=String(m.identifier).toUpperCase();c.has(g)||c.set(g,m)}}),o;function a(m,c){const g=m.type,_=o.handlers[g];if(Fa.call(o.handlers,g)&&_)return _(o,m,c);if(o.options.passThrough&&o.options.passThrough.includes(g)){if("children"in m){const{children:v,...h}=m,d=ho(h);return d.children=o.all(m),d}return ho(m)}return(o.options.unknownHandler||wk)(o,m,c)}function u(m){const c=[];if("children"in m){const g=m.children;let _=-1;for(;++_<g.length;){const S=o.one(g[_],m);if(S){if(_&&g[_-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=vd(S.value)),!Array.isArray(S)&&S.type==="element")){const v=S.children[0];v&&v.type==="text"&&(v.value=vd(v.value))}Array.isArray(S)?c.push(...S):c.push(S)}}}return c}}function yk(e,t){e.position&&(t.position=rw(e))}function Sk(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const l="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:l}}r.type==="element"&&s&&Object.assign(r.properties,ho(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function wk(e,t){const r=t.data||{},n="value"in t&&!(Fa.call(r,"hProperties")||Fa.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ck(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function vd(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function yd(e,t){const r=vk(e,t),n=r.one(e,void 0),i=lk(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function xk(e,t){return e&&"run"in e?async function(r,n){const i=yd(r,{file:n,...t});await e.run(i,n)}:function(r,n){return yd(r,{file:n,...e||t})}}function Sd(e){if(e)throw e}var Ns=Object.prototype.hasOwnProperty,pg=Object.prototype.toString,wd=Object.defineProperty,Cd=Object.getOwnPropertyDescriptor,xd=function(t){return typeof Array.isArray=="function"?Array.isArray(t):pg.call(t)==="[object Array]"},kd=function(t){if(!t||pg.call(t)!=="[object Object]")return!1;var r=Ns.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&Ns.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||Ns.call(t,i)},bd=function(t,r){wd&&r.name==="__proto__"?wd(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},Ed=function(t,r){if(r==="__proto__")if(Ns.call(t,r)){if(Cd)return Cd(t,r).value}else return;return t[r]},kk=function e(){var t,r,n,i,s,l,o=arguments[0],a=1,u=arguments.length,m=!1;for(typeof o=="boolean"&&(m=o,o=arguments[1]||{},a=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});a<u;++a)if(t=arguments[a],t!=null)for(r in t)n=Ed(o,r),i=Ed(t,r),o!==i&&(m&&i&&(kd(i)||(s=xd(i)))?(s?(s=!1,l=n&&xd(n)?n:[]):l=n&&kd(n)?n:{},bd(o,{name:r,newValue:e(m,l,i)})):typeof i<"u"&&bd(o,{name:r,newValue:i}));return o};const kl=fo(kk);function Ha(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function bk(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);o(null,...i);function o(a,...u){const m=e[++s];let c=-1;if(a){l(a);return}for(;++c<i.length;)(u[c]===null||u[c]===void 0)&&(u[c]=i[c]);i=u,m?Ek(m,o)(...u):l(null,...u)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Ek(e,t){let r;return n;function n(...l){const o=e.length>l.length;let a;o&&l.push(i);try{a=e.apply(this,l)}catch(u){const m=u;if(o&&r)throw m;return i(m)}o||(a&&a.then&&typeof a.then=="function"?a.then(s,i):a instanceof Error?i(a):s(a))}function i(l,...o){r||(r=!0,t(l,...o))}function s(l){i(null,l)}}const jt={basename:Lk,dirname:Rk,extname:Tk,join:Ak,sep:"/"};function Lk(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Zi(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let l=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else l<0&&(s=!0,l=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=l));return r===n?n=l:n<0&&(n=e.length),e.slice(r,n)}function Rk(e){if(Zi(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Tk(e){Zi(e);let t=e.length,r=-1,n=0,i=-1,s=0,l;for(;t--;){const o=e.codePointAt(t);if(o===47){if(l){n=t+1;break}continue}r<0&&(l=!0,r=t+1),o===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function Ak(...e){let t=-1,r;for(;++t<e.length;)Zi(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Dk(r)}function Dk(e){Zi(e);const t=e.codePointAt(0)===47;let r=Pk(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function Pk(e,t){let r="",n=0,i=-1,s=0,l=-1,o,a;for(;++l<=e.length;){if(l<e.length)o=e.codePointAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(a=r.lastIndexOf("/"),a!==r.length-1){a<0?(r="",n=0):(r=r.slice(0,a),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length>0){r="",n=0,i=l,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),n=l-i-1;i=l,s=0}else o===46&&s>-1?s++:s=-1}return r}function Zi(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Ok={cwd:Ik};function Ik(){return"/"}function za(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Mk(e){if(typeof e=="string")e=new URL(e);else if(!za(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Bk(e)}function Bk(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const bl=["history","path","basename","stem","extname","dirname"];class mg{constructor(t){let r;t?za(t)?r={path:t}:typeof t=="string"||Nk(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":Ok.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<bl.length;){const s=bl[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)bl.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?jt.basename(this.path):void 0}set basename(t){Ll(t,"basename"),El(t,"basename"),this.path=jt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?jt.dirname(this.path):void 0}set dirname(t){Ld(this.basename,"dirname"),this.path=jt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?jt.extname(this.path):void 0}set extname(t){if(El(t,"extname"),Ld(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=jt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){za(t)&&(t=Mk(t)),Ll(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?jt.basename(this.path,this.extname):void 0}set stem(t){Ll(t,"stem"),El(t,"stem"),this.path=jt.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new qe(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function El(e,t){if(e&&e.includes(jt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+jt.sep+"`")}function Ll(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ld(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Nk(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const jk=function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s},Fk={}.hasOwnProperty;class ic extends jk{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=bk()}copy(){const t=new ic;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(kl(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Al("data",this.frozen),this.namespace[t]=r,this):Fk.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Al("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Ss(t),n=this.parser||this.Parser;return Rl("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Rl("process",this.parser||this.Parser),Tl("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,l){const o=Ss(t),a=n.parse(o);n.run(a,o,function(m,c,g){if(m||!c||!g)return u(m);const _=c,S=n.stringify(_,g);Uk(S)?g.value=S:g.result=S,u(m,g)});function u(m,c){m||!c?l(m):s?s(c):r(void 0,c)}}}processSync(t){let r=!1,n;return this.freeze(),Rl("processSync",this.parser||this.Parser),Tl("processSync",this.compiler||this.Compiler),this.process(t,i),Td("processSync","process",r),n;function i(s,l){r=!0,Sd(s),n=l}}run(t,r,n){Rd(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(l,o){const a=Ss(r);i.run(t,a,u);function u(m,c,g){const _=c||t;m?o(m):l?l(_):n(void 0,_,g)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),Td("runSync","run",n),i;function s(l,o){Sd(l),i=o,n=!0}}stringify(t,r){this.freeze();const n=Ss(r),i=this.compiler||this.Compiler;return Tl("stringify",i),Rd(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(Al("use",this.frozen),t!=null)if(typeof t=="function")a(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[m,...c]=u;a(m,c)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=kl(!0,i.settings,u.settings))}function o(u){let m=-1;if(u!=null)if(Array.isArray(u))for(;++m<u.length;){const c=u[m];s(c)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,m){let c=-1,g=-1;for(;++c<n.length;)if(n[c][0]===u){g=c;break}if(g===-1)n.push([u,...m]);else if(m.length>0){let[_,...S]=m;const v=n[g][1];Ha(v)&&Ha(_)&&(_=kl(!0,v,_)),n[g]=[u,_,...S]}}}}const Hk=new ic().freeze();function Rl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Tl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Al(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Rd(e){if(!Ha(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Td(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ss(e){return zk(e)?e:new mg(e)}function zk(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Uk(e){return typeof e=="string"||Wk(e)}function Wk(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const $k="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ad=[],Dd={allowDangerousHtml:!0},Vk=/^(https?|ircs?|mailto|xmpp)$/i,qk=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Kk(e){const t=Xk(e),r=Gk(e);return Jk(t.runSync(t.parse(r),r),e)}function Xk(e){const t=e.rehypePlugins||Ad,r=e.remarkPlugins||Ad,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Dd}:Dd;return Hk().use(Rx).use(r).use(xk,n).use(t)}function Gk(e){const t=e.children||"",r=new mg;return typeof t=="string"&&(r.value=t),r}function Jk(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,s=t.disallowedElements,l=t.skipHtml,o=t.unwrapDisallowed,a=t.urlTransform||Qk;for(const m of qk)Object.hasOwn(t,m.from)&&(""+m.from+(m.to?"use `"+m.to+"` instead":"remove it")+$k+m.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),fg(e,u),lw(e,{Fragment:T.Fragment,components:i,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function u(m,c,g){if(m.type==="raw"&&g&&typeof c=="number")return l?g.children.splice(c,1):g.children[c]={type:"text",value:m.value},c;if(m.type==="element"){let _;for(_ in wl)if(Object.hasOwn(wl,_)&&Object.hasOwn(m.properties,_)){const S=m.properties[_],v=wl[_];(v===null||v.includes(m.tagName))&&(m.properties[_]=a(String(S||""),_,m))}}if(m.type==="element"){let _=r?!r.includes(m.tagName):s?s.includes(m.tagName):!1;if(!_&&n&&typeof c=="number"&&(_=!n(m,c,g)),_&&g&&typeof c=="number")return o&&m.children?g.children.splice(c,1,...m.children):g.children.splice(c,1),c}}}function Qk(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||Vk.test(e.slice(0,t))?e:""}function Yk({message:e}){const t=e.role==="user",r=e.role==="system",n=()=>{switch(e.type){case"thinking":return"bg-purple-50 border-purple-200 text-purple-900";case"action":return"bg-blue-50 border-blue-200 text-blue-900";case"observation":return"bg-gray-50 border-gray-200 text-gray-800";case"terminal":return"bg-gray-900 text-green-400 font-mono text-sm";case"error":return"bg-red-50 border-red-200 text-red-900";default:return t?"bg-blue-600 text-white":r?"bg-yellow-50 border-yellow-200 text-yellow-800":"bg-white border-gray-200 text-gray-900"}},i=()=>{switch(e.type){case"thinking":return T.jsx("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})});case"action":return T.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})});case"terminal":return T.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});case"error":return T.jsx("svg",{className:"w-4 h-4 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});default:return null}},s=()=>{switch(e.type){case"thinking":return"Thinking";case"action":return"Action";case"observation":return"Observation";case"terminal":return"Terminal";case"error":return"Error";default:return null}};return T.jsx("div",{className:ot("flex",t?"justify-end":"justify-start"),children:T.jsxs("div",{className:ot("max-w-3xl rounded-lg border",(e.type==="terminal","px-4 py-3"),n()),children:[!t&&e.type&&e.type!=="text"&&T.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-current/10",children:[i(),T.jsx("span",{className:"text-xs font-medium uppercase tracking-wider opacity-70",children:s()})]}),e.type==="terminal"?T.jsx("pre",{className:"whitespace-pre-wrap break-all",children:e.content}):T.jsx("div",{className:"prose prose-sm max-w-none prose-p:my-1 prose-pre:my-2 prose-code:text-sm",children:T.jsx(Kk,{children:e.content})}),T.jsx("div",{className:ot("text-xs mt-2 opacity-50",t?"text-right":"text-left"),children:new Date(e.timestamp).toLocaleTimeString()})]})})}function Zk({onSend:e,onStop:t,disabled:r,isRunning:n,placeholder:i}){const[s,l]=K.useState(""),o=()=>{!s.trim()||r||(e(s.trim()),l(""))},a=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),o())};return T.jsx("div",{className:"border-t bg-white p-4",children:T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsxs("div",{className:"flex gap-3",children:[T.jsx("textarea",{value:s,onChange:u=>l(u.target.value),onKeyDown:a,placeholder:i||"Describe what you want to build or fix...",disabled:r||n,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed",rows:2}),T.jsx("div",{className:"flex flex-col gap-2",children:n?T.jsxs(zt,{variant:"danger",onClick:t,className:"h-full",children:[T.jsxs("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}),"Stop"]}):T.jsxs(zt,{onClick:o,disabled:!s.trim()||r,className:"h-full",children:[T.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),"Send"]})})]}),T.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})})}function eb({task:e,isRunning:t}){if(!e)return null;const r=()=>{switch(e.status){case"planning":return{label:"Planning",status:"running"};case"executing":return{label:"Executing",status:"running"};case"completed":return{label:"Completed",status:"completed"};case"failed":return{label:"Failed",status:"failed"};default:return{label:"Pending",status:"pending"}}},{label:n,status:i}=r();return T.jsx("div",{className:"bg-white border-b px-4 py-3",children:T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[t&&T.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-md",children:e.description}),T.jsxs("p",{className:"text-xs text-gray-500",children:["Task ID: ",e.id.slice(0,8),"..."]})]})]}),T.jsx(Nr,{status:i,label:n,pulse:t})]}),e.plan.length>0&&T.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:T.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1",children:e.plan.map((s,l)=>T.jsxs("div",{className:ot("flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap",{"bg-green-100 text-green-800":s.status==="completed","bg-blue-100 text-blue-800":s.status==="executing","bg-gray-100 text-gray-600":s.status==="pending","bg-red-100 text-red-800":s.status==="failed"}),children:[T.jsx("span",{className:"w-5 h-5 rounded-full bg-current/10 flex items-center justify-center",children:s.status==="completed"?T.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.status==="executing"?T.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}):T.jsx("span",{children:l+1})}),T.jsx("span",{className:"truncate max-w-32",children:s.description})]},s.id))})})]})})}var gg={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={4567:function(l,o,a){var u=this&&this.__decorate||function(p,y,C,x){var b,w=arguments.length,E=w<3?y:x===null?x=Object.getOwnPropertyDescriptor(y,C):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(p,y,C,x);else for(var D=p.length-1;D>=0;D--)(b=p[D])&&(E=(w<3?b(E):w>3?b(y,C,E):b(y,C))||E);return w>3&&E&&Object.defineProperty(y,C,E),E},m=this&&this.__param||function(p,y){return function(C,x){y(C,x,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.AccessibilityManager=void 0;const c=a(9042),g=a(6114),_=a(9924),S=a(844),v=a(5596),h=a(4725),d=a(3656);let f=o.AccessibilityManager=class extends S.Disposable{constructor(p,y){super(),this._terminal=p,this._renderService=y,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let C=0;C<this._terminal.rows;C++)this._rowElements[C]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[C]);if(this._topBoundaryFocusListener=C=>this._handleBoundaryFocus(C,0),this._bottomBoundaryFocusListener=C=>this._handleBoundaryFocus(C,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new _.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(C=>this._handleResize(C.rows))),this.register(this._terminal.onRender(C=>this._refreshRows(C.start,C.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(C=>this._handleChar(C))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(C=>this._handleTab(C))),this.register(this._terminal.onKey(C=>this._handleKey(C.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new v.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,d.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,S.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(p){for(let y=0;y<p;y++)this._handleChar(" ")}_handleChar(p){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==p&&(this._charsToAnnounce+=p):this._charsToAnnounce+=p,p===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=c.tooMuchOutput)),g.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,g.isMac&&this._liveRegion.remove()}_handleKey(p){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(p)||this._charsToConsume.push(p)}_refreshRows(p,y){this._liveRegionDebouncer.refresh(p,y,this._terminal.rows)}_renderRows(p,y){const C=this._terminal.buffer,x=C.lines.length.toString();for(let b=p;b<=y;b++){const w=C.translateBufferLineToString(C.ydisp+b,!0),E=(C.ydisp+b+1).toString(),D=this._rowElements[b];D&&(w.length===0?D.innerText="":D.textContent=w,D.setAttribute("aria-posinset",E),D.setAttribute("aria-setsize",x))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(p,y){const C=p.target,x=this._rowElements[y===0?1:this._rowElements.length-2];if(C.getAttribute("aria-posinset")===(y===0?"1":`${this._terminal.buffer.lines.length}`)||p.relatedTarget!==x)return;let b,w;if(y===0?(b=C,w=this._rowElements.pop(),this._rowContainer.removeChild(w)):(b=this._rowElements.shift(),w=C,this._rowContainer.removeChild(b)),b.removeEventListener("focus",this._topBoundaryFocusListener),w.removeEventListener("focus",this._bottomBoundaryFocusListener),y===0){const E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else{const E=this._createAccessibilityTreeNode();this._rowElements.push(E),this._rowContainer.appendChild(E)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(y===0?-1:1),this._rowElements[y===0?1:this._rowElements.length-2].focus(),p.preventDefault(),p.stopImmediatePropagation()}_handleResize(p){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let y=this._rowContainer.children.length;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);for(;this._rowElements.length>p;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const p=document.createElement("div");return p.setAttribute("role","listitem"),p.tabIndex=-1,this._refreshRowDimensions(p),p}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let p=0;p<this._terminal.rows;p++)this._refreshRowDimensions(this._rowElements[p])}}_refreshRowDimensions(p){p.style.height=`${this._renderService.dimensions.css.cell.height}px`}};o.AccessibilityManager=f=u([m(1,h.IRenderService)],f)},3614:(l,o)=>{function a(g){return g.replace(/\r?\n/g,"\r")}function u(g,_){return _?"\x1B[200~"+g+"\x1B[201~":g}function m(g,_,S,v){g=u(g=a(g),S.decPrivateModes.bracketedPasteMode&&v.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(g,!0),_.value=""}function c(g,_,S){const v=S.getBoundingClientRect(),h=g.clientX-v.left-10,d=g.clientY-v.top-10;_.style.width="20px",_.style.height="20px",_.style.left=`${h}px`,_.style.top=`${d}px`,_.style.zIndex="1000",_.focus()}Object.defineProperty(o,"__esModule",{value:!0}),o.rightClickHandler=o.moveTextAreaUnderMouseCursor=o.paste=o.handlePasteEvent=o.copyHandler=o.bracketTextForPaste=o.prepareTextForTerminal=void 0,o.prepareTextForTerminal=a,o.bracketTextForPaste=u,o.copyHandler=function(g,_){g.clipboardData&&g.clipboardData.setData("text/plain",_.selectionText),g.preventDefault()},o.handlePasteEvent=function(g,_,S,v){g.stopPropagation(),g.clipboardData&&m(g.clipboardData.getData("text/plain"),_,S,v)},o.paste=m,o.moveTextAreaUnderMouseCursor=c,o.rightClickHandler=function(g,_,S,v,h){c(g,_,S),h&&v.rightClickSelect(g),_.value=v.selectionText,_.select()}},7239:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorContrastCache=void 0;const u=a(1505);o.ColorContrastCache=class{constructor(){this._color=new u.TwoKeyMap,this._css=new u.TwoKeyMap}setCss(m,c,g){this._css.set(m,c,g)}getCss(m,c){return this._css.get(m,c)}setColor(m,c,g){this._color.set(m,c,g)}getColor(m,c){return this._color.get(m,c)}clear(){this._color.clear(),this._css.clear()}}},3656:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.addDisposableDomListener=void 0,o.addDisposableDomListener=function(a,u,m,c){a.addEventListener(u,m,c);let g=!1;return{dispose:()=>{g||(g=!0,a.removeEventListener(u,m,c))}}}},6465:function(l,o,a){var u=this&&this.__decorate||function(h,d,f,p){var y,C=arguments.length,x=C<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,f):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,d,f,p);else for(var b=h.length-1;b>=0;b--)(y=h[b])&&(x=(C<3?y(x):C>3?y(d,f,x):y(d,f))||x);return C>3&&x&&Object.defineProperty(d,f,x),x},m=this&&this.__param||function(h,d){return function(f,p){d(f,p,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Linkifier2=void 0;const c=a(3656),g=a(8460),_=a(844),S=a(2585);let v=o.Linkifier2=class extends _.Disposable{get currentLink(){return this._currentLink}constructor(h){super(),this._bufferService=h,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,_.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,_.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(h){return this._linkProviders.push(h),{dispose:()=>{const d=this._linkProviders.indexOf(h);d!==-1&&this._linkProviders.splice(d,1)}}}attachToDom(h,d,f){this._element=h,this._mouseService=d,this._renderService=f,this.register((0,c.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,c.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,c.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,c.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(h){if(this._lastMouseEvent=h,!this._element||!this._mouseService)return;const d=this._positionFromMouseEvent(h,this._element,this._mouseService);if(!d)return;this._isMouseOut=!1;const f=h.composedPath();for(let p=0;p<f.length;p++){const y=f[p];if(y.classList.contains("xterm"))break;if(y.classList.contains("xterm-hover"))return}this._lastBufferCell&&d.x===this._lastBufferCell.x&&d.y===this._lastBufferCell.y||(this._handleHover(d),this._lastBufferCell=d)}_handleHover(h){if(this._activeLine!==h.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(h,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,h)||(this._clearCurrentLink(),this._askForLink(h,!0))}_askForLink(h,d){var f,p;this._activeProviderReplies&&d||((f=this._activeProviderReplies)===null||f===void 0||f.forEach(C=>{C==null||C.forEach(x=>{x.link.dispose&&x.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=h.y);let y=!1;for(const[C,x]of this._linkProviders.entries())d?!((p=this._activeProviderReplies)===null||p===void 0)&&p.get(C)&&(y=this._checkLinkProviderResult(C,h,y)):x.provideLinks(h.y,b=>{var w,E;if(this._isMouseOut)return;const D=b==null?void 0:b.map(P=>({link:P}));(w=this._activeProviderReplies)===null||w===void 0||w.set(C,D),y=this._checkLinkProviderResult(C,h,y),((E=this._activeProviderReplies)===null||E===void 0?void 0:E.size)===this._linkProviders.length&&this._removeIntersectingLinks(h.y,this._activeProviderReplies)})}_removeIntersectingLinks(h,d){const f=new Set;for(let p=0;p<d.size;p++){const y=d.get(p);if(y)for(let C=0;C<y.length;C++){const x=y[C],b=x.link.range.start.y<h?0:x.link.range.start.x,w=x.link.range.end.y>h?this._bufferService.cols:x.link.range.end.x;for(let E=b;E<=w;E++){if(f.has(E)){y.splice(C--,1);break}f.add(E)}}}}_checkLinkProviderResult(h,d,f){var p;if(!this._activeProviderReplies)return f;const y=this._activeProviderReplies.get(h);let C=!1;for(let x=0;x<h;x++)this._activeProviderReplies.has(x)&&!this._activeProviderReplies.get(x)||(C=!0);if(!C&&y){const x=y.find(b=>this._linkAtPosition(b.link,d));x&&(f=!0,this._handleNewLink(x))}if(this._activeProviderReplies.size===this._linkProviders.length&&!f)for(let x=0;x<this._activeProviderReplies.size;x++){const b=(p=this._activeProviderReplies.get(x))===null||p===void 0?void 0:p.find(w=>this._linkAtPosition(w.link,d));if(b){f=!0,this._handleNewLink(b);break}}return f}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(h){if(!this._element||!this._mouseService||!this._currentLink)return;const d=this._positionFromMouseEvent(h,this._element,this._mouseService);d&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,d)&&this._currentLink.link.activate(h,this._currentLink.link.text)}_clearCurrentLink(h,d){this._element&&this._currentLink&&this._lastMouseEvent&&(!h||!d||this._currentLink.link.range.start.y>=h&&this._currentLink.link.range.end.y<=d)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,_.disposeArray)(this._linkCacheDisposables))}_handleNewLink(h){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const d=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);d&&this._linkAtPosition(h.link,d)&&(this._currentLink=h,this._currentLink.state={decorations:{underline:h.link.decorations===void 0||h.link.decorations.underline,pointerCursor:h.link.decorations===void 0||h.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,h.link,this._lastMouseEvent),h.link.decorations={},Object.defineProperties(h.link.decorations,{pointerCursor:{get:()=>{var f,p;return(p=(f=this._currentLink)===null||f===void 0?void 0:f.state)===null||p===void 0?void 0:p.decorations.pointerCursor},set:f=>{var p,y;!((p=this._currentLink)===null||p===void 0)&&p.state&&this._currentLink.state.decorations.pointerCursor!==f&&(this._currentLink.state.decorations.pointerCursor=f,this._currentLink.state.isHovered&&((y=this._element)===null||y===void 0||y.classList.toggle("xterm-cursor-pointer",f)))}},underline:{get:()=>{var f,p;return(p=(f=this._currentLink)===null||f===void 0?void 0:f.state)===null||p===void 0?void 0:p.decorations.underline},set:f=>{var p,y,C;!((p=this._currentLink)===null||p===void 0)&&p.state&&((C=(y=this._currentLink)===null||y===void 0?void 0:y.state)===null||C===void 0?void 0:C.decorations.underline)!==f&&(this._currentLink.state.decorations.underline=f,this._currentLink.state.isHovered&&this._fireUnderlineEvent(h.link,f))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(f=>{if(!this._currentLink)return;const p=f.start===0?0:f.start+1+this._bufferService.buffer.ydisp,y=this._bufferService.buffer.ydisp+1+f.end;if(this._currentLink.link.range.start.y>=p&&this._currentLink.link.range.end.y<=y&&(this._clearCurrentLink(p,y),this._lastMouseEvent&&this._element)){const C=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);C&&this._askForLink(C,!1)}})))}_linkHover(h,d,f){var p;!((p=this._currentLink)===null||p===void 0)&&p.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!0),this._currentLink.state.decorations.pointerCursor&&h.classList.add("xterm-cursor-pointer")),d.hover&&d.hover(f,d.text)}_fireUnderlineEvent(h,d){const f=h.range,p=this._bufferService.buffer.ydisp,y=this._createLinkUnderlineEvent(f.start.x-1,f.start.y-p-1,f.end.x,f.end.y-p-1,void 0);(d?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(y)}_linkLeave(h,d,f){var p;!((p=this._currentLink)===null||p===void 0)&&p.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!1),this._currentLink.state.decorations.pointerCursor&&h.classList.remove("xterm-cursor-pointer")),d.leave&&d.leave(f,d.text)}_linkAtPosition(h,d){const f=h.range.start.y*this._bufferService.cols+h.range.start.x,p=h.range.end.y*this._bufferService.cols+h.range.end.x,y=d.y*this._bufferService.cols+d.x;return f<=y&&y<=p}_positionFromMouseEvent(h,d,f){const p=f.getCoords(h,d,this._bufferService.cols,this._bufferService.rows);if(p)return{x:p[0],y:p[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(h,d,f,p,y){return{x1:h,y1:d,x2:f,y2:p,cols:this._bufferService.cols,fg:y}}};o.Linkifier2=v=u([m(0,S.IBufferService)],v)},9042:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.tooMuchOutput=o.promptLabel=void 0,o.promptLabel="Terminal input",o.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(l,o,a){var u=this&&this.__decorate||function(v,h,d,f){var p,y=arguments.length,C=y<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(v,h,d,f);else for(var x=v.length-1;x>=0;x--)(p=v[x])&&(C=(y<3?p(C):y>3?p(h,d,C):p(h,d))||C);return y>3&&C&&Object.defineProperty(h,d,C),C},m=this&&this.__param||function(v,h){return function(d,f){h(d,f,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkProvider=void 0;const c=a(511),g=a(2585);let _=o.OscLinkProvider=class{constructor(v,h,d){this._bufferService=v,this._optionsService=h,this._oscLinkService=d}provideLinks(v,h){var d;const f=this._bufferService.buffer.lines.get(v-1);if(!f)return void h(void 0);const p=[],y=this._optionsService.rawOptions.linkHandler,C=new c.CellData,x=f.getTrimmedLength();let b=-1,w=-1,E=!1;for(let D=0;D<x;D++)if(w!==-1||f.hasContent(D)){if(f.loadCell(D,C),C.hasExtendedAttrs()&&C.extended.urlId){if(w===-1){w=D,b=C.extended.urlId;continue}E=C.extended.urlId!==b}else w!==-1&&(E=!0);if(E||w!==-1&&D===x-1){const P=(d=this._oscLinkService.getLinkData(b))===null||d===void 0?void 0:d.uri;if(P){const A={start:{x:w+1,y:v},end:{x:D+(E||D!==x-1?0:1),y:v}};let B=!1;if(!(y!=null&&y.allowNonHttpProtocols))try{const j=new URL(P);["http:","https:"].includes(j.protocol)||(B=!0)}catch{B=!0}B||p.push({text:P,range:A,activate:(j,H)=>y?y.activate(j,H,A):S(0,H),hover:(j,H)=>{var U;return(U=y==null?void 0:y.hover)===null||U===void 0?void 0:U.call(y,j,H,A)},leave:(j,H)=>{var U;return(U=y==null?void 0:y.leave)===null||U===void 0?void 0:U.call(y,j,H,A)}})}E=!1,C.hasExtendedAttrs()&&C.extended.urlId?(w=D,b=C.extended.urlId):(w=-1,b=-1)}}h(p)}};function S(v,h){if(confirm(`Do you want to navigate to ${h}?

WARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}}o.OscLinkProvider=_=u([m(0,g.IBufferService),m(1,g.IOptionsService),m(2,g.IOscLinkService)],_)},6193:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.RenderDebouncer=void 0,o.RenderDebouncer=class{constructor(a,u){this._parentWindow=a,this._renderCallback=u,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(a,u,m){this._rowCount=m,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},5596:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ScreenDprMonitor=void 0;const u=a(844);class m extends u.Disposable{constructor(g){super(),this._parentWindow=g,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,u.toDisposable)(()=>{this.clearListener()}))}setListener(g){this._listener&&this.clearListener(),this._listener=g,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var g;this._outerListener&&((g=this._resolutionMediaMatchList)===null||g===void 0||g.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}o.ScreenDprMonitor=m},3236:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const u=a(3614),m=a(3656),c=a(6465),g=a(9042),_=a(3730),S=a(1680),v=a(3107),h=a(5744),d=a(2950),f=a(1296),p=a(428),y=a(4269),C=a(5114),x=a(8934),b=a(3230),w=a(9312),E=a(4725),D=a(6731),P=a(8055),A=a(8969),B=a(8460),j=a(844),H=a(6114),U=a(8437),W=a(2584),L=a(7399),I=a(5941),k=a(9074),O=a(2585),F=a(5435),M=a(4567),Q=typeof window<"u"?window.document:null;class Y extends A.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(R={}){super(R),this.browser=H,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new j.MutableDisposable),this._onCursorMove=this.register(new B.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new B.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new B.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new B.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new B.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new B.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new B.EventEmitter),this._onBlur=this.register(new B.EventEmitter),this._onA11yCharEmitter=this.register(new B.EventEmitter),this._onA11yTabEmitter=this.register(new B.EventEmitter),this._onWillOpen=this.register(new B.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(c.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(_.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(k.DecorationService),this._instantiationService.setService(O.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((N,q)=>this.refresh(N,q))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(N=>this._reportWindowsOptions(N))),this.register(this._inputHandler.onColor(N=>this._handleColorEvent(N))),this.register((0,B.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,B.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,B.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,B.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(N=>this._afterResize(N.cols,N.rows))),this.register((0,j.toDisposable)(()=>{var N,q;this._customKeyEventHandler=void 0,(q=(N=this.element)===null||N===void 0?void 0:N.parentNode)===null||q===void 0||q.removeChild(this.element)}))}_handleColorEvent(R){if(this._themeService)for(const N of R){let q,V="";switch(N.index){case 256:q="foreground",V="10";break;case 257:q="background",V="11";break;case 258:q="cursor",V="12";break;default:q="ansi",V="4;"+N.index}switch(N.type){case 0:const ie=P.color.toColorRGB(q==="ansi"?this._themeService.colors.ansi[N.index]:this._themeService.colors[q]);this.coreService.triggerDataEvent(`${W.C0.ESC}]${V};${(0,I.toRgbString)(ie)}${W.C1_ESCAPED.ST}`);break;case 1:if(q==="ansi")this._themeService.modifyColors(Z=>Z.ansi[N.index]=P.rgba.toColor(...N.color));else{const Z=q;this._themeService.modifyColors(de=>de[Z]=P.rgba.toColor(...N.color))}break;case 2:this._themeService.restoreColor(N.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(R){R?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(M.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(R){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(W.C0.ESC+"[I"),this.updateCursorStyle(R),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var R;return(R=this.textarea)===null||R===void 0?void 0:R.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(W.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const R=this.buffer.ybase+this.buffer.y,N=this.buffer.lines.get(R);if(!N)return;const q=Math.min(this.buffer.x,this.cols-1),V=this._renderService.dimensions.css.cell.height,ie=N.getWidth(q),Z=this._renderService.dimensions.css.cell.width*ie,de=this.buffer.y*this._renderService.dimensions.css.cell.height,De=q*this._renderService.dimensions.css.cell.width;this.textarea.style.left=De+"px",this.textarea.style.top=de+"px",this.textarea.style.width=Z+"px",this.textarea.style.height=V+"px",this.textarea.style.lineHeight=V+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,m.addDisposableDomListener)(this.element,"copy",N=>{this.hasSelection()&&(0,u.copyHandler)(N,this._selectionService)}));const R=N=>(0,u.handlePasteEvent)(N,this.textarea,this.coreService,this.optionsService);this.register((0,m.addDisposableDomListener)(this.textarea,"paste",R)),this.register((0,m.addDisposableDomListener)(this.element,"paste",R)),H.isFirefox?this.register((0,m.addDisposableDomListener)(this.element,"mousedown",N=>{N.button===2&&(0,u.rightClickHandler)(N,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,m.addDisposableDomListener)(this.element,"contextmenu",N=>{(0,u.rightClickHandler)(N,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),H.isLinux&&this.register((0,m.addDisposableDomListener)(this.element,"auxclick",N=>{N.button===1&&(0,u.moveTextAreaUnderMouseCursor)(N,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,m.addDisposableDomListener)(this.textarea,"keyup",R=>this._keyUp(R),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keydown",R=>this._keyDown(R),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"keypress",R=>this._keyPress(R),!0)),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionupdate",R=>this._compositionHelper.compositionupdate(R))),this.register((0,m.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,m.addDisposableDomListener)(this.textarea,"input",R=>this._inputEvent(R),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(R){var N;if(!R)throw new Error("Terminal requires a parent element.");R.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=R.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),R.appendChild(this.element);const q=Q.createDocumentFragment();this._viewportElement=Q.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),q.appendChild(this._viewportElement),this._viewportScrollArea=Q.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Q.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Q.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),q.appendChild(this.screenElement),this.textarea=Q.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),H.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(C.CoreBrowserService,this.textarea,(N=this._document.defaultView)!==null&&N!==void 0?N:window),this._instantiationService.setService(E.ICoreBrowserService,this._coreBrowserService),this.register((0,m.addDisposableDomListener)(this.textarea,"focus",V=>this._handleTextAreaFocus(V))),this.register((0,m.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(p.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(E.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(D.ThemeService),this._instantiationService.setService(E.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(y.CharacterJoinerService),this._instantiationService.setService(E.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(b.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(E.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(V=>this._onRender.fire(V))),this.onResize(V=>this._renderService.resize(V.cols,V.rows)),this._compositionView=Q.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(q);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(x.MouseService),this._instantiationService.setService(E.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(V=>this.scrollLines(V.amount,V.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(w.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(E.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(V=>this.scrollLines(V.amount,V.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(V=>this._renderService.handleSelectionChanged(V.start,V.end,V.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(V=>{this.textarea.value=V,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(V=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(v.BufferDecorationRenderer,this.screenElement)),this.register((0,m.addDisposableDomListener)(this.element,"mousedown",V=>this._selectionService.handleMouseDown(V))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(M.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",V=>this._handleScreenReaderModeOptionChange(V))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",V=>{!this._overviewRulerRenderer&&V&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(f.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const R=this,N=this.element;function q(Z){const de=R._mouseService.getMouseReportCoords(Z,R.screenElement);if(!de)return!1;let De,Be;switch(Z.overrideType||Z.type){case"mousemove":Be=32,Z.buttons===void 0?(De=3,Z.button!==void 0&&(De=Z.button<3?Z.button:3)):De=1&Z.buttons?0:4&Z.buttons?1:2&Z.buttons?2:3;break;case"mouseup":Be=0,De=Z.button<3?Z.button:3;break;case"mousedown":Be=1,De=Z.button<3?Z.button:3;break;case"wheel":if(R.viewport.getLinesScrolled(Z)===0)return!1;Be=Z.deltaY<0?0:1,De=4;break;default:return!1}return!(Be===void 0||De===void 0||De>4)&&R.coreMouseService.triggerMouseEvent({col:de.col,row:de.row,x:de.x,y:de.y,button:De,action:Be,ctrl:Z.ctrlKey,alt:Z.altKey,shift:Z.shiftKey})}const V={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ie={mouseup:Z=>(q(Z),Z.buttons||(this._document.removeEventListener("mouseup",V.mouseup),V.mousedrag&&this._document.removeEventListener("mousemove",V.mousedrag)),this.cancel(Z)),wheel:Z=>(q(Z),this.cancel(Z,!0)),mousedrag:Z=>{Z.buttons&&q(Z)},mousemove:Z=>{Z.buttons||q(Z)}};this.register(this.coreMouseService.onProtocolChange(Z=>{Z?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Z)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Z?V.mousemove||(N.addEventListener("mousemove",ie.mousemove),V.mousemove=ie.mousemove):(N.removeEventListener("mousemove",V.mousemove),V.mousemove=null),16&Z?V.wheel||(N.addEventListener("wheel",ie.wheel,{passive:!1}),V.wheel=ie.wheel):(N.removeEventListener("wheel",V.wheel),V.wheel=null),2&Z?V.mouseup||(N.addEventListener("mouseup",ie.mouseup),V.mouseup=ie.mouseup):(this._document.removeEventListener("mouseup",V.mouseup),N.removeEventListener("mouseup",V.mouseup),V.mouseup=null),4&Z?V.mousedrag||(V.mousedrag=ie.mousedrag):(this._document.removeEventListener("mousemove",V.mousedrag),V.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,m.addDisposableDomListener)(N,"mousedown",Z=>{if(Z.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Z))return q(Z),V.mouseup&&this._document.addEventListener("mouseup",V.mouseup),V.mousedrag&&this._document.addEventListener("mousemove",V.mousedrag),this.cancel(Z)})),this.register((0,m.addDisposableDomListener)(N,"wheel",Z=>{if(!V.wheel){if(!this.buffer.hasScrollback){const de=this.viewport.getLinesScrolled(Z);if(de===0)return;const De=W.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Z.deltaY<0?"A":"B");let Be="";for(let Vt=0;Vt<Math.abs(de);Vt++)Be+=De;return this.coreService.triggerDataEvent(Be,!0),this.cancel(Z,!0)}return this.viewport.handleWheel(Z)?this.cancel(Z):void 0}},{passive:!1})),this.register((0,m.addDisposableDomListener)(N,"touchstart",Z=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Z),this.cancel(Z)},{passive:!0})),this.register((0,m.addDisposableDomListener)(N,"touchmove",Z=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Z)?void 0:this.cancel(Z)},{passive:!1}))}refresh(R,N){var q;(q=this._renderService)===null||q===void 0||q.refreshRows(R,N)}updateCursorStyle(R){var N;!((N=this._selectionService)===null||N===void 0)&&N.shouldColumnSelect(R)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(R,N,q=0){var V;q===1?(super.scrollLines(R,N,q),this.refresh(0,this.rows-1)):(V=this.viewport)===null||V===void 0||V.scrollLines(R)}paste(R){(0,u.paste)(R,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(R){this._customKeyEventHandler=R}registerLinkProvider(R){return this.linkifier2.registerLinkProvider(R)}registerCharacterJoiner(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const N=this._characterJoinerService.register(R);return this.refresh(0,this.rows-1),N}deregisterCharacterJoiner(R){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(R)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(R){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+R)}registerDecoration(R){return this._decorationService.registerDecoration(R)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(R,N,q){this._selectionService.setSelection(R,N,q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var R;(R=this._selectionService)===null||R===void 0||R.clearSelection()}selectAll(){var R;(R=this._selectionService)===null||R===void 0||R.selectAll()}selectLines(R,N){var q;(q=this._selectionService)===null||q===void 0||q.selectLines(R,N)}_keyDown(R){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;const N=this.browser.isMac&&this.options.macOptionIsMeta&&R.altKey;if(!N&&!this._compositionHelper.keydown(R))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;N||R.key!=="Dead"&&R.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const q=(0,L.evaluateKeyboardEvent)(R,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(R),q.type===3||q.type===2){const V=this.rows-1;return this.scrollLines(q.type===2?-V:V),this.cancel(R,!0)}return q.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,R)||(q.cancel&&this.cancel(R,!0),!q.key||!!(R.key&&!R.ctrlKey&&!R.altKey&&!R.metaKey&&R.key.length===1&&R.key.charCodeAt(0)>=65&&R.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(q.key!==W.C0.ETX&&q.key!==W.C0.CR||(this.textarea.value=""),this._onKey.fire({key:q.key,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(q.key,!0),!this.optionsService.rawOptions.screenReaderMode||R.altKey||R.ctrlKey?this.cancel(R,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(R,N){const q=R.isMac&&!this.options.macOptionIsMeta&&N.altKey&&!N.ctrlKey&&!N.metaKey||R.isWindows&&N.altKey&&N.ctrlKey&&!N.metaKey||R.isWindows&&N.getModifierState("AltGraph");return N.type==="keypress"?q:q&&(!N.keyCode||N.keyCode>47)}_keyUp(R){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1||(function(N){return N.keyCode===16||N.keyCode===17||N.keyCode===18}(R)||this.focus(),this.updateCursorStyle(R),this._keyPressHandled=!1)}_keyPress(R){let N;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(R)===!1)return!1;if(this.cancel(R),R.charCode)N=R.charCode;else if(R.which===null||R.which===void 0)N=R.keyCode;else{if(R.which===0||R.charCode===0)return!1;N=R.which}return!(!N||(R.altKey||R.ctrlKey||R.metaKey)&&!this._isThirdLevelShift(this.browser,R)||(N=String.fromCharCode(N),this._onKey.fire({key:N,domEvent:R}),this._showCursor(),this.coreService.triggerDataEvent(N,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(R){if(R.data&&R.inputType==="insertText"&&(!R.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const N=R.data;return this.coreService.triggerDataEvent(N,!0),this.cancel(R),!0}return!1}resize(R,N){R!==this.cols||N!==this.rows?super.resize(R,N):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(R,N){var q,V;(q=this._charSizeService)===null||q===void 0||q.measure(),(V=this.viewport)===null||V===void 0||V.syncScrollArea(!0)}clear(){var R;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let N=1;N<this.rows;N++)this.buffer.lines.push(this.buffer.getBlankLine(U.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(R=this.viewport)===null||R===void 0||R.reset(),this.refresh(0,this.rows-1)}}reset(){var R,N;this.options.rows=this.rows,this.options.cols=this.cols;const q=this._customKeyEventHandler;this._setup(),super.reset(),(R=this._selectionService)===null||R===void 0||R.reset(),this._decorationService.reset(),(N=this.viewport)===null||N===void 0||N.reset(),this._customKeyEventHandler=q,this.refresh(0,this.rows-1)}clearTextureAtlas(){var R;(R=this._renderService)===null||R===void 0||R.clearTextureAtlas()}_reportFocus(){var R;!((R=this.element)===null||R===void 0)&&R.classList.contains("focus")?this.coreService.triggerDataEvent(W.C0.ESC+"[I"):this.coreService.triggerDataEvent(W.C0.ESC+"[O")}_reportWindowsOptions(R){if(this._renderService)switch(R){case F.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const N=this._renderService.dimensions.css.canvas.width.toFixed(0),q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${W.C0.ESC}[4;${q};${N}t`);break;case F.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const V=this._renderService.dimensions.css.cell.width.toFixed(0),ie=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${W.C0.ESC}[6;${ie};${V}t`)}}cancel(R,N){if(this.options.cancelEvents||N)return R.preventDefault(),R.stopPropagation(),!1}}o.Terminal=Y},9924:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TimeBasedDebouncer=void 0,o.TimeBasedDebouncer=class{constructor(a,u=1e3){this._renderCallback=a,this._debounceThresholdMS=u,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,u,m){this._rowCount=m,a=a!==void 0?a:0,u=u!==void 0?u:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,u):u;const c=Date.now();if(c-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=c,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=c-this._lastRefreshMs,_=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},_)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),u=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,u)}}},1680:function(l,o,a){var u=this&&this.__decorate||function(d,f,p,y){var C,x=arguments.length,b=x<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,p):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(d,f,p,y);else for(var w=d.length-1;w>=0;w--)(C=d[w])&&(b=(x<3?C(b):x>3?C(f,p,b):C(f,p))||b);return x>3&&b&&Object.defineProperty(f,p,b),b},m=this&&this.__param||function(d,f){return function(p,y){f(p,y,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.Viewport=void 0;const c=a(3656),g=a(4725),_=a(8460),S=a(844),v=a(2585);let h=o.Viewport=class extends S.Disposable{constructor(d,f,p,y,C,x,b,w){super(),this._viewportElement=d,this._scrollArea=f,this._bufferService=p,this._optionsService=y,this._charSizeService=C,this._renderService=x,this._coreBrowserService=b,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,c.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(E=>this._activeBuffer=E.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(E=>this._renderDimensions=E)),this._handleThemeChange(w.colors),this.register(w.onChangeColors(E=>this._handleThemeChange(E))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(d){this._viewportElement.style.backgroundColor=d.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(d){if(d)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const f=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==f&&(this._lastRecordedBufferHeight=f,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const d=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==d&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=d),this._refreshAnimationFrame=null}syncScrollArea(d=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(d)}_handleScroll(d){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const f=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:f,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const d=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(d*(this._smoothScrollState.target-this._smoothScrollState.origin)),d<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(d,f){const p=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(f<0&&this._viewportElement.scrollTop!==0||f>0&&p<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)}handleWheel(d){const f=this._getPixelsScrolled(d);return f!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+f:this._smoothScrollState.target+=f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=f,this._bubbleScroll(d,f))}scrollLines(d){if(d!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const f=d*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+f,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!1})}_getPixelsScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let f=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?f*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._currentRowHeight*this._bufferService.rows),f}getBufferElements(d,f){var p;let y,C="";const x=[],b=f??this._bufferService.buffer.lines.length,w=this._bufferService.buffer.lines;for(let E=d;E<b;E++){const D=w.get(E);if(!D)continue;const P=(p=w.get(E+1))===null||p===void 0?void 0:p.isWrapped;if(C+=D.translateToString(!P),!P||E===w.length-1){const A=document.createElement("div");A.textContent=C,x.push(A),C.length>0&&(y=A),C=""}}return{bufferElements:x,cursorElement:y}}getLinesScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let f=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(f/=this._currentRowHeight+0,this._wheelPartialScroll+=f,f=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(f*=this._bufferService.rows),f}_applyScrollModifier(d,f){const p=this._optionsService.rawOptions.fastScrollModifier;return p==="alt"&&f.altKey||p==="ctrl"&&f.ctrlKey||p==="shift"&&f.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(d){this._lastTouchY=d.touches[0].pageY}handleTouchMove(d){const f=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,f!==0&&(this._viewportElement.scrollTop+=f,this._bubbleScroll(d,f))}};o.Viewport=h=u([m(2,v.IBufferService),m(3,v.IOptionsService),m(4,g.ICharSizeService),m(5,g.IRenderService),m(6,g.ICoreBrowserService),m(7,g.IThemeService)],h)},3107:function(l,o,a){var u=this&&this.__decorate||function(h,d,f,p){var y,C=arguments.length,x=C<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,f):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,d,f,p);else for(var b=h.length-1;b>=0;b--)(y=h[b])&&(x=(C<3?y(x):C>3?y(d,f,x):y(d,f))||x);return C>3&&x&&Object.defineProperty(d,f,x),x},m=this&&this.__param||function(h,d){return function(f,p){d(f,p,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferDecorationRenderer=void 0;const c=a(3656),g=a(4725),_=a(844),S=a(2585);let v=o.BufferDecorationRenderer=class extends _.Disposable{constructor(h,d,f,p){super(),this._screenElement=h,this._bufferService=d,this._decorationService=f,this._renderService=p,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,c.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(y=>this._removeDecoration(y))),this.register((0,_.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const h of this._decorationService.decorations)this._renderDecoration(h);this._dimensionsChanged=!1}_renderDecoration(h){this._refreshStyle(h),this._dimensionsChanged&&this._refreshXPosition(h)}_createElement(h){var d,f;const p=document.createElement("div");p.classList.add("xterm-decoration"),p.classList.toggle("xterm-decoration-top-layer",((d=h==null?void 0:h.options)===null||d===void 0?void 0:d.layer)==="top"),p.style.width=`${Math.round((h.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,p.style.height=(h.options.height||1)*this._renderService.dimensions.css.cell.height+"px",p.style.top=(h.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",p.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=(f=h.options.x)!==null&&f!==void 0?f:0;return y&&y>this._bufferService.cols&&(p.style.display="none"),this._refreshXPosition(h,p),p}_refreshStyle(h){const d=h.marker.line-this._bufferService.buffers.active.ydisp;if(d<0||d>=this._bufferService.rows)h.element&&(h.element.style.display="none",h.onRenderEmitter.fire(h.element));else{let f=this._decorationElements.get(h);f||(f=this._createElement(h),h.element=f,this._decorationElements.set(h,f),this._container.appendChild(f),h.onDispose(()=>{this._decorationElements.delete(h),f.remove()})),f.style.top=d*this._renderService.dimensions.css.cell.height+"px",f.style.display=this._altBufferIsActive?"none":"block",h.onRenderEmitter.fire(f)}}_refreshXPosition(h,d=h.element){var f;if(!d)return;const p=(f=h.options.x)!==null&&f!==void 0?f:0;(h.options.anchor||"left")==="right"?d.style.right=p?p*this._renderService.dimensions.css.cell.width+"px":"":d.style.left=p?p*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(h){var d;(d=this._decorationElements.get(h))===null||d===void 0||d.remove(),this._decorationElements.delete(h),h.dispose()}};o.BufferDecorationRenderer=v=u([m(1,S.IBufferService),m(2,S.IDecorationService),m(3,g.IRenderService)],v)},5871:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ColorZoneStore=void 0,o.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const u of this._zones)if(u.color===a.options.overviewRulerOptions.color&&u.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(u,a.marker.line))return;if(this._lineAdjacentToZone(u,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(u,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,u){return u>=a.startBufferLine&&u<=a.endBufferLine}_lineAdjacentToZone(a,u,m){return u>=a.startBufferLine-this._linePadding[m||"full"]&&u<=a.endBufferLine+this._linePadding[m||"full"]}_addLineToZone(a,u){a.startBufferLine=Math.min(a.startBufferLine,u),a.endBufferLine=Math.max(a.endBufferLine,u)}}},5744:function(l,o,a){var u=this&&this.__decorate||function(y,C,x,b){var w,E=arguments.length,D=E<3?C:b===null?b=Object.getOwnPropertyDescriptor(C,x):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(y,C,x,b);else for(var P=y.length-1;P>=0;P--)(w=y[P])&&(D=(E<3?w(D):E>3?w(C,x,D):w(C,x))||D);return E>3&&D&&Object.defineProperty(C,x,D),D},m=this&&this.__param||function(y,C){return function(x,b){C(x,b,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OverviewRulerRenderer=void 0;const c=a(5871),g=a(3656),_=a(4725),S=a(844),v=a(2585),h={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},f={full:0,left:0,center:0,right:0};let p=o.OverviewRulerRenderer=class extends S.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(y,C,x,b,w,E,D){var P;super(),this._viewportElement=y,this._screenElement=C,this._bufferService=x,this._decorationService=b,this._renderService=w,this._optionsService=E,this._coreBrowseService=D,this._colorZoneStore=new c.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(P=this._viewportElement.parentElement)===null||P===void 0||P.insertBefore(this._canvas,this._viewportElement);const A=this._canvas.getContext("2d");if(!A)throw new Error("Ctx cannot be null");this._ctx=A,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,S.toDisposable)(()=>{var B;(B=this._canvas)===null||B===void 0||B.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,g.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const y=Math.floor(this._canvas.width/3),C=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=y,d.center=C,d.right=y,this._refreshDrawHeightConstants(),f.full=0,f.left=0,f.center=d.left,f.right=d.left+d.center}_refreshDrawHeightConstants(){h.full=Math.round(2*this._coreBrowseService.dpr);const y=this._canvas.height/this._bufferService.buffer.lines.length,C=Math.round(Math.max(Math.min(y,12),6)*this._coreBrowseService.dpr);h.left=C,h.center=C,h.right=C}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const C of this._decorationService.decorations)this._colorZoneStore.addDecoration(C);this._ctx.lineWidth=1;const y=this._colorZoneStore.zones;for(const C of y)C.position!=="full"&&this._renderColorZone(C);for(const C of y)C.position==="full"&&this._renderColorZone(C);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(y){this._ctx.fillStyle=y.color,this._ctx.fillRect(f[y.position||"full"],Math.round((this._canvas.height-1)*(y.startBufferLine/this._bufferService.buffers.active.lines.length)-h[y.position||"full"]/2),d[y.position||"full"],Math.round((this._canvas.height-1)*((y.endBufferLine-y.startBufferLine)/this._bufferService.buffers.active.lines.length)+h[y.position||"full"]))}_queueRefresh(y,C){this._shouldUpdateDimensions=y||this._shouldUpdateDimensions,this._shouldUpdateAnchor=C||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};o.OverviewRulerRenderer=p=u([m(2,v.IBufferService),m(3,v.IDecorationService),m(4,_.IRenderService),m(5,v.IOptionsService),m(6,_.ICoreBrowserService)],p)},2950:function(l,o,a){var u=this&&this.__decorate||function(v,h,d,f){var p,y=arguments.length,C=y<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,d):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(v,h,d,f);else for(var x=v.length-1;x>=0;x--)(p=v[x])&&(C=(y<3?p(C):y>3?p(h,d,C):p(h,d))||C);return y>3&&C&&Object.defineProperty(h,d,C),C},m=this&&this.__param||function(v,h){return function(d,f){h(d,f,v)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositionHelper=void 0;const c=a(4725),g=a(2585),_=a(2584);let S=o.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(v,h,d,f,p,y){this._textarea=v,this._compositionView=h,this._bufferService=d,this._optionsService=f,this._coreService=p,this._renderService=y,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(v){this._compositionView.textContent=v.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(v){if(this._isComposing||this._isSendingComposition){if(v.keyCode===229||v.keyCode===16||v.keyCode===17||v.keyCode===18)return!1;this._finalizeComposition(!1)}return v.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(v){if(this._compositionView.classList.remove("active"),this._isComposing=!1,v){const h={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,h.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(h.start,h.end):this._textarea.value.substring(h.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}},0)}else{this._isSendingComposition=!1;const h=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(h,!0)}}_handleAnyTextareaChanges(){const v=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const h=this._textarea.value,d=h.replace(v,"");this._dataAlreadySent=d,h.length>v.length?this._coreService.triggerDataEvent(d,!0):h.length<v.length?this._coreService.triggerDataEvent(`${_.C0.DEL}`,!0):h.length===v.length&&h!==v&&this._coreService.triggerDataEvent(h,!0)}},0)}updateCompositionElements(v){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const h=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,f=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,p=h*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=p+"px",this._compositionView.style.top=f+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const y=this._compositionView.getBoundingClientRect();this._textarea.style.left=p+"px",this._textarea.style.top=f+"px",this._textarea.style.width=Math.max(y.width,1)+"px",this._textarea.style.height=Math.max(y.height,1)+"px",this._textarea.style.lineHeight=y.height+"px"}v||setTimeout(()=>this.updateCompositionElements(!0),0)}}};o.CompositionHelper=S=u([m(2,g.IBufferService),m(3,g.IOptionsService),m(4,g.ICoreService),m(5,c.IRenderService)],S)},9806:(l,o)=>{function a(u,m,c){const g=c.getBoundingClientRect(),_=u.getComputedStyle(c),S=parseInt(_.getPropertyValue("padding-left")),v=parseInt(_.getPropertyValue("padding-top"));return[m.clientX-g.left-S,m.clientY-g.top-v]}Object.defineProperty(o,"__esModule",{value:!0}),o.getCoords=o.getCoordsRelativeToElement=void 0,o.getCoordsRelativeToElement=a,o.getCoords=function(u,m,c,g,_,S,v,h,d){if(!S)return;const f=a(u,m,c);return f?(f[0]=Math.ceil((f[0]+(d?v/2:0))/v),f[1]=Math.ceil(f[1]/h),f[0]=Math.min(Math.max(f[0],1),g+(d?1:0)),f[1]=Math.min(Math.max(f[1],1),_),f):void 0}},9504:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.moveToCellSequence=void 0;const u=a(2584);function m(h,d,f,p){const y=h-c(h,f),C=d-c(d,f),x=Math.abs(y-C)-function(b,w,E){let D=0;const P=b-c(b,E),A=w-c(w,E);for(let B=0;B<Math.abs(P-A);B++){const j=g(b,w)==="A"?-1:1,H=E.buffer.lines.get(P+j*B);H!=null&&H.isWrapped&&D++}return D}(h,d,f);return v(x,S(g(h,d),p))}function c(h,d){let f=0,p=d.buffer.lines.get(h),y=p==null?void 0:p.isWrapped;for(;y&&h>=0&&h<d.rows;)f++,p=d.buffer.lines.get(--h),y=p==null?void 0:p.isWrapped;return f}function g(h,d){return h>d?"A":"B"}function _(h,d,f,p,y,C){let x=h,b=d,w="";for(;x!==f||b!==p;)x+=y?1:-1,y&&x>C.cols-1?(w+=C.buffer.translateBufferLineToString(b,!1,h,x),x=0,h=0,b++):!y&&x<0&&(w+=C.buffer.translateBufferLineToString(b,!1,0,h+1),x=C.cols-1,h=x,b--);return w+C.buffer.translateBufferLineToString(b,!1,h,x)}function S(h,d){const f=d?"O":"[";return u.C0.ESC+f+h}function v(h,d){h=Math.floor(h);let f="";for(let p=0;p<h;p++)f+=d;return f}o.moveToCellSequence=function(h,d,f,p){const y=f.buffer.x,C=f.buffer.y;if(!f.buffer.hasScrollback)return function(w,E,D,P,A,B){return m(E,P,A,B).length===0?"":v(_(w,E,w,E-c(E,A),!1,A).length,S("D",B))}(y,C,0,d,f,p)+m(C,d,f,p)+function(w,E,D,P,A,B){let j;j=m(E,P,A,B).length>0?P-c(P,A):E;const H=P,U=function(W,L,I,k,O,F){let M;return M=m(I,k,O,F).length>0?k-c(k,O):L,W<I&&M<=k||W>=I&&M<k?"C":"D"}(w,E,D,P,A,B);return v(_(w,j,D,H,U==="C",A).length,S(U,B))}(y,C,h,d,f,p);let x;if(C===d)return x=y>h?"D":"C",v(Math.abs(y-h),S(x,p));x=C>d?"D":"C";const b=Math.abs(C-d);return v(function(w,E){return E.cols-w}(C>d?h:y,f)+(b-1)*f.cols+1+((C>d?y:h)-1),S(x,p))}},1296:function(l,o,a){var u=this&&this.__decorate||function(A,B,j,H){var U,W=arguments.length,L=W<3?B:H===null?H=Object.getOwnPropertyDescriptor(B,j):H;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(A,B,j,H);else for(var I=A.length-1;I>=0;I--)(U=A[I])&&(L=(W<3?U(L):W>3?U(B,j,L):U(B,j))||L);return W>3&&L&&Object.defineProperty(B,j,L),L},m=this&&this.__param||function(A,B){return function(j,H){B(j,H,A)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRenderer=void 0;const c=a(3787),g=a(2550),_=a(2223),S=a(6171),v=a(4725),h=a(8055),d=a(8460),f=a(844),p=a(2585),y="xterm-dom-renderer-owner-",C="xterm-rows",x="xterm-fg-",b="xterm-bg-",w="xterm-focus",E="xterm-selection";let D=1,P=o.DomRenderer=class extends f.Disposable{constructor(A,B,j,H,U,W,L,I,k,O){super(),this._element=A,this._screenElement=B,this._viewportElement=j,this._linkifier2=H,this._charSizeService=W,this._optionsService=L,this._bufferService=I,this._coreBrowserService=k,this._themeService=O,this._terminalClass=D++,this._rowElements=[],this.onRequestRedraw=this.register(new d.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(C),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(E),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(F=>this._injectCss(F))),this._injectCss(this._themeService.colors),this._rowFactory=U.createInstance(c.DomRendererRowFactory,document),this._element.classList.add(y+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(F=>this._handleLinkHover(F))),this.register(this._linkifier2.onHideLinkUnderline(F=>this._handleLinkLeave(F))),this.register((0,f.toDisposable)(()=>{this._element.classList.remove(y+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const A=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*A,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*A),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/A),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/A),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const j of this._rowElements)j.style.width=`${this.dimensions.css.canvas.width}px`,j.style.height=`${this.dimensions.css.cell.height}px`,j.style.lineHeight=`${this.dimensions.css.cell.height}px`,j.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const B=`${this._terminalSelector} .${C} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=B,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(A){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let B=`${this._terminalSelector} .${C} { color: ${A.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;B+=`${this._terminalSelector} .${C} .xterm-dim { color: ${h.color.multiplyOpacity(A.foreground,.5).css};}`,B+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,B+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",B+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${A.cursor.css};  color: ${A.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${A.cursor.css}; }}`,B+=`${this._terminalSelector} .${C}.${w} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${C}.${w} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-block { background-color: ${A.cursor.css}; color: ${A.cursorAccent.css};}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${A.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${A.cursor.css} inset;}${this._terminalSelector} .${C} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${A.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,B+=`${this._terminalSelector} .${E} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${E} div { position: absolute; background-color: ${A.selectionBackgroundOpaque.css};}${this._terminalSelector} .${E} div { position: absolute; background-color: ${A.selectionInactiveBackgroundOpaque.css};}`;for(const[j,H]of A.ansi.entries())B+=`${this._terminalSelector} .${x}${j} { color: ${H.css}; }${this._terminalSelector} .${x}${j}.xterm-dim { color: ${h.color.multiplyOpacity(H,.5).css}; }${this._terminalSelector} .${b}${j} { background-color: ${H.css}; }`;B+=`${this._terminalSelector} .${x}${_.INVERTED_DEFAULT_COLOR} { color: ${h.color.opaque(A.background).css}; }${this._terminalSelector} .${x}${_.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${h.color.multiplyOpacity(h.color.opaque(A.background),.5).css}; }${this._terminalSelector} .${b}${_.INVERTED_DEFAULT_COLOR} { background-color: ${A.foreground.css}; }`,this._themeStyleElement.textContent=B}_setDefaultSpacing(){const A=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${A}px`,this._rowFactory.defaultSpacing=A}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(A,B){for(let j=this._rowElements.length;j<=B;j++){const H=document.createElement("div");this._rowContainer.appendChild(H),this._rowElements.push(H)}for(;this._rowElements.length>B;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(A,B){this._refreshRowElements(A,B),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(w)}handleFocus(){this._rowContainer.classList.add(w),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(A,B,j){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(A,B,j),this.renderRows(0,this._bufferService.rows-1),!A||!B)return;const H=A[1]-this._bufferService.buffer.ydisp,U=B[1]-this._bufferService.buffer.ydisp,W=Math.max(H,0),L=Math.min(U,this._bufferService.rows-1);if(W>=this._bufferService.rows||L<0)return;const I=document.createDocumentFragment();if(j){const k=A[0]>B[0];I.appendChild(this._createSelectionElement(W,k?B[0]:A[0],k?A[0]:B[0],L-W+1))}else{const k=H===W?A[0]:0,O=W===U?B[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(W,k,O));const F=L-W-1;if(I.appendChild(this._createSelectionElement(W+1,0,this._bufferService.cols,F)),W!==L){const M=U===L?B[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(L,0,M))}}this._selectionContainer.appendChild(I)}_createSelectionElement(A,B,j,H=1){const U=document.createElement("div");return U.style.height=H*this.dimensions.css.cell.height+"px",U.style.top=A*this.dimensions.css.cell.height+"px",U.style.left=B*this.dimensions.css.cell.width+"px",U.style.width=this.dimensions.css.cell.width*(j-B)+"px",U}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const A of this._rowElements)A.replaceChildren()}renderRows(A,B){const j=this._bufferService.buffer,H=j.ybase+j.y,U=Math.min(j.x,this._bufferService.cols-1),W=this._optionsService.rawOptions.cursorBlink,L=this._optionsService.rawOptions.cursorStyle,I=this._optionsService.rawOptions.cursorInactiveStyle;for(let k=A;k<=B;k++){const O=k+j.ydisp,F=this._rowElements[k],M=j.lines.get(O);if(!F||!M)break;F.replaceChildren(...this._rowFactory.createRow(M,O,O===H,L,I,U,W,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${y}${this._terminalClass}`}_handleLinkHover(A){this._setCellUnderline(A.x1,A.x2,A.y1,A.y2,A.cols,!0)}_handleLinkLeave(A){this._setCellUnderline(A.x1,A.x2,A.y1,A.y2,A.cols,!1)}_setCellUnderline(A,B,j,H,U,W){j<0&&(A=0),H<0&&(B=0);const L=this._bufferService.rows-1;j=Math.max(Math.min(j,L),0),H=Math.max(Math.min(H,L),0),U=Math.min(U,this._bufferService.cols);const I=this._bufferService.buffer,k=I.ybase+I.y,O=Math.min(I.x,U-1),F=this._optionsService.rawOptions.cursorBlink,M=this._optionsService.rawOptions.cursorStyle,Q=this._optionsService.rawOptions.cursorInactiveStyle;for(let Y=j;Y<=H;++Y){const te=Y+I.ydisp,R=this._rowElements[Y],N=I.lines.get(te);if(!R||!N)break;R.replaceChildren(...this._rowFactory.createRow(N,te,te===k,M,Q,O,F,this.dimensions.css.cell.width,this._widthCache,W?Y===j?A:0:-1,W?(Y===H?B:U)-1:-1))}}};o.DomRenderer=P=u([m(4,p.IInstantiationService),m(5,v.ICharSizeService),m(6,p.IOptionsService),m(7,p.IBufferService),m(8,v.ICoreBrowserService),m(9,v.IThemeService)],P)},3787:function(l,o,a){var u=this&&this.__decorate||function(x,b,w,E){var D,P=arguments.length,A=P<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(x,b,w,E);else for(var B=x.length-1;B>=0;B--)(D=x[B])&&(A=(P<3?D(A):P>3?D(b,w,A):D(b,w))||A);return P>3&&A&&Object.defineProperty(b,w,A),A},m=this&&this.__param||function(x,b){return function(w,E){b(w,E,x)}};Object.defineProperty(o,"__esModule",{value:!0}),o.DomRendererRowFactory=void 0;const c=a(2223),g=a(643),_=a(511),S=a(2585),v=a(8055),h=a(4725),d=a(4269),f=a(6171),p=a(3734);let y=o.DomRendererRowFactory=class{constructor(x,b,w,E,D,P,A){this._document=x,this._characterJoinerService=b,this._optionsService=w,this._coreBrowserService=E,this._coreService=D,this._decorationService=P,this._themeService=A,this._workCell=new _.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(x,b,w){this._selectionStart=x,this._selectionEnd=b,this._columnSelectMode=w}createRow(x,b,w,E,D,P,A,B,j,H,U){const W=[],L=this._characterJoinerService.getJoinedCharacters(b),I=this._themeService.colors;let k,O=x.getNoBgTrimmedLength();w&&O<P+1&&(O=P+1);let F=0,M="",Q=0,Y=0,te=0,R=!1,N=0,q=!1,V=0;const ie=[],Z=H!==-1&&U!==-1;for(let de=0;de<O;de++){x.loadCell(de,this._workCell);let De=this._workCell.getWidth();if(De===0)continue;let Be=!1,Vt=de,le=this._workCell;if(L.length>0&&de===L[0][0]){Be=!0;const fe=L.shift();le=new d.JoinedCellData(this._workCell,x.translateToString(!0,fe[0],fe[1]),fe[1]-fe[0]),Vt=fe[1]-1,De=le.getWidth()}const Er=this._isCellInSelection(de,b),Yr=w&&de===P,Zr=Z&&de>=H&&de<=U;let Un=!1;this._decorationService.forEachDecorationAtCell(de,b,void 0,fe=>{Un=!0});let en=le.getChars()||g.WHITESPACE_CELL_CHAR;if(en===" "&&(le.isUnderline()||le.isOverline())&&(en=""),V=De*B-j.get(en,le.isBold(),le.isItalic()),k){if(F&&(Er&&q||!Er&&!q&&le.bg===Q)&&(Er&&q&&I.selectionForeground||le.fg===Y)&&le.extended.ext===te&&Zr===R&&V===N&&!Yr&&!Be&&!Un){M+=en,F++;continue}F&&(k.textContent=M),k=this._document.createElement("span"),F=0,M=""}else k=this._document.createElement("span");if(Q=le.bg,Y=le.fg,te=le.extended.ext,R=Zr,N=V,q=Er,Be&&P>=de&&P<=Vt&&(P=de),!this._coreService.isCursorHidden&&Yr){if(ie.push("xterm-cursor"),this._coreBrowserService.isFocused)A&&ie.push("xterm-cursor-blink"),ie.push(E==="bar"?"xterm-cursor-bar":E==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(D)switch(D){case"outline":ie.push("xterm-cursor-outline");break;case"block":ie.push("xterm-cursor-block");break;case"bar":ie.push("xterm-cursor-bar");break;case"underline":ie.push("xterm-cursor-underline")}}if(le.isBold()&&ie.push("xterm-bold"),le.isItalic()&&ie.push("xterm-italic"),le.isDim()&&ie.push("xterm-dim"),M=le.isInvisible()?g.WHITESPACE_CELL_CHAR:le.getChars()||g.WHITESPACE_CELL_CHAR,le.isUnderline()&&(ie.push(`xterm-underline-${le.extended.underlineStyle}`),M===" "&&(M=""),!le.isUnderlineColorDefault()))if(le.isUnderlineColorRGB())k.style.textDecorationColor=`rgb(${p.AttributeData.toColorRGB(le.getUnderlineColor()).join(",")})`;else{let fe=le.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&le.isBold()&&fe<8&&(fe+=8),k.style.textDecorationColor=I.ansi[fe].css}le.isOverline()&&(ie.push("xterm-overline"),M===" "&&(M="")),le.isStrikethrough()&&ie.push("xterm-strikethrough"),Zr&&(k.style.textDecoration="underline");let Qe=le.getFgColor(),Lr=le.getFgColorMode(),vt=le.getBgColor(),$=le.getBgColorMode();const J=!!le.isInverse();if(J){const fe=Qe;Qe=vt,vt=fe;const Et=Lr;Lr=$,$=Et}let re,ae,ce,Ne=!1;switch(this._decorationService.forEachDecorationAtCell(de,b,void 0,fe=>{fe.options.layer!=="top"&&Ne||(fe.backgroundColorRGB&&($=50331648,vt=fe.backgroundColorRGB.rgba>>8&16777215,re=fe.backgroundColorRGB),fe.foregroundColorRGB&&(Lr=50331648,Qe=fe.foregroundColorRGB.rgba>>8&16777215,ae=fe.foregroundColorRGB),Ne=fe.options.layer==="top")}),!Ne&&Er&&(re=this._coreBrowserService.isFocused?I.selectionBackgroundOpaque:I.selectionInactiveBackgroundOpaque,vt=re.rgba>>8&16777215,$=50331648,Ne=!0,I.selectionForeground&&(Lr=50331648,Qe=I.selectionForeground.rgba>>8&16777215,ae=I.selectionForeground)),Ne&&ie.push("xterm-decoration-top"),$){case 16777216:case 33554432:ce=I.ansi[vt],ie.push(`xterm-bg-${vt}`);break;case 50331648:ce=v.rgba.toColor(vt>>16,vt>>8&255,255&vt),this._addStyle(k,`background-color:#${C((vt>>>0).toString(16),"0",6)}`);break;default:J?(ce=I.foreground,ie.push(`xterm-bg-${c.INVERTED_DEFAULT_COLOR}`)):ce=I.background}switch(re||le.isDim()&&(re=v.color.multiplyOpacity(ce,.5)),Lr){case 16777216:case 33554432:le.isBold()&&Qe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Qe+=8),this._applyMinimumContrast(k,ce,I.ansi[Qe],le,re,void 0)||ie.push(`xterm-fg-${Qe}`);break;case 50331648:const fe=v.rgba.toColor(Qe>>16&255,Qe>>8&255,255&Qe);this._applyMinimumContrast(k,ce,fe,le,re,ae)||this._addStyle(k,`color:#${C(Qe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(k,ce,I.foreground,le,re,void 0)||J&&ie.push(`xterm-fg-${c.INVERTED_DEFAULT_COLOR}`)}ie.length&&(k.className=ie.join(" "),ie.length=0),Yr||Be||Un?k.textContent=M:F++,V!==this.defaultSpacing&&(k.style.letterSpacing=`${V}px`),W.push(k),de=Vt}return k&&F&&(k.textContent=M),W}_applyMinimumContrast(x,b,w,E,D,P){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,f.excludeFromContrastRatioDemands)(E.getCode()))return!1;const A=this._getContrastCache(E);let B;if(D||P||(B=A.getColor(b.rgba,w.rgba)),B===void 0){const j=this._optionsService.rawOptions.minimumContrastRatio/(E.isDim()?2:1);B=v.color.ensureContrastRatio(D||b,P||w,j),A.setColor((D||b).rgba,(P||w).rgba,B??null)}return!!B&&(this._addStyle(x,`color:${B.css}`),!0)}_getContrastCache(x){return x.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(x,b){x.setAttribute("style",`${x.getAttribute("style")||""}${b};`)}_isCellInSelection(x,b){const w=this._selectionStart,E=this._selectionEnd;return!(!w||!E)&&(this._columnSelectMode?w[0]<=E[0]?x>=w[0]&&b>=w[1]&&x<E[0]&&b<=E[1]:x<w[0]&&b>=w[1]&&x>=E[0]&&b<=E[1]:b>w[1]&&b<E[1]||w[1]===E[1]&&b===w[1]&&x>=w[0]&&x<E[0]||w[1]<E[1]&&b===E[1]&&x<E[0]||w[1]<E[1]&&b===w[1]&&x>=w[0])}};function C(x,b,w){for(;x.length<w;)x=b+x;return x}o.DomRendererRowFactory=y=u([m(1,h.ICharacterJoinerService),m(2,S.IOptionsService),m(3,h.ICoreBrowserService),m(4,S.ICoreService),m(5,S.IDecorationService),m(6,h.IThemeService)],y)},2550:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WidthCache=void 0,o.WidthCache=class{constructor(a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const u=a.createElement("span"),m=a.createElement("span");m.style.fontWeight="bold";const c=a.createElement("span");c.style.fontStyle="italic";const g=a.createElement("span");g.style.fontWeight="bold",g.style.fontStyle="italic",this._measureElements=[u,m,c,g],this._container.appendChild(u),this._container.appendChild(m),this._container.appendChild(c),this._container.appendChild(g),a.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,u,m,c){a===this._font&&u===this._fontSize&&m===this._weight&&c===this._weightBold||(this._font=a,this._fontSize=u,this._weight=m,this._weightBold=c,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${m}`,this._measureElements[1].style.fontWeight=`${c}`,this._measureElements[2].style.fontWeight=`${m}`,this._measureElements[3].style.fontWeight=`${c}`,this.clear())}get(a,u,m){let c=0;if(!u&&!m&&a.length===1&&(c=a.charCodeAt(0))<256)return this._flat[c]!==-9999?this._flat[c]:this._flat[c]=this._measure(a,0);let g=a;u&&(g+="B"),m&&(g+="I");let _=this._holey.get(g);if(_===void 0){let S=0;u&&(S|=1),m&&(S|=2),_=this._measure(a,S),this._holey.set(g,_)}return _}_measure(a,u){const m=this._measureElements[u];return m.textContent=a.repeat(32),m.offsetWidth/32}}},2223:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TEXT_BASELINE=o.DIM_OPACITY=o.INVERTED_DEFAULT_COLOR=void 0;const u=a(6114);o.INVERTED_DEFAULT_COLOR=257,o.DIM_OPACITY=.5,o.TEXT_BASELINE=u.isFirefox||u.isLegacyEdge?"bottom":"ideographic"},6171:(l,o)=>{function a(u){return 57508<=u&&u<=57558}Object.defineProperty(o,"__esModule",{value:!0}),o.createRenderDimensions=o.excludeFromContrastRatioDemands=o.isRestrictedPowerlineGlyph=o.isPowerlineGlyph=o.throwIfFalsy=void 0,o.throwIfFalsy=function(u){if(!u)throw new Error("value must not be falsy");return u},o.isPowerlineGlyph=a,o.isRestrictedPowerlineGlyph=function(u){return 57520<=u&&u<=57527},o.excludeFromContrastRatioDemands=function(u){return a(u)||function(m){return 9472<=m&&m<=9631}(u)},o.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionModel=void 0,o.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,u=this.selectionEnd;return!(!a||!u)&&(a[1]>u[1]||a[1]===u[1]&&a[0]>u[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(l,o,a){var u=this&&this.__decorate||function(h,d,f,p){var y,C=arguments.length,x=C<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,f):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,d,f,p);else for(var b=h.length-1;b>=0;b--)(y=h[b])&&(x=(C<3?y(x):C>3?y(d,f,x):y(d,f))||x);return C>3&&x&&Object.defineProperty(d,f,x),x},m=this&&this.__param||function(h,d){return function(f,p){d(f,p,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharSizeService=void 0;const c=a(2585),g=a(8460),_=a(844);let S=o.CharSizeService=class extends _.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(h,d,f){super(),this._optionsService=f,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new v(h,d,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const h=this._measureStrategy.measure();h.width===this.width&&h.height===this.height||(this.width=h.width,this.height=h.height,this._onCharSizeChange.fire())}};o.CharSizeService=S=u([m(2,c.IOptionsService)],S);class v{constructor(d,f,p){this._document=d,this._parentElement=f,this._optionsService=p,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const d={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return d.width!==0&&d.height!==0&&(this._result.width=d.width/32,this._result.height=Math.ceil(d.height)),this._result}}},4269:function(l,o,a){var u=this&&this.__decorate||function(d,f,p,y){var C,x=arguments.length,b=x<3?f:y===null?y=Object.getOwnPropertyDescriptor(f,p):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(d,f,p,y);else for(var w=d.length-1;w>=0;w--)(C=d[w])&&(b=(x<3?C(b):x>3?C(f,p,b):C(f,p))||b);return x>3&&b&&Object.defineProperty(f,p,b),b},m=this&&this.__param||function(d,f){return function(p,y){f(p,y,d)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CharacterJoinerService=o.JoinedCellData=void 0;const c=a(3734),g=a(643),_=a(511),S=a(2585);class v extends c.AttributeData{constructor(f,p,y){super(),this.content=0,this.combinedData="",this.fg=f.fg,this.bg=f.bg,this.combinedData=p,this._width=y}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(f){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.JoinedCellData=v;let h=o.CharacterJoinerService=class _g{constructor(f){this._bufferService=f,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new _.CellData}register(f){const p={id:this._nextCharacterJoinerId++,handler:f};return this._characterJoiners.push(p),p.id}deregister(f){for(let p=0;p<this._characterJoiners.length;p++)if(this._characterJoiners[p].id===f)return this._characterJoiners.splice(p,1),!0;return!1}getJoinedCharacters(f){if(this._characterJoiners.length===0)return[];const p=this._bufferService.buffer.lines.get(f);if(!p||p.length===0)return[];const y=[],C=p.translateToString(!0);let x=0,b=0,w=0,E=p.getFg(0),D=p.getBg(0);for(let P=0;P<p.getTrimmedLength();P++)if(p.loadCell(P,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==E||this._workCell.bg!==D){if(P-x>1){const A=this._getJoinedRanges(C,w,b,p,x);for(let B=0;B<A.length;B++)y.push(A[B])}x=P,w=b,E=this._workCell.fg,D=this._workCell.bg}b+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-x>1){const P=this._getJoinedRanges(C,w,b,p,x);for(let A=0;A<P.length;A++)y.push(P[A])}return y}_getJoinedRanges(f,p,y,C,x){const b=f.substring(p,y);let w=[];try{w=this._characterJoiners[0].handler(b)}catch(E){console.error(E)}for(let E=1;E<this._characterJoiners.length;E++)try{const D=this._characterJoiners[E].handler(b);for(let P=0;P<D.length;P++)_g._mergeRanges(w,D[P])}catch(D){console.error(D)}return this._stringRangesToCellRanges(w,C,x),w}_stringRangesToCellRanges(f,p,y){let C=0,x=!1,b=0,w=f[C];if(w){for(let E=y;E<this._bufferService.cols;E++){const D=p.getWidth(E),P=p.getString(E).length||g.WHITESPACE_CELL_CHAR.length;if(D!==0){if(!x&&w[0]<=b&&(w[0]=E,x=!0),w[1]<=b){if(w[1]=E,w=f[++C],!w)break;w[0]<=b?(w[0]=E,x=!0):x=!1}b+=P}}w&&(w[1]=this._bufferService.cols)}}static _mergeRanges(f,p){let y=!1;for(let C=0;C<f.length;C++){const x=f[C];if(y){if(p[1]<=x[0])return f[C-1][1]=p[1],f;if(p[1]<=x[1])return f[C-1][1]=Math.max(p[1],x[1]),f.splice(C,1),f;f.splice(C,1),C--}else{if(p[1]<=x[0])return f.splice(C,0,p),f;if(p[1]<=x[1])return x[0]=Math.min(p[0],x[0]),f;p[0]<x[1]&&(x[0]=Math.min(p[0],x[0]),y=!0)}}return y?f[f.length-1][1]=p[1]:f.push(p),f}};o.CharacterJoinerService=h=u([m(0,S.IBufferService)],h)},5114:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreBrowserService=void 0,o.CoreBrowserService=class{constructor(a,u){this._textarea=a,this.window=u,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(l,o,a){var u=this&&this.__decorate||function(S,v,h,d){var f,p=arguments.length,y=p<3?v:d===null?d=Object.getOwnPropertyDescriptor(v,h):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(S,v,h,d);else for(var C=S.length-1;C>=0;C--)(f=S[C])&&(y=(p<3?f(y):p>3?f(v,h,y):f(v,h))||y);return p>3&&y&&Object.defineProperty(v,h,y),y},m=this&&this.__param||function(S,v){return function(h,d){v(h,d,S)}};Object.defineProperty(o,"__esModule",{value:!0}),o.MouseService=void 0;const c=a(4725),g=a(9806);let _=o.MouseService=class{constructor(S,v){this._renderService=S,this._charSizeService=v}getCoords(S,v,h,d,f){return(0,g.getCoords)(window,S,v,h,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,f)}getMouseReportCoords(S,v){const h=(0,g.getCoordsRelativeToElement)(window,S,v);if(this._charSizeService.hasValidSize)return h[0]=Math.min(Math.max(h[0],0),this._renderService.dimensions.css.canvas.width-1),h[1]=Math.min(Math.max(h[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(h[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(h[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(h[0]),y:Math.floor(h[1])}}};o.MouseService=_=u([m(0,c.IRenderService),m(1,c.ICharSizeService)],_)},3230:function(l,o,a){var u=this&&this.__decorate||function(y,C,x,b){var w,E=arguments.length,D=E<3?C:b===null?b=Object.getOwnPropertyDescriptor(C,x):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(y,C,x,b);else for(var P=y.length-1;P>=0;P--)(w=y[P])&&(D=(E<3?w(D):E>3?w(C,x,D):w(C,x))||D);return E>3&&D&&Object.defineProperty(C,x,D),D},m=this&&this.__param||function(y,C){return function(x,b){C(x,b,y)}};Object.defineProperty(o,"__esModule",{value:!0}),o.RenderService=void 0;const c=a(3656),g=a(6193),_=a(5596),S=a(4725),v=a(8460),h=a(844),d=a(7226),f=a(2585);let p=o.RenderService=class extends h.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(y,C,x,b,w,E,D,P){if(super(),this._rowCount=y,this._charSizeService=b,this._renderer=this.register(new h.MutableDisposable),this._pausedResizeTask=new d.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new v.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new v.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new v.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new v.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new g.RenderDebouncer(D.window,(A,B)=>this._renderRows(A,B)),this.register(this._renderDebouncer),this._screenDprMonitor=new _.ScreenDprMonitor(D.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(E.onResize(()=>this._fullRefresh())),this.register(E.buffers.onBufferActivate(()=>{var A;return(A=this._renderer.value)===null||A===void 0?void 0:A.clear()})),this.register(x.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(w.onDecorationRegistered(()=>this._fullRefresh())),this.register(w.onDecorationRemoved(()=>this._fullRefresh())),this.register(x.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(E.cols,E.rows),this._fullRefresh()})),this.register(x.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(E.buffer.y,E.buffer.y,!0))),this.register((0,c.addDisposableDomListener)(D.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(P.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in D.window){const A=new D.window.IntersectionObserver(B=>this._handleIntersectionChange(B[B.length-1]),{threshold:0});A.observe(C),this.register({dispose:()=>A.disconnect()})}}_handleIntersectionChange(y){this._isPaused=y.isIntersecting===void 0?y.intersectionRatio===0:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(y,C,x=!1){this._isPaused?this._needsFullRefresh=!0:(x||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,C,this._rowCount))}_renderRows(y,C){this._renderer.value&&(y=Math.min(y,this._rowCount-1),C=Math.min(C,this._rowCount-1),this._renderer.value.renderRows(y,C),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:y,end:C}),this._onRender.fire({start:y,end:C}),this._isNextRenderRedrawOnly=!0)}resize(y,C){this._rowCount=C,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(y){this._renderer.value=y,this._renderer.value.onRequestRedraw(C=>this.refreshRows(C.start,C.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(y){return this._renderDebouncer.addRefreshCallback(y)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var y,C;this._renderer.value&&((C=(y=this._renderer.value).clearTextureAtlas)===null||C===void 0||C.call(y),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(y,C){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(y,C)):this._renderer.value.handleResize(y,C),this._fullRefresh())}handleCharSizeChanged(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCharSizeChanged()}handleBlur(){var y;(y=this._renderer.value)===null||y===void 0||y.handleBlur()}handleFocus(){var y;(y=this._renderer.value)===null||y===void 0||y.handleFocus()}handleSelectionChanged(y,C,x){var b;this._selectionState.start=y,this._selectionState.end=C,this._selectionState.columnSelectMode=x,(b=this._renderer.value)===null||b===void 0||b.handleSelectionChanged(y,C,x)}handleCursorMove(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCursorMove()}clear(){var y;(y=this._renderer.value)===null||y===void 0||y.clear()}};o.RenderService=p=u([m(2,f.IOptionsService),m(3,S.ICharSizeService),m(4,f.IDecorationService),m(5,f.IBufferService),m(6,S.ICoreBrowserService),m(7,S.IThemeService)],p)},9312:function(l,o,a){var u=this&&this.__decorate||function(w,E,D,P){var A,B=arguments.length,j=B<3?E:P===null?P=Object.getOwnPropertyDescriptor(E,D):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(w,E,D,P);else for(var H=w.length-1;H>=0;H--)(A=w[H])&&(j=(B<3?A(j):B>3?A(E,D,j):A(E,D))||j);return B>3&&j&&Object.defineProperty(E,D,j),j},m=this&&this.__param||function(w,E){return function(D,P){E(D,P,w)}};Object.defineProperty(o,"__esModule",{value:!0}),o.SelectionService=void 0;const c=a(9806),g=a(9504),_=a(456),S=a(4725),v=a(8460),h=a(844),d=a(6114),f=a(4841),p=a(511),y=a(2585),C="",x=new RegExp(C,"g");let b=o.SelectionService=class extends h.Disposable{constructor(w,E,D,P,A,B,j,H,U){super(),this._element=w,this._screenElement=E,this._linkifier=D,this._bufferService=P,this._coreService=A,this._mouseService=B,this._optionsService=j,this._renderService=H,this._coreBrowserService=U,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new p.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new v.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new v.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new v.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new v.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=W=>this._handleMouseMove(W),this._mouseUpListener=W=>this._handleMouseUp(W),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(W=>this._handleTrim(W)),this.register(this._bufferService.buffers.onBufferActivate(W=>this._handleBufferActivate(W))),this.enable(),this._model=new _.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,h.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const w=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;return!(!w||!E||w[0]===E[0]&&w[1]===E[1])}get selectionText(){const w=this._model.finalSelectionStart,E=this._model.finalSelectionEnd;if(!w||!E)return"";const D=this._bufferService.buffer,P=[];if(this._activeSelectionMode===3){if(w[0]===E[0])return"";const A=w[0]<E[0]?w[0]:E[0],B=w[0]<E[0]?E[0]:w[0];for(let j=w[1];j<=E[1];j++){const H=D.translateBufferLineToString(j,!0,A,B);P.push(H)}}else{const A=w[1]===E[1]?E[0]:void 0;P.push(D.translateBufferLineToString(w[1],!0,w[0],A));for(let B=w[1]+1;B<=E[1]-1;B++){const j=D.lines.get(B),H=D.translateBufferLineToString(B,!0);j!=null&&j.isWrapped?P[P.length-1]+=H:P.push(H)}if(w[1]!==E[1]){const B=D.lines.get(E[1]),j=D.translateBufferLineToString(E[1],!0,0,E[0]);B&&B.isWrapped?P[P.length-1]+=j:P.push(j)}}return P.map(A=>A.replace(x," ")).join(d.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(w){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),d.isLinux&&w&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(w){const E=this._getMouseBufferCoords(w),D=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;return!!(D&&P&&E)&&this._areCoordsInSelection(E,D,P)}isCellInSelection(w,E){const D=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;return!(!D||!P)&&this._areCoordsInSelection([w,E],D,P)}_areCoordsInSelection(w,E,D){return w[1]>E[1]&&w[1]<D[1]||E[1]===D[1]&&w[1]===E[1]&&w[0]>=E[0]&&w[0]<D[0]||E[1]<D[1]&&w[1]===D[1]&&w[0]<D[0]||E[1]<D[1]&&w[1]===E[1]&&w[0]>=E[0]}_selectWordAtCursor(w,E){var D,P;const A=(P=(D=this._linkifier.currentLink)===null||D===void 0?void 0:D.link)===null||P===void 0?void 0:P.range;if(A)return this._model.selectionStart=[A.start.x-1,A.start.y-1],this._model.selectionStartLength=(0,f.getRangeLength)(A,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const B=this._getMouseBufferCoords(w);return!!B&&(this._selectWordAt(B,E),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(w,E){this._model.clearSelection(),w=Math.max(w,0),E=Math.min(E,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,w],this._model.selectionEnd=[this._bufferService.cols,E],this.refresh(),this._onSelectionChange.fire()}_handleTrim(w){this._model.handleTrim(w)&&this.refresh()}_getMouseBufferCoords(w){const E=this._mouseService.getCoords(w,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(E)return E[0]--,E[1]--,E[1]+=this._bufferService.buffer.ydisp,E}_getMouseEventScrollAmount(w){let E=(0,c.getCoordsRelativeToElement)(this._coreBrowserService.window,w,this._screenElement)[1];const D=this._renderService.dimensions.css.canvas.height;return E>=0&&E<=D?0:(E>D&&(E-=D),E=Math.min(Math.max(E,-50),50),E/=50,E/Math.abs(E)+Math.round(14*E))}shouldForceSelection(w){return d.isMac?w.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:w.shiftKey}handleMouseDown(w){if(this._mouseDownTimeStamp=w.timeStamp,(w.button!==2||!this.hasSelection)&&w.button===0){if(!this._enabled){if(!this.shouldForceSelection(w))return;w.stopPropagation()}w.preventDefault(),this._dragScrollAmount=0,this._enabled&&w.shiftKey?this._handleIncrementalClick(w):w.detail===1?this._handleSingleClick(w):w.detail===2?this._handleDoubleClick(w):w.detail===3&&this._handleTripleClick(w),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(w){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(w))}_handleSingleClick(w){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(w)?3:0,this._model.selectionStart=this._getMouseBufferCoords(w),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const E=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);E&&E.length!==this._model.selectionStart[0]&&E.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(w){this._selectWordAtCursor(w,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(w){const E=this._getMouseBufferCoords(w);E&&(this._activeSelectionMode=2,this._selectLineAt(E[1]))}shouldColumnSelect(w){return w.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(w){if(w.stopImmediatePropagation(),!this._model.selectionStart)return;const E=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(w),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(w),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const D=this._bufferService.buffer;if(this._model.selectionEnd[1]<D.lines.length){const P=D.lines.get(this._model.selectionEnd[1]);P&&P.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}E&&E[0]===this._model.selectionEnd[0]&&E[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const w=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(w.ydisp+this._bufferService.rows,w.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=w.ydisp),this.refresh()}}_handleMouseUp(w){const E=w.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&E<500&&w.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const D=this._mouseService.getCoords(w,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(D&&D[0]!==void 0&&D[1]!==void 0){const P=(0,g.moveToCellSequence)(D[0]-1,D[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(P,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const w=this._model.finalSelectionStart,E=this._model.finalSelectionEnd,D=!(!w||!E||w[0]===E[0]&&w[1]===E[1]);D?w&&E&&(this._oldSelectionStart&&this._oldSelectionEnd&&w[0]===this._oldSelectionStart[0]&&w[1]===this._oldSelectionStart[1]&&E[0]===this._oldSelectionEnd[0]&&E[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(w,E,D)):this._oldHasSelection&&this._fireOnSelectionChange(w,E,D)}_fireOnSelectionChange(w,E,D){this._oldSelectionStart=w,this._oldSelectionEnd=E,this._oldHasSelection=D,this._onSelectionChange.fire()}_handleBufferActivate(w){this.clearSelection(),this._trimListener.dispose(),this._trimListener=w.activeBuffer.lines.onTrim(E=>this._handleTrim(E))}_convertViewportColToCharacterIndex(w,E){let D=E;for(let P=0;E>=P;P++){const A=w.loadCell(P,this._workCell).getChars().length;this._workCell.getWidth()===0?D--:A>1&&E!==P&&(D+=A-1)}return D}setSelection(w,E,D){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[w,E],this._model.selectionStartLength=D,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(w){this._isClickInSelection(w)||(this._selectWordAtCursor(w,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(w,E,D=!0,P=!0){if(w[0]>=this._bufferService.cols)return;const A=this._bufferService.buffer,B=A.lines.get(w[1]);if(!B)return;const j=A.translateBufferLineToString(w[1],!1);let H=this._convertViewportColToCharacterIndex(B,w[0]),U=H;const W=w[0]-H;let L=0,I=0,k=0,O=0;if(j.charAt(H)===" "){for(;H>0&&j.charAt(H-1)===" ";)H--;for(;U<j.length&&j.charAt(U+1)===" ";)U++}else{let Q=w[0],Y=w[0];B.getWidth(Q)===0&&(L++,Q--),B.getWidth(Y)===2&&(I++,Y++);const te=B.getString(Y).length;for(te>1&&(O+=te-1,U+=te-1);Q>0&&H>0&&!this._isCharWordSeparator(B.loadCell(Q-1,this._workCell));){B.loadCell(Q-1,this._workCell);const R=this._workCell.getChars().length;this._workCell.getWidth()===0?(L++,Q--):R>1&&(k+=R-1,H-=R-1),H--,Q--}for(;Y<B.length&&U+1<j.length&&!this._isCharWordSeparator(B.loadCell(Y+1,this._workCell));){B.loadCell(Y+1,this._workCell);const R=this._workCell.getChars().length;this._workCell.getWidth()===2?(I++,Y++):R>1&&(O+=R-1,U+=R-1),U++,Y++}}U++;let F=H+W-L+k,M=Math.min(this._bufferService.cols,U-H+L+I-k-O);if(E||j.slice(H,U).trim()!==""){if(D&&F===0&&B.getCodePoint(0)!==32){const Q=A.lines.get(w[1]-1);if(Q&&B.isWrapped&&Q.getCodePoint(this._bufferService.cols-1)!==32){const Y=this._getWordAt([this._bufferService.cols-1,w[1]-1],!1,!0,!1);if(Y){const te=this._bufferService.cols-Y.start;F-=te,M+=te}}}if(P&&F+M===this._bufferService.cols&&B.getCodePoint(this._bufferService.cols-1)!==32){const Q=A.lines.get(w[1]+1);if(Q!=null&&Q.isWrapped&&Q.getCodePoint(0)!==32){const Y=this._getWordAt([0,w[1]+1],!1,!1,!0);Y&&(M+=Y.length)}}return{start:F,length:M}}}_selectWordAt(w,E){const D=this._getWordAt(w,E);if(D){for(;D.start<0;)D.start+=this._bufferService.cols,w[1]--;this._model.selectionStart=[D.start,w[1]],this._model.selectionStartLength=D.length}}_selectToWordAt(w){const E=this._getWordAt(w,!0);if(E){let D=w[1];for(;E.start<0;)E.start+=this._bufferService.cols,D--;if(!this._model.areSelectionValuesReversed())for(;E.start+E.length>this._bufferService.cols;)E.length-=this._bufferService.cols,D++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?E.start:E.start+E.length,D]}}_isCharWordSeparator(w){return w.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(w.getChars())>=0}_selectLineAt(w){const E=this._bufferService.buffer.getWrappedRangeForLine(w),D={start:{x:0,y:E.first},end:{x:this._bufferService.cols-1,y:E.last}};this._model.selectionStart=[0,E.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,f.getRangeLength)(D,this._bufferService.cols)}};o.SelectionService=b=u([m(3,y.IBufferService),m(4,y.ICoreService),m(5,S.IMouseService),m(6,y.IOptionsService),m(7,S.IRenderService),m(8,S.ICoreBrowserService)],b)},4725:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IThemeService=o.ICharacterJoinerService=o.ISelectionService=o.IRenderService=o.IMouseService=o.ICoreBrowserService=o.ICharSizeService=void 0;const u=a(8343);o.ICharSizeService=(0,u.createDecorator)("CharSizeService"),o.ICoreBrowserService=(0,u.createDecorator)("CoreBrowserService"),o.IMouseService=(0,u.createDecorator)("MouseService"),o.IRenderService=(0,u.createDecorator)("RenderService"),o.ISelectionService=(0,u.createDecorator)("SelectionService"),o.ICharacterJoinerService=(0,u.createDecorator)("CharacterJoinerService"),o.IThemeService=(0,u.createDecorator)("ThemeService")},6731:function(l,o,a){var u=this&&this.__decorate||function(b,w,E,D){var P,A=arguments.length,B=A<3?w:D===null?D=Object.getOwnPropertyDescriptor(w,E):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(b,w,E,D);else for(var j=b.length-1;j>=0;j--)(P=b[j])&&(B=(A<3?P(B):A>3?P(w,E,B):P(w,E))||B);return A>3&&B&&Object.defineProperty(w,E,B),B},m=this&&this.__param||function(b,w){return function(E,D){w(E,D,b)}};Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeService=o.DEFAULT_ANSI_COLORS=void 0;const c=a(7239),g=a(8055),_=a(8460),S=a(844),v=a(2585),h=g.css.toColor("#ffffff"),d=g.css.toColor("#000000"),f=g.css.toColor("#ffffff"),p=g.css.toColor("#000000"),y={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};o.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const b=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],w=[0,95,135,175,215,255];for(let E=0;E<216;E++){const D=w[E/36%6|0],P=w[E/6%6|0],A=w[E%6];b.push({css:g.channels.toCss(D,P,A),rgba:g.channels.toRgba(D,P,A)})}for(let E=0;E<24;E++){const D=8+10*E;b.push({css:g.channels.toCss(D,D,D),rgba:g.channels.toRgba(D,D,D)})}return b})());let C=o.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(b){super(),this._optionsService=b,this._contrastCache=new c.ColorContrastCache,this._halfContrastCache=new c.ColorContrastCache,this._onChangeColors=this.register(new _.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:h,background:d,cursor:f,cursorAccent:p,selectionForeground:void 0,selectionBackgroundTransparent:y,selectionBackgroundOpaque:g.color.blend(d,y),selectionInactiveBackgroundTransparent:y,selectionInactiveBackgroundOpaque:g.color.blend(d,y),ansi:o.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(b={}){const w=this._colors;if(w.foreground=x(b.foreground,h),w.background=x(b.background,d),w.cursor=x(b.cursor,f),w.cursorAccent=x(b.cursorAccent,p),w.selectionBackgroundTransparent=x(b.selectionBackground,y),w.selectionBackgroundOpaque=g.color.blend(w.background,w.selectionBackgroundTransparent),w.selectionInactiveBackgroundTransparent=x(b.selectionInactiveBackground,w.selectionBackgroundTransparent),w.selectionInactiveBackgroundOpaque=g.color.blend(w.background,w.selectionInactiveBackgroundTransparent),w.selectionForeground=b.selectionForeground?x(b.selectionForeground,g.NULL_COLOR):void 0,w.selectionForeground===g.NULL_COLOR&&(w.selectionForeground=void 0),g.color.isOpaque(w.selectionBackgroundTransparent)&&(w.selectionBackgroundTransparent=g.color.opacity(w.selectionBackgroundTransparent,.3)),g.color.isOpaque(w.selectionInactiveBackgroundTransparent)&&(w.selectionInactiveBackgroundTransparent=g.color.opacity(w.selectionInactiveBackgroundTransparent,.3)),w.ansi=o.DEFAULT_ANSI_COLORS.slice(),w.ansi[0]=x(b.black,o.DEFAULT_ANSI_COLORS[0]),w.ansi[1]=x(b.red,o.DEFAULT_ANSI_COLORS[1]),w.ansi[2]=x(b.green,o.DEFAULT_ANSI_COLORS[2]),w.ansi[3]=x(b.yellow,o.DEFAULT_ANSI_COLORS[3]),w.ansi[4]=x(b.blue,o.DEFAULT_ANSI_COLORS[4]),w.ansi[5]=x(b.magenta,o.DEFAULT_ANSI_COLORS[5]),w.ansi[6]=x(b.cyan,o.DEFAULT_ANSI_COLORS[6]),w.ansi[7]=x(b.white,o.DEFAULT_ANSI_COLORS[7]),w.ansi[8]=x(b.brightBlack,o.DEFAULT_ANSI_COLORS[8]),w.ansi[9]=x(b.brightRed,o.DEFAULT_ANSI_COLORS[9]),w.ansi[10]=x(b.brightGreen,o.DEFAULT_ANSI_COLORS[10]),w.ansi[11]=x(b.brightYellow,o.DEFAULT_ANSI_COLORS[11]),w.ansi[12]=x(b.brightBlue,o.DEFAULT_ANSI_COLORS[12]),w.ansi[13]=x(b.brightMagenta,o.DEFAULT_ANSI_COLORS[13]),w.ansi[14]=x(b.brightCyan,o.DEFAULT_ANSI_COLORS[14]),w.ansi[15]=x(b.brightWhite,o.DEFAULT_ANSI_COLORS[15]),b.extendedAnsi){const E=Math.min(w.ansi.length-16,b.extendedAnsi.length);for(let D=0;D<E;D++)w.ansi[D+16]=x(b.extendedAnsi[D],o.DEFAULT_ANSI_COLORS[D+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(b){this._restoreColor(b),this._onChangeColors.fire(this.colors)}_restoreColor(b){if(b!==void 0)switch(b){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[b]=this._restoreColors.ansi[b]}else for(let w=0;w<this._restoreColors.ansi.length;++w)this._colors.ansi[w]=this._restoreColors.ansi[w]}modifyColors(b){b(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function x(b,w){if(b!==void 0)try{return g.css.toColor(b)}catch{}return w}o.ThemeService=C=u([m(0,v.IOptionsService)],C)},6349:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CircularList=void 0;const u=a(8460),m=a(844);class c extends m.Disposable{constructor(_){super(),this._maxLength=_,this.onDeleteEmitter=this.register(new u.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new u.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new u.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(_){if(this._maxLength===_)return;const S=new Array(_);for(let v=0;v<Math.min(_,this.length);v++)S[v]=this._array[this._getCyclicIndex(v)];this._array=S,this._maxLength=_,this._startIndex=0}get length(){return this._length}set length(_){if(_>this._length)for(let S=this._length;S<_;S++)this._array[S]=void 0;this._length=_}get(_){return this._array[this._getCyclicIndex(_)]}set(_,S){this._array[this._getCyclicIndex(_)]=S}push(_){this._array[this._getCyclicIndex(this._length)]=_,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(_,S,...v){if(S){for(let h=_;h<this._length-S;h++)this._array[this._getCyclicIndex(h)]=this._array[this._getCyclicIndex(h+S)];this._length-=S,this.onDeleteEmitter.fire({index:_,amount:S})}for(let h=this._length-1;h>=_;h--)this._array[this._getCyclicIndex(h+v.length)]=this._array[this._getCyclicIndex(h)];for(let h=0;h<v.length;h++)this._array[this._getCyclicIndex(_+h)]=v[h];if(v.length&&this.onInsertEmitter.fire({index:_,amount:v.length}),this._length+v.length>this._maxLength){const h=this._length+v.length-this._maxLength;this._startIndex+=h,this._length=this._maxLength,this.onTrimEmitter.fire(h)}else this._length+=v.length}trimStart(_){_>this._length&&(_=this._length),this._startIndex+=_,this._length-=_,this.onTrimEmitter.fire(_)}shiftElements(_,S,v){if(!(S<=0)){if(_<0||_>=this._length)throw new Error("start argument out of range");if(_+v<0)throw new Error("Cannot shift elements in list beyond index 0");if(v>0){for(let d=S-1;d>=0;d--)this.set(_+d+v,this.get(_+d));const h=_+S+v-this._length;if(h>0)for(this._length+=h;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let h=0;h<S;h++)this.set(_+h+v,this.get(_+h))}}_getCyclicIndex(_){return(this._startIndex+_)%this._maxLength}}o.CircularList=c},1439:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.clone=void 0,o.clone=function a(u,m=5){if(typeof u!="object")return u;const c=Array.isArray(u)?[]:{};for(const g in u)c[g]=m<=1?u[g]:u[g]&&a(u[g],m-1);return c}},8055:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.contrastRatio=o.toPaddedHex=o.rgba=o.rgb=o.css=o.color=o.channels=o.NULL_COLOR=void 0;const u=a(6114);let m=0,c=0,g=0,_=0;var S,v,h,d,f;function p(C){const x=C.toString(16);return x.length<2?"0"+x:x}function y(C,x){return C<x?(x+.05)/(C+.05):(C+.05)/(x+.05)}o.NULL_COLOR={css:"#00000000",rgba:0},function(C){C.toCss=function(x,b,w,E){return E!==void 0?`#${p(x)}${p(b)}${p(w)}${p(E)}`:`#${p(x)}${p(b)}${p(w)}`},C.toRgba=function(x,b,w,E=255){return(x<<24|b<<16|w<<8|E)>>>0}}(S||(o.channels=S={})),function(C){function x(b,w){return _=Math.round(255*w),[m,c,g]=f.toChannels(b.rgba),{css:S.toCss(m,c,g,_),rgba:S.toRgba(m,c,g,_)}}C.blend=function(b,w){if(_=(255&w.rgba)/255,_===1)return{css:w.css,rgba:w.rgba};const E=w.rgba>>24&255,D=w.rgba>>16&255,P=w.rgba>>8&255,A=b.rgba>>24&255,B=b.rgba>>16&255,j=b.rgba>>8&255;return m=A+Math.round((E-A)*_),c=B+Math.round((D-B)*_),g=j+Math.round((P-j)*_),{css:S.toCss(m,c,g),rgba:S.toRgba(m,c,g)}},C.isOpaque=function(b){return(255&b.rgba)==255},C.ensureContrastRatio=function(b,w,E){const D=f.ensureContrastRatio(b.rgba,w.rgba,E);if(D)return f.toColor(D>>24&255,D>>16&255,D>>8&255)},C.opaque=function(b){const w=(255|b.rgba)>>>0;return[m,c,g]=f.toChannels(w),{css:S.toCss(m,c,g),rgba:w}},C.opacity=x,C.multiplyOpacity=function(b,w){return _=255&b.rgba,x(b,_*w/255)},C.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]}}(v||(o.color=v={})),function(C){let x,b;if(!u.isNode){const w=document.createElement("canvas");w.width=1,w.height=1;const E=w.getContext("2d",{willReadFrequently:!0});E&&(x=E,x.globalCompositeOperation="copy",b=x.createLinearGradient(0,0,1,1))}C.toColor=function(w){if(w.match(/#[\da-f]{3,8}/i))switch(w.length){case 4:return m=parseInt(w.slice(1,2).repeat(2),16),c=parseInt(w.slice(2,3).repeat(2),16),g=parseInt(w.slice(3,4).repeat(2),16),f.toColor(m,c,g);case 5:return m=parseInt(w.slice(1,2).repeat(2),16),c=parseInt(w.slice(2,3).repeat(2),16),g=parseInt(w.slice(3,4).repeat(2),16),_=parseInt(w.slice(4,5).repeat(2),16),f.toColor(m,c,g,_);case 7:return{css:w,rgba:(parseInt(w.slice(1),16)<<8|255)>>>0};case 9:return{css:w,rgba:parseInt(w.slice(1),16)>>>0}}const E=w.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(E)return m=parseInt(E[1]),c=parseInt(E[2]),g=parseInt(E[3]),_=Math.round(255*(E[5]===void 0?1:parseFloat(E[5]))),f.toColor(m,c,g,_);if(!x||!b)throw new Error("css.toColor: Unsupported css format");if(x.fillStyle=b,x.fillStyle=w,typeof x.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(x.fillRect(0,0,1,1),[m,c,g,_]=x.getImageData(0,0,1,1).data,_!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(m,c,g,_),css:w}}}(h||(o.css=h={})),function(C){function x(b,w,E){const D=b/255,P=w/255,A=E/255;return .2126*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))+.7152*(P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4))+.0722*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))}C.relativeLuminance=function(b){return x(b>>16&255,b>>8&255,255&b)},C.relativeLuminance2=x}(d||(o.rgb=d={})),function(C){function x(w,E,D){const P=w>>24&255,A=w>>16&255,B=w>>8&255;let j=E>>24&255,H=E>>16&255,U=E>>8&255,W=y(d.relativeLuminance2(j,H,U),d.relativeLuminance2(P,A,B));for(;W<D&&(j>0||H>0||U>0);)j-=Math.max(0,Math.ceil(.1*j)),H-=Math.max(0,Math.ceil(.1*H)),U-=Math.max(0,Math.ceil(.1*U)),W=y(d.relativeLuminance2(j,H,U),d.relativeLuminance2(P,A,B));return(j<<24|H<<16|U<<8|255)>>>0}function b(w,E,D){const P=w>>24&255,A=w>>16&255,B=w>>8&255;let j=E>>24&255,H=E>>16&255,U=E>>8&255,W=y(d.relativeLuminance2(j,H,U),d.relativeLuminance2(P,A,B));for(;W<D&&(j<255||H<255||U<255);)j=Math.min(255,j+Math.ceil(.1*(255-j))),H=Math.min(255,H+Math.ceil(.1*(255-H))),U=Math.min(255,U+Math.ceil(.1*(255-U))),W=y(d.relativeLuminance2(j,H,U),d.relativeLuminance2(P,A,B));return(j<<24|H<<16|U<<8|255)>>>0}C.ensureContrastRatio=function(w,E,D){const P=d.relativeLuminance(w>>8),A=d.relativeLuminance(E>>8);if(y(P,A)<D){if(A<P){const H=x(w,E,D),U=y(P,d.relativeLuminance(H>>8));if(U<D){const W=b(w,E,D);return U>y(P,d.relativeLuminance(W>>8))?H:W}return H}const B=b(w,E,D),j=y(P,d.relativeLuminance(B>>8));if(j<D){const H=x(w,E,D);return j>y(P,d.relativeLuminance(H>>8))?B:H}return B}},C.reduceLuminance=x,C.increaseLuminance=b,C.toChannels=function(w){return[w>>24&255,w>>16&255,w>>8&255,255&w]},C.toColor=function(w,E,D,P){return{css:S.toCss(w,E,D,P),rgba:S.toRgba(w,E,D,P)}}}(f||(o.rgba=f={})),o.toPaddedHex=p,o.contrastRatio=y},8969:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CoreTerminal=void 0;const u=a(844),m=a(2585),c=a(4348),g=a(7866),_=a(744),S=a(7302),v=a(6975),h=a(8460),d=a(1753),f=a(1480),p=a(7994),y=a(9282),C=a(5435),x=a(5981),b=a(2660);let w=!1;class E extends u.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new h.EventEmitter),this._onScroll.event(P=>{var A;(A=this._onScrollApi)===null||A===void 0||A.fire(P.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(P){for(const A in P)this.optionsService.options[A]=P[A]}constructor(P){super(),this._windowsWrappingHeuristics=this.register(new u.MutableDisposable),this._onBinary=this.register(new h.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new h.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new h.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new h.EventEmitter),this._instantiationService=new c.InstantiationService,this.optionsService=this.register(new S.OptionsService(P)),this._instantiationService.setService(m.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(_.BufferService)),this._instantiationService.setService(m.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(m.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(v.CoreService)),this._instantiationService.setService(m.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(m.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(f.UnicodeService)),this._instantiationService.setService(m.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(p.CharsetService),this._instantiationService.setService(m.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(b.OscLinkService),this._instantiationService.setService(m.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new C.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,h.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,h.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,h.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,h.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(A=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(A=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new x.WriteBuffer((A,B)=>this._inputHandler.parse(A,B))),this.register((0,h.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(P,A){this._writeBuffer.write(P,A)}writeSync(P,A){this._logService.logLevel<=m.LogLevelEnum.WARN&&!w&&(this._logService.warn("writeSync is unreliable and will be removed soon."),w=!0),this._writeBuffer.writeSync(P,A)}resize(P,A){isNaN(P)||isNaN(A)||(P=Math.max(P,_.MINIMUM_COLS),A=Math.max(A,_.MINIMUM_ROWS),this._bufferService.resize(P,A))}scroll(P,A=!1){this._bufferService.scroll(P,A)}scrollLines(P,A,B){this._bufferService.scrollLines(P,A,B)}scrollPages(P){this.scrollLines(P*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(P){const A=P-this._bufferService.buffer.ydisp;A!==0&&this.scrollLines(A)}registerEscHandler(P,A){return this._inputHandler.registerEscHandler(P,A)}registerDcsHandler(P,A){return this._inputHandler.registerDcsHandler(P,A)}registerCsiHandler(P,A){return this._inputHandler.registerCsiHandler(P,A)}registerOscHandler(P,A){return this._inputHandler.registerOscHandler(P,A)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let P=!1;const A=this.optionsService.rawOptions.windowsPty;A&&A.buildNumber!==void 0&&A.buildNumber!==void 0?P=A.backend==="conpty"&&A.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(P=!0),P?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const P=[];P.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),P.push(this.registerCsiHandler({final:"H"},()=>((0,y.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,u.toDisposable)(()=>{for(const A of P)A.dispose()})}}}o.CoreTerminal=E},8460:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.forwardEvent=o.EventEmitter=void 0,o.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let u=0;u<this._listeners.length;u++)if(this._listeners[u]===a)return void this._listeners.splice(u,1)}}})),this._event}fire(a,u){const m=[];for(let c=0;c<this._listeners.length;c++)m.push(this._listeners[c]);for(let c=0;c<m.length;c++)m[c].call(void 0,a,u)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},o.forwardEvent=function(a,u){return a(m=>u.fire(m))}},5435:function(l,o,a){var u=this&&this.__decorate||function(W,L,I,k){var O,F=arguments.length,M=F<3?L:k===null?k=Object.getOwnPropertyDescriptor(L,I):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(W,L,I,k);else for(var Q=W.length-1;Q>=0;Q--)(O=W[Q])&&(M=(F<3?O(M):F>3?O(L,I,M):O(L,I))||M);return F>3&&M&&Object.defineProperty(L,I,M),M},m=this&&this.__param||function(W,L){return function(I,k){L(I,k,W)}};Object.defineProperty(o,"__esModule",{value:!0}),o.InputHandler=o.WindowsOptionsReportType=void 0;const c=a(2584),g=a(7116),_=a(2015),S=a(844),v=a(482),h=a(8437),d=a(8460),f=a(643),p=a(511),y=a(3734),C=a(2585),x=a(6242),b=a(6351),w=a(5941),E={"(":0,")":1,"*":2,"+":3,"-":1,".":2},D=131072;function P(W,L){if(W>24)return L.setWinLines||!1;switch(W){case 1:return!!L.restoreWin;case 2:return!!L.minimizeWin;case 3:return!!L.setWinPosition;case 4:return!!L.setWinSizePixels;case 5:return!!L.raiseWin;case 6:return!!L.lowerWin;case 7:return!!L.refreshWin;case 8:return!!L.setWinSizeChars;case 9:return!!L.maximizeWin;case 10:return!!L.fullscreenWin;case 11:return!!L.getWinState;case 13:return!!L.getWinPosition;case 14:return!!L.getWinSizePixels;case 15:return!!L.getScreenSizePixels;case 16:return!!L.getCellSizePixels;case 18:return!!L.getWinSizeChars;case 19:return!!L.getScreenSizeChars;case 20:return!!L.getIconTitle;case 21:return!!L.getWinTitle;case 22:return!!L.pushTitle;case 23:return!!L.popTitle;case 24:return!!L.setWinLines}return!1}var A;(function(W){W[W.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",W[W.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(A||(o.WindowsOptionsReportType=A={}));let B=0;class j extends S.Disposable{getAttrData(){return this._curAttrData}constructor(L,I,k,O,F,M,Q,Y,te=new _.EscapeSequenceParser){super(),this._bufferService=L,this._charsetService=I,this._coreService=k,this._logService=O,this._optionsService=F,this._oscLinkService=M,this._coreMouseService=Q,this._unicodeService=Y,this._parser=te,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new v.StringToUtf32,this._utf8Decoder=new v.Utf8ToUtf32,this._workCell=new p.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new H(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(R=>this._activeBuffer=R.activeBuffer)),this._parser.setCsiHandlerFallback((R,N)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(R),params:N.toArray()})}),this._parser.setEscHandlerFallback(R=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(R)})}),this._parser.setExecuteHandlerFallback(R=>{this._logService.debug("Unknown EXECUTE code: ",{code:R})}),this._parser.setOscHandlerFallback((R,N,q)=>{this._logService.debug("Unknown OSC code: ",{identifier:R,action:N,data:q})}),this._parser.setDcsHandlerFallback((R,N,q)=>{N==="HOOK"&&(q=q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(R),action:N,payload:q})}),this._parser.setPrintHandler((R,N,q)=>this.print(R,N,q)),this._parser.registerCsiHandler({final:"@"},R=>this.insertChars(R)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},R=>this.scrollLeft(R)),this._parser.registerCsiHandler({final:"A"},R=>this.cursorUp(R)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},R=>this.scrollRight(R)),this._parser.registerCsiHandler({final:"B"},R=>this.cursorDown(R)),this._parser.registerCsiHandler({final:"C"},R=>this.cursorForward(R)),this._parser.registerCsiHandler({final:"D"},R=>this.cursorBackward(R)),this._parser.registerCsiHandler({final:"E"},R=>this.cursorNextLine(R)),this._parser.registerCsiHandler({final:"F"},R=>this.cursorPrecedingLine(R)),this._parser.registerCsiHandler({final:"G"},R=>this.cursorCharAbsolute(R)),this._parser.registerCsiHandler({final:"H"},R=>this.cursorPosition(R)),this._parser.registerCsiHandler({final:"I"},R=>this.cursorForwardTab(R)),this._parser.registerCsiHandler({final:"J"},R=>this.eraseInDisplay(R,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},R=>this.eraseInDisplay(R,!0)),this._parser.registerCsiHandler({final:"K"},R=>this.eraseInLine(R,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},R=>this.eraseInLine(R,!0)),this._parser.registerCsiHandler({final:"L"},R=>this.insertLines(R)),this._parser.registerCsiHandler({final:"M"},R=>this.deleteLines(R)),this._parser.registerCsiHandler({final:"P"},R=>this.deleteChars(R)),this._parser.registerCsiHandler({final:"S"},R=>this.scrollUp(R)),this._parser.registerCsiHandler({final:"T"},R=>this.scrollDown(R)),this._parser.registerCsiHandler({final:"X"},R=>this.eraseChars(R)),this._parser.registerCsiHandler({final:"Z"},R=>this.cursorBackwardTab(R)),this._parser.registerCsiHandler({final:"`"},R=>this.charPosAbsolute(R)),this._parser.registerCsiHandler({final:"a"},R=>this.hPositionRelative(R)),this._parser.registerCsiHandler({final:"b"},R=>this.repeatPrecedingCharacter(R)),this._parser.registerCsiHandler({final:"c"},R=>this.sendDeviceAttributesPrimary(R)),this._parser.registerCsiHandler({prefix:">",final:"c"},R=>this.sendDeviceAttributesSecondary(R)),this._parser.registerCsiHandler({final:"d"},R=>this.linePosAbsolute(R)),this._parser.registerCsiHandler({final:"e"},R=>this.vPositionRelative(R)),this._parser.registerCsiHandler({final:"f"},R=>this.hVPosition(R)),this._parser.registerCsiHandler({final:"g"},R=>this.tabClear(R)),this._parser.registerCsiHandler({final:"h"},R=>this.setMode(R)),this._parser.registerCsiHandler({prefix:"?",final:"h"},R=>this.setModePrivate(R)),this._parser.registerCsiHandler({final:"l"},R=>this.resetMode(R)),this._parser.registerCsiHandler({prefix:"?",final:"l"},R=>this.resetModePrivate(R)),this._parser.registerCsiHandler({final:"m"},R=>this.charAttributes(R)),this._parser.registerCsiHandler({final:"n"},R=>this.deviceStatus(R)),this._parser.registerCsiHandler({prefix:"?",final:"n"},R=>this.deviceStatusPrivate(R)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},R=>this.softReset(R)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},R=>this.setCursorStyle(R)),this._parser.registerCsiHandler({final:"r"},R=>this.setScrollRegion(R)),this._parser.registerCsiHandler({final:"s"},R=>this.saveCursor(R)),this._parser.registerCsiHandler({final:"t"},R=>this.windowOptions(R)),this._parser.registerCsiHandler({final:"u"},R=>this.restoreCursor(R)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},R=>this.insertColumns(R)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},R=>this.deleteColumns(R)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},R=>this.selectProtected(R)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},R=>this.requestMode(R,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},R=>this.requestMode(R,!1)),this._parser.setExecuteHandler(c.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(c.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(c.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(c.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(c.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(c.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(c.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(c.C1.IND,()=>this.index()),this._parser.setExecuteHandler(c.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(c.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new x.OscHandler(R=>(this.setTitle(R),this.setIconName(R),!0))),this._parser.registerOscHandler(1,new x.OscHandler(R=>this.setIconName(R))),this._parser.registerOscHandler(2,new x.OscHandler(R=>this.setTitle(R))),this._parser.registerOscHandler(4,new x.OscHandler(R=>this.setOrReportIndexedColor(R))),this._parser.registerOscHandler(8,new x.OscHandler(R=>this.setHyperlink(R))),this._parser.registerOscHandler(10,new x.OscHandler(R=>this.setOrReportFgColor(R))),this._parser.registerOscHandler(11,new x.OscHandler(R=>this.setOrReportBgColor(R))),this._parser.registerOscHandler(12,new x.OscHandler(R=>this.setOrReportCursorColor(R))),this._parser.registerOscHandler(104,new x.OscHandler(R=>this.restoreIndexedColor(R))),this._parser.registerOscHandler(110,new x.OscHandler(R=>this.restoreFgColor(R))),this._parser.registerOscHandler(111,new x.OscHandler(R=>this.restoreBgColor(R))),this._parser.registerOscHandler(112,new x.OscHandler(R=>this.restoreCursorColor(R))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const R in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:R},()=>this.selectCharset("("+R)),this._parser.registerEscHandler({intermediates:")",final:R},()=>this.selectCharset(")"+R)),this._parser.registerEscHandler({intermediates:"*",final:R},()=>this.selectCharset("*"+R)),this._parser.registerEscHandler({intermediates:"+",final:R},()=>this.selectCharset("+"+R)),this._parser.registerEscHandler({intermediates:"-",final:R},()=>this.selectCharset("-"+R)),this._parser.registerEscHandler({intermediates:".",final:R},()=>this.selectCharset("."+R)),this._parser.registerEscHandler({intermediates:"/",final:R},()=>this.selectCharset("/"+R));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(R=>(this._logService.error("Parsing error: ",R),R)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new b.DcsHandler((R,N)=>this.requestStatusString(R,N)))}_preserveStack(L,I,k,O){this._parseStack.paused=!0,this._parseStack.cursorStartX=L,this._parseStack.cursorStartY=I,this._parseStack.decodedLength=k,this._parseStack.position=O}_logSlowResolvingAsync(L){this._logService.logLevel<=C.LogLevelEnum.WARN&&Promise.race([L,new Promise((I,k)=>setTimeout(()=>k("#SLOW_TIMEOUT"),5e3))]).catch(I=>{if(I!=="#SLOW_TIMEOUT")throw I;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(L,I){let k,O=this._activeBuffer.x,F=this._activeBuffer.y,M=0;const Q=this._parseStack.paused;if(Q){if(k=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,I))return this._logSlowResolvingAsync(k),k;O=this._parseStack.cursorStartX,F=this._parseStack.cursorStartY,this._parseStack.paused=!1,L.length>D&&(M=this._parseStack.position+D)}if(this._logService.logLevel<=C.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof L=="string"?` "${L}"`:` "${Array.prototype.map.call(L,Y=>String.fromCharCode(Y)).join("")}"`),typeof L=="string"?L.split("").map(Y=>Y.charCodeAt(0)):L),this._parseBuffer.length<L.length&&this._parseBuffer.length<D&&(this._parseBuffer=new Uint32Array(Math.min(L.length,D))),Q||this._dirtyRowTracker.clearRange(),L.length>D)for(let Y=M;Y<L.length;Y+=D){const te=Y+D<L.length?Y+D:L.length,R=typeof L=="string"?this._stringDecoder.decode(L.substring(Y,te),this._parseBuffer):this._utf8Decoder.decode(L.subarray(Y,te),this._parseBuffer);if(k=this._parser.parse(this._parseBuffer,R))return this._preserveStack(O,F,R,Y),this._logSlowResolvingAsync(k),k}else if(!Q){const Y=typeof L=="string"?this._stringDecoder.decode(L,this._parseBuffer):this._utf8Decoder.decode(L,this._parseBuffer);if(k=this._parser.parse(this._parseBuffer,Y))return this._preserveStack(O,F,Y,0),this._logSlowResolvingAsync(k),k}this._activeBuffer.x===O&&this._activeBuffer.y===F||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(L,I,k){let O,F;const M=this._charsetService.charset,Q=this._optionsService.rawOptions.screenReaderMode,Y=this._bufferService.cols,te=this._coreService.decPrivateModes.wraparound,R=this._coreService.modes.insertMode,N=this._curAttrData;let q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&k-I>0&&q.getWidth(this._activeBuffer.x-1)===2&&q.setCellFromCodePoint(this._activeBuffer.x-1,0,1,N.fg,N.bg,N.extended);for(let V=I;V<k;++V){if(O=L[V],F=this._unicodeService.wcwidth(O),O<127&&M){const ie=M[String.fromCharCode(O)];ie&&(O=ie.charCodeAt(0))}if(Q&&this._onA11yChar.fire((0,v.stringFromCodePoint)(O)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),F||!this._activeBuffer.x){if(this._activeBuffer.x+F-1>=Y){if(te){for(;this._activeBuffer.x<Y;)q.setCellFromCodePoint(this._activeBuffer.x++,0,1,N.fg,N.bg,N.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=Y-1,F===2)continue}if(R&&(q.insertCells(this._activeBuffer.x,F,this._activeBuffer.getNullCell(N),N),q.getWidth(Y-1)===2&&q.setCellFromCodePoint(Y-1,f.NULL_CELL_CODE,f.NULL_CELL_WIDTH,N.fg,N.bg,N.extended)),q.setCellFromCodePoint(this._activeBuffer.x++,O,F,N.fg,N.bg,N.extended),F>0)for(;--F;)q.setCellFromCodePoint(this._activeBuffer.x++,0,0,N.fg,N.bg,N.extended)}else q.getWidth(this._activeBuffer.x-1)?q.addCodepointToCell(this._activeBuffer.x-1,O):q.addCodepointToCell(this._activeBuffer.x-2,O)}k-I>0&&(q.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<Y&&k-I>0&&q.getWidth(this._activeBuffer.x)===0&&!q.hasContent(this._activeBuffer.x)&&q.setCellFromCodePoint(this._activeBuffer.x,0,1,N.fg,N.bg,N.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(L,I){return L.final!=="t"||L.prefix||L.intermediates?this._parser.registerCsiHandler(L,I):this._parser.registerCsiHandler(L,k=>!P(k.params[0],this._optionsService.rawOptions.windowOptions)||I(k))}registerDcsHandler(L,I){return this._parser.registerDcsHandler(L,new b.DcsHandler(I))}registerEscHandler(L,I){return this._parser.registerEscHandler(L,I)}registerOscHandler(L,I){return this._parser.registerOscHandler(L,new x.OscHandler(I))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var L;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||L===void 0)&&L.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);I.hasWidth(this._activeBuffer.x)&&!I.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const L=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-L),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(L=this._bufferService.cols-1){this._activeBuffer.x=Math.min(L,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(L,I){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=L,this._activeBuffer.y=this._activeBuffer.scrollTop+I):(this._activeBuffer.x=L,this._activeBuffer.y=I),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(L,I){this._restrictCursor(),this._setCursor(this._activeBuffer.x+L,this._activeBuffer.y+I)}cursorUp(L){const I=this._activeBuffer.y-this._activeBuffer.scrollTop;return I>=0?this._moveCursor(0,-Math.min(I,L.params[0]||1)):this._moveCursor(0,-(L.params[0]||1)),!0}cursorDown(L){const I=this._activeBuffer.scrollBottom-this._activeBuffer.y;return I>=0?this._moveCursor(0,Math.min(I,L.params[0]||1)):this._moveCursor(0,L.params[0]||1),!0}cursorForward(L){return this._moveCursor(L.params[0]||1,0),!0}cursorBackward(L){return this._moveCursor(-(L.params[0]||1),0),!0}cursorNextLine(L){return this.cursorDown(L),this._activeBuffer.x=0,!0}cursorPrecedingLine(L){return this.cursorUp(L),this._activeBuffer.x=0,!0}cursorCharAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(L){return this._setCursor(L.length>=2?(L.params[1]||1)-1:0,(L.params[0]||1)-1),!0}charPosAbsolute(L){return this._setCursor((L.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(L){return this._moveCursor(L.params[0]||1,0),!0}linePosAbsolute(L){return this._setCursor(this._activeBuffer.x,(L.params[0]||1)-1),!0}vPositionRelative(L){return this._moveCursor(0,L.params[0]||1),!0}hVPosition(L){return this.cursorPosition(L),!0}tabClear(L){const I=L.params[0];return I===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:I===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=L.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(L){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=L.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(L){const I=L.params[0];return I===1&&(this._curAttrData.bg|=536870912),I!==2&&I!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(L,I,k,O=!1,F=!1){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);M.replaceCells(I,k,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),F),O&&(M.isWrapped=!1)}_resetBufferLine(L,I=!1){const k=this._activeBuffer.lines.get(this._activeBuffer.ybase+L);k&&(k.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),I),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+L),k.isWrapped=!1)}eraseInDisplay(L,I=!1){let k;switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:for(k=this._activeBuffer.y,this._dirtyRowTracker.markDirty(k),this._eraseInBufferLine(k++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);k<this._bufferService.rows;k++)this._resetBufferLine(k,I);this._dirtyRowTracker.markDirty(k);break;case 1:for(k=this._activeBuffer.y,this._dirtyRowTracker.markDirty(k),this._eraseInBufferLine(k,0,this._activeBuffer.x+1,!0,I),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(k+1).isWrapped=!1);k--;)this._resetBufferLine(k,I);this._dirtyRowTracker.markDirty(0);break;case 2:for(k=this._bufferService.rows,this._dirtyRowTracker.markDirty(k-1);k--;)this._resetBufferLine(k,I);this._dirtyRowTracker.markDirty(0);break;case 3:const O=this._activeBuffer.lines.length-this._bufferService.rows;O>0&&(this._activeBuffer.lines.trimStart(O),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-O,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-O,0),this._onScroll.fire(0))}return!0}eraseInLine(L,I=!1){switch(this._restrictCursor(this._bufferService.cols),L.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,I);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,I)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(L){this._restrictCursor();let I=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=this._activeBuffer.ybase+this._activeBuffer.y,O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,F=this._bufferService.rows-1+this._activeBuffer.ybase-O+1;for(;I--;)this._activeBuffer.lines.splice(F-1,1),this._activeBuffer.lines.splice(k,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(L){this._restrictCursor();let I=L.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const k=this._activeBuffer.ybase+this._activeBuffer.y;let O;for(O=this._bufferService.rows-1-this._activeBuffer.scrollBottom,O=this._bufferService.rows-1+this._activeBuffer.ybase-O;I--;)this._activeBuffer.lines.splice(k,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(L){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.insertCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(L){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.deleteCells(this._activeBuffer.x,L.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(L){let I=L.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(L){let I=L.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(h.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=L.params[0]||1;for(let k=this._activeBuffer.scrollTop;k<=this._activeBuffer.scrollBottom;++k){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);O.deleteCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=L.params[0]||1;for(let k=this._activeBuffer.scrollTop;k<=this._activeBuffer.scrollBottom;++k){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);O.insertCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=L.params[0]||1;for(let k=this._activeBuffer.scrollTop;k<=this._activeBuffer.scrollBottom;++k){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);O.insertCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(L){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=L.params[0]||1;for(let k=this._activeBuffer.scrollTop;k<=this._activeBuffer.scrollBottom;++k){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);O.deleteCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),O.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(L){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(L.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(L){if(!this._parser.precedingCodepoint)return!0;const I=L.params[0]||1,k=new Uint32Array(I);for(let O=0;O<I;++O)k[O]=this._parser.precedingCodepoint;return this.print(k,0,k.length),!0}sendDeviceAttributesPrimary(L){return L.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(c.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(c.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(L){return L.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(c.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(c.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(L.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(c.C0.ESC+"[>83;40003;0c")),!0}_is(L){return(this._optionsService.rawOptions.termName+"").indexOf(L)===0}setMode(L){for(let I=0;I<L.length;I++)switch(L.params[I]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(L){for(let I=0;I<L.length;I++)switch(L.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(L){for(let I=0;I<L.length;I++)switch(L.params[I]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(L){for(let I=0;I<L.length;I++)switch(L.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),L.params[I]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(L,I){const k=this._coreService.decPrivateModes,{activeProtocol:O,activeEncoding:F}=this._coreMouseService,M=this._coreService,{buffers:Q,cols:Y}=this._bufferService,{active:te,alt:R}=Q,N=this._optionsService.rawOptions,q=de=>de?1:2,V=L.params[0];return ie=V,Z=I?V===2?4:V===4?q(M.modes.insertMode):V===12?3:V===20?q(N.convertEol):0:V===1?q(k.applicationCursorKeys):V===3?N.windowOptions.setWinLines?Y===80?2:Y===132?1:0:0:V===6?q(k.origin):V===7?q(k.wraparound):V===8?3:V===9?q(O==="X10"):V===12?q(N.cursorBlink):V===25?q(!M.isCursorHidden):V===45?q(k.reverseWraparound):V===66?q(k.applicationKeypad):V===67?4:V===1e3?q(O==="VT200"):V===1002?q(O==="DRAG"):V===1003?q(O==="ANY"):V===1004?q(k.sendFocus):V===1005?4:V===1006?q(F==="SGR"):V===1015?4:V===1016?q(F==="SGR_PIXELS"):V===1048?1:V===47||V===1047||V===1049?q(te===R):V===2004?q(k.bracketedPasteMode):0,M.triggerDataEvent(`${c.C0.ESC}[${I?"":"?"}${ie};${Z}$y`),!0;var ie,Z}_updateAttrColor(L,I,k,O,F){return I===2?(L|=50331648,L&=-16777216,L|=y.AttributeData.fromColorRGB([k,O,F])):I===5&&(L&=-50331904,L|=33554432|255&k),L}_extractColor(L,I,k){const O=[0,0,-1,0,0,0];let F=0,M=0;do{if(O[M+F]=L.params[I+M],L.hasSubParams(I+M)){const Q=L.getSubParams(I+M);let Y=0;do O[1]===5&&(F=1),O[M+Y+1+F]=Q[Y];while(++Y<Q.length&&Y+M+1+F<O.length);break}if(O[1]===5&&M+F>=2||O[1]===2&&M+F>=5)break;O[1]&&(F=1)}while(++M+I<L.length&&M+F<O.length);for(let Q=2;Q<O.length;++Q)O[Q]===-1&&(O[Q]=0);switch(O[0]){case 38:k.fg=this._updateAttrColor(k.fg,O[1],O[3],O[4],O[5]);break;case 48:k.bg=this._updateAttrColor(k.bg,O[1],O[3],O[4],O[5]);break;case 58:k.extended=k.extended.clone(),k.extended.underlineColor=this._updateAttrColor(k.extended.underlineColor,O[1],O[3],O[4],O[5])}return M}_processUnderline(L,I){I.extended=I.extended.clone(),(!~L||L>5)&&(L=1),I.extended.underlineStyle=L,I.fg|=268435456,L===0&&(I.fg&=-268435457),I.updateExtended()}_processSGR0(L){L.fg=h.DEFAULT_ATTR_DATA.fg,L.bg=h.DEFAULT_ATTR_DATA.bg,L.extended=L.extended.clone(),L.extended.underlineStyle=0,L.extended.underlineColor&=-67108864,L.updateExtended()}charAttributes(L){if(L.length===1&&L.params[0]===0)return this._processSGR0(this._curAttrData),!0;const I=L.length;let k;const O=this._curAttrData;for(let F=0;F<I;F++)k=L.params[F],k>=30&&k<=37?(O.fg&=-50331904,O.fg|=16777216|k-30):k>=40&&k<=47?(O.bg&=-50331904,O.bg|=16777216|k-40):k>=90&&k<=97?(O.fg&=-50331904,O.fg|=16777224|k-90):k>=100&&k<=107?(O.bg&=-50331904,O.bg|=16777224|k-100):k===0?this._processSGR0(O):k===1?O.fg|=134217728:k===3?O.bg|=67108864:k===4?(O.fg|=268435456,this._processUnderline(L.hasSubParams(F)?L.getSubParams(F)[0]:1,O)):k===5?O.fg|=536870912:k===7?O.fg|=67108864:k===8?O.fg|=1073741824:k===9?O.fg|=2147483648:k===2?O.bg|=134217728:k===21?this._processUnderline(2,O):k===22?(O.fg&=-134217729,O.bg&=-134217729):k===23?O.bg&=-67108865:k===24?(O.fg&=-268435457,this._processUnderline(0,O)):k===25?O.fg&=-536870913:k===27?O.fg&=-67108865:k===28?O.fg&=-1073741825:k===29?O.fg&=2147483647:k===39?(O.fg&=-67108864,O.fg|=16777215&h.DEFAULT_ATTR_DATA.fg):k===49?(O.bg&=-67108864,O.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):k===38||k===48||k===58?F+=this._extractColor(L,F,O):k===53?O.bg|=1073741824:k===55?O.bg&=-1073741825:k===59?(O.extended=O.extended.clone(),O.extended.underlineColor=-1,O.updateExtended()):k===100?(O.fg&=-67108864,O.fg|=16777215&h.DEFAULT_ATTR_DATA.fg,O.bg&=-67108864,O.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",k);return!0}deviceStatus(L){switch(L.params[0]){case 5:this._coreService.triggerDataEvent(`${c.C0.ESC}[0n`);break;case 6:const I=this._activeBuffer.y+1,k=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[${I};${k}R`)}return!0}deviceStatusPrivate(L){if(L.params[0]===6){const I=this._activeBuffer.y+1,k=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${c.C0.ESC}[?${I};${k}R`)}return!0}softReset(L){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(L){const I=L.params[0]||1;switch(I){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const k=I%2==1;return this._optionsService.options.cursorBlink=k,!0}setScrollRegion(L){const I=L.params[0]||1;let k;return(L.length<2||(k=L.params[1])>this._bufferService.rows||k===0)&&(k=this._bufferService.rows),k>I&&(this._activeBuffer.scrollTop=I-1,this._activeBuffer.scrollBottom=k-1,this._setCursor(0,0)),!0}windowOptions(L){if(!P(L.params[0],this._optionsService.rawOptions.windowOptions))return!0;const I=L.length>1?L.params[1]:0;switch(L.params[0]){case 14:I!==2&&this._onRequestWindowsOptionsReport.fire(A.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(A.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${c.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:I!==0&&I!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),I!==0&&I!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:I!==0&&I!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),I!==0&&I!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(L){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(L){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(L){return this._windowTitle=L,this._onTitleChange.fire(L),!0}setIconName(L){return this._iconName=L,!0}setOrReportIndexedColor(L){const I=[],k=L.split(";");for(;k.length>1;){const O=k.shift(),F=k.shift();if(/^\d+$/.exec(O)){const M=parseInt(O);if(U(M))if(F==="?")I.push({type:0,index:M});else{const Q=(0,w.parseColor)(F);Q&&I.push({type:1,index:M,color:Q})}}}return I.length&&this._onColor.fire(I),!0}setHyperlink(L){const I=L.split(";");return!(I.length<2)&&(I[1]?this._createHyperlink(I[0],I[1]):!I[0]&&this._finishHyperlink())}_createHyperlink(L,I){this._getCurrentLinkId()&&this._finishHyperlink();const k=L.split(":");let O;const F=k.findIndex(M=>M.startsWith("id="));return F!==-1&&(O=k[F].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:O,uri:I}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(L,I){const k=L.split(";");for(let O=0;O<k.length&&!(I>=this._specialColors.length);++O,++I)if(k[O]==="?")this._onColor.fire([{type:0,index:this._specialColors[I]}]);else{const F=(0,w.parseColor)(k[O]);F&&this._onColor.fire([{type:1,index:this._specialColors[I],color:F}])}return!0}setOrReportFgColor(L){return this._setOrReportSpecialColor(L,0)}setOrReportBgColor(L){return this._setOrReportSpecialColor(L,1)}setOrReportCursorColor(L){return this._setOrReportSpecialColor(L,2)}restoreIndexedColor(L){if(!L)return this._onColor.fire([{type:2}]),!0;const I=[],k=L.split(";");for(let O=0;O<k.length;++O)if(/^\d+$/.exec(k[O])){const F=parseInt(k[O]);U(F)&&I.push({type:2,index:F})}return I.length&&this._onColor.fire(I),!0}restoreFgColor(L){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(L){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(L){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(L){return L.length!==2?(this.selectDefaultCharset(),!0):(L[0]==="/"||this._charsetService.setgCharset(E[L[0]],g.CHARSETS[L[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const L=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,L,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(L){return this._charsetService.setgLevel(L),!0}screenAlignmentPattern(){const L=new p.CellData;L.content=4194373,L.fg=this._curAttrData.fg,L.bg=this._curAttrData.bg,this._setCursor(0,0);for(let I=0;I<this._bufferService.rows;++I){const k=this._activeBuffer.ybase+this._activeBuffer.y+I,O=this._activeBuffer.lines.get(k);O&&(O.fill(L),O.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(L,I){const k=this._bufferService.buffer,O=this._optionsService.rawOptions;return(F=>(this._coreService.triggerDataEvent(`${c.C0.ESC}${F}${c.C0.ESC}\\`),!0))(L==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:L==='"p'?'P1$r61;1"p':L==="r"?`P1$r${k.scrollTop+1};${k.scrollBottom+1}r`:L==="m"?"P1$r0m":L===" q"?`P1$r${{block:2,underline:4,bar:6}[O.cursorStyle]-(O.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(L,I){this._dirtyRowTracker.markRangeDirty(L,I)}}o.InputHandler=j;let H=class{constructor(W){this._bufferService=W,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(W){W<this.start?this.start=W:W>this.end&&(this.end=W)}markRangeDirty(W,L){W>L&&(B=W,W=L,L=B),W<this.start&&(this.start=W),L>this.end&&(this.end=L)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function U(W){return 0<=W&&W<256}H=u([m(0,C.IBufferService)],H)},844:(l,o)=>{function a(u){for(const m of u)m.dispose();u.length=0}Object.defineProperty(o,"__esModule",{value:!0}),o.getDisposeArrayDisposable=o.disposeArray=o.toDisposable=o.MutableDisposable=o.Disposable=void 0,o.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const u of this._disposables)u.dispose();this._disposables.length=0}register(u){return this._disposables.push(u),u}unregister(u){const m=this._disposables.indexOf(u);m!==-1&&this._disposables.splice(m,1)}},o.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(u){var m;this._isDisposed||u===this._value||((m=this._value)===null||m===void 0||m.dispose(),this._value=u)}clear(){this.value=void 0}dispose(){var u;this._isDisposed=!0,(u=this._value)===null||u===void 0||u.dispose(),this._value=void 0}},o.toDisposable=function(u){return{dispose:u}},o.disposeArray=a,o.getDisposeArrayDisposable=function(u){return{dispose:()=>a(u)}}},1505:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.FourKeyMap=o.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(m,c,g){this._data[m]||(this._data[m]={}),this._data[m][c]=g}get(m,c){return this._data[m]?this._data[m][c]:void 0}clear(){this._data={}}}o.TwoKeyMap=a,o.FourKeyMap=class{constructor(){this._data=new a}set(u,m,c,g,_){this._data.get(u,m)||this._data.set(u,m,new a),this._data.get(u,m).set(c,g,_)}get(u,m,c,g){var _;return(_=this._data.get(u,m))===null||_===void 0?void 0:_.get(c,g)}clear(){this._data.clear()}}},6114:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.isChromeOS=o.isLinux=o.isWindows=o.isIphone=o.isIpad=o.isMac=o.getSafariVersion=o.isSafari=o.isLegacyEdge=o.isFirefox=o.isNode=void 0,o.isNode=typeof navigator>"u";const a=o.isNode?"node":navigator.userAgent,u=o.isNode?"node":navigator.platform;o.isFirefox=a.includes("Firefox"),o.isLegacyEdge=a.includes("Edge"),o.isSafari=/^((?!chrome|android).)*safari/i.test(a),o.getSafariVersion=function(){if(!o.isSafari)return 0;const m=a.match(/Version\/(\d+)/);return m===null||m.length<2?0:parseInt(m[1])},o.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(u),o.isIpad=u==="iPad",o.isIphone=u==="iPhone",o.isWindows=["Windows","Win16","Win32","WinCE"].includes(u),o.isLinux=u.indexOf("Linux")>=0,o.isChromeOS=/\bCrOS\b/.test(a)},6106:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.SortedList=void 0;let a=0;o.SortedList=class{constructor(u){this._getKey=u,this._array=[]}clear(){this._array.length=0}insert(u){this._array.length!==0?(a=this._search(this._getKey(u)),this._array.splice(a,0,u)):this._array.push(u)}delete(u){if(this._array.length===0)return!1;const m=this._getKey(u);if(m===void 0||(a=this._search(m),a===-1)||this._getKey(this._array[a])!==m)return!1;do if(this._array[a]===u)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===m);return!1}*getKeyIterator(u){if(this._array.length!==0&&(a=this._search(u),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===u)}forEachByKey(u,m){if(this._array.length!==0&&(a=this._search(u),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===u))do m(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===u)}values(){return[...this._array].values()}_search(u){let m=0,c=this._array.length-1;for(;c>=m;){let g=m+c>>1;const _=this._getKey(this._array[g]);if(_>u)c=g-1;else{if(!(_<u)){for(;g>0&&this._getKey(this._array[g-1])===u;)g--;return g}m=g+1}}return m}}},7226:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DebouncedIdleTask=o.IdleTaskQueue=o.PriorityTaskQueue=void 0;const u=a(6114);class m{constructor(){this._tasks=[],this._i=0}enqueue(_){this._tasks.push(_),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(_){this._idleCallback=void 0;let S=0,v=0,h=_.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),v=Math.max(S,v),d=_.timeRemaining(),1.5*v>d)return h-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(h-S))}ms`),void this._start();h=d}this.clear()}}class c extends m{_requestCallback(_){return setTimeout(()=>_(this._createDeadline(16)))}_cancelCallback(_){clearTimeout(_)}_createDeadline(_){const S=Date.now()+_;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}o.PriorityTaskQueue=c,o.IdleTaskQueue=!u.isNode&&"requestIdleCallback"in window?class extends m{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:c,o.DebouncedIdleTask=class{constructor(){this._queue=new o.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.updateWindowsModeWrappedState=void 0;const u=a(643);o.updateWindowsModeWrappedState=function(m){const c=m.buffer.lines.get(m.buffer.ybase+m.buffer.y-1),g=c==null?void 0:c.get(m.cols-1),_=m.buffer.lines.get(m.buffer.ybase+m.buffer.y);_&&g&&(_.isWrapped=g[u.CHAR_DATA_CODE_INDEX]!==u.NULL_CELL_CODE&&g[u.CHAR_DATA_CODE_INDEX]!==u.WHITESPACE_CELL_CODE)}},3734:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ExtendedAttrs=o.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new u}static toColorRGB(c){return[c>>>16&255,c>>>8&255,255&c]}static fromColorRGB(c){return(255&c[0])<<16|(255&c[1])<<8|255&c[2]}clone(){const c=new a;return c.fg=this.fg,c.bg=this.bg,c.extended=this.extended.clone(),c}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}o.AttributeData=a;class u{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(c){this._ext=c}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(c){this._ext&=-469762049,this._ext|=c<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(c){this._ext&=-67108864,this._ext|=67108863&c}get urlId(){return this._urlId}set urlId(c){this._urlId=c}constructor(c=0,g=0){this._ext=0,this._urlId=0,this._ext=c,this._urlId=g}clone(){return new u(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}o.ExtendedAttrs=u},9092:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Buffer=o.MAX_BUFFER_SIZE=void 0;const u=a(6349),m=a(7226),c=a(3734),g=a(8437),_=a(4634),S=a(511),v=a(643),h=a(4863),d=a(7116);o.MAX_BUFFER_SIZE=4294967295,o.Buffer=class{constructor(f,p,y){this._hasScrollback=f,this._optionsService=p,this._bufferService=y,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,v.NULL_CELL_CHAR,v.NULL_CELL_WIDTH,v.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,v.WHITESPACE_CELL_CHAR,v.WHITESPACE_CELL_WIDTH,v.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new m.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(f){return f?(this._nullCell.fg=f.fg,this._nullCell.bg=f.bg,this._nullCell.extended=f.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new c.ExtendedAttrs),this._nullCell}getWhitespaceCell(f){return f?(this._whitespaceCell.fg=f.fg,this._whitespaceCell.bg=f.bg,this._whitespaceCell.extended=f.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new c.ExtendedAttrs),this._whitespaceCell}getBlankLine(f,p){return new g.BufferLine(this._bufferService.cols,this.getNullCell(f),p)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const f=this.ybase+this.y-this.ydisp;return f>=0&&f<this._rows}_getCorrectBufferLength(f){if(!this._hasScrollback)return f;const p=f+this._optionsService.rawOptions.scrollback;return p>o.MAX_BUFFER_SIZE?o.MAX_BUFFER_SIZE:p}fillViewportRows(f){if(this.lines.length===0){f===void 0&&(f=g.DEFAULT_ATTR_DATA);let p=this._rows;for(;p--;)this.lines.push(this.getBlankLine(f))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new u.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(f,p){const y=this.getNullCell(g.DEFAULT_ATTR_DATA);let C=0;const x=this._getCorrectBufferLength(p);if(x>this.lines.maxLength&&(this.lines.maxLength=x),this.lines.length>0){if(this._cols<f)for(let w=0;w<this.lines.length;w++)C+=+this.lines.get(w).resize(f,y);let b=0;if(this._rows<p)for(let w=this._rows;w<p;w++)this.lines.length<p+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(f,y)):this.ybase>0&&this.lines.length<=this.ybase+this.y+b+1?(this.ybase--,b++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(f,y)));else for(let w=this._rows;w>p;w--)this.lines.length>p+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(x<this.lines.maxLength){const w=this.lines.length-x;w>0&&(this.lines.trimStart(w),this.ybase=Math.max(this.ybase-w,0),this.ydisp=Math.max(this.ydisp-w,0),this.savedY=Math.max(this.savedY-w,0)),this.lines.maxLength=x}this.x=Math.min(this.x,f-1),this.y=Math.min(this.y,p-1),b&&(this.y+=b),this.savedX=Math.min(this.savedX,f-1),this.scrollTop=0}if(this.scrollBottom=p-1,this._isReflowEnabled&&(this._reflow(f,p),this._cols>f))for(let b=0;b<this.lines.length;b++)C+=+this.lines.get(b).resize(f,y);this._cols=f,this._rows=p,this._memoryCleanupQueue.clear(),C>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let f=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,f=!1);let p=0;for(;this._memoryCleanupPosition<this.lines.length;)if(p+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),p>100)return!0;return f}get _isReflowEnabled(){const f=this._optionsService.rawOptions.windowsPty;return f&&f.buildNumber?this._hasScrollback&&f.backend==="conpty"&&f.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(f,p){this._cols!==f&&(f>this._cols?this._reflowLarger(f,p):this._reflowSmaller(f,p))}_reflowLarger(f,p){const y=(0,_.reflowLargerGetLinesToRemove)(this.lines,this._cols,f,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(y.length>0){const C=(0,_.reflowLargerCreateNewLayout)(this.lines,y);(0,_.reflowLargerApplyNewLayout)(this.lines,C.layout),this._reflowLargerAdjustViewport(f,p,C.countRemoved)}}_reflowLargerAdjustViewport(f,p,y){const C=this.getNullCell(g.DEFAULT_ATTR_DATA);let x=y;for(;x-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<p&&this.lines.push(new g.BufferLine(f,C))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-y,0)}_reflowSmaller(f,p){const y=this.getNullCell(g.DEFAULT_ATTR_DATA),C=[];let x=0;for(let b=this.lines.length-1;b>=0;b--){let w=this.lines.get(b);if(!w||!w.isWrapped&&w.getTrimmedLength()<=f)continue;const E=[w];for(;w.isWrapped&&b>0;)w=this.lines.get(--b),E.unshift(w);const D=this.ybase+this.y;if(D>=b&&D<b+E.length)continue;const P=E[E.length-1].getTrimmedLength(),A=(0,_.reflowSmallerGetNewLineLengths)(E,this._cols,f),B=A.length-E.length;let j;j=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+B):Math.max(0,this.lines.length-this.lines.maxLength+B);const H=[];for(let O=0;O<B;O++){const F=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);H.push(F)}H.length>0&&(C.push({start:b+E.length+x,newLines:H}),x+=H.length),E.push(...H);let U=A.length-1,W=A[U];W===0&&(U--,W=A[U]);let L=E.length-B-1,I=P;for(;L>=0;){const O=Math.min(I,W);if(E[U]===void 0)break;if(E[U].copyCellsFrom(E[L],I-O,W-O,O,!0),W-=O,W===0&&(U--,W=A[U]),I-=O,I===0){L--;const F=Math.max(L,0);I=(0,_.getWrappedLineTrimmedLength)(E,F,this._cols)}}for(let O=0;O<E.length;O++)A[O]<f&&E[O].setCell(A[O],y);let k=B-j;for(;k-- >0;)this.ybase===0?this.y<p-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+x)-p&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+B,this.ybase+p-1)}if(C.length>0){const b=[],w=[];for(let U=0;U<this.lines.length;U++)w.push(this.lines.get(U));const E=this.lines.length;let D=E-1,P=0,A=C[P];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+x);let B=0;for(let U=Math.min(this.lines.maxLength-1,E+x-1);U>=0;U--)if(A&&A.start>D+B){for(let W=A.newLines.length-1;W>=0;W--)this.lines.set(U--,A.newLines[W]);U++,b.push({index:D+1,amount:A.newLines.length}),B+=A.newLines.length,A=C[++P]}else this.lines.set(U,w[D--]);let j=0;for(let U=b.length-1;U>=0;U--)b[U].index+=j,this.lines.onInsertEmitter.fire(b[U]),j+=b[U].amount;const H=Math.max(0,E+x-this.lines.maxLength);H>0&&this.lines.onTrimEmitter.fire(H)}}translateBufferLineToString(f,p,y=0,C){const x=this.lines.get(f);return x?x.translateToString(p,y,C):""}getWrappedRangeForLine(f){let p=f,y=f;for(;p>0&&this.lines.get(p).isWrapped;)p--;for(;y+1<this.lines.length&&this.lines.get(y+1).isWrapped;)y++;return{first:p,last:y}}setupTabStops(f){for(f!=null?this.tabs[f]||(f=this.prevStop(f)):(this.tabs={},f=0);f<this._cols;f+=this._optionsService.rawOptions.tabStopWidth)this.tabs[f]=!0}prevStop(f){for(f==null&&(f=this.x);!this.tabs[--f]&&f>0;);return f>=this._cols?this._cols-1:f<0?0:f}nextStop(f){for(f==null&&(f=this.x);!this.tabs[++f]&&f<this._cols;);return f>=this._cols?this._cols-1:f<0?0:f}clearMarkers(f){this._isClearing=!0;for(let p=0;p<this.markers.length;p++)this.markers[p].line===f&&(this.markers[p].dispose(),this.markers.splice(p--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].dispose(),this.markers.splice(f--,1);this._isClearing=!1}addMarker(f){const p=new h.Marker(f);return this.markers.push(p),p.register(this.lines.onTrim(y=>{p.line-=y,p.line<0&&p.dispose()})),p.register(this.lines.onInsert(y=>{p.line>=y.index&&(p.line+=y.amount)})),p.register(this.lines.onDelete(y=>{p.line>=y.index&&p.line<y.index+y.amount&&p.dispose(),p.line>y.index&&(p.line-=y.amount)})),p.register(p.onDispose(()=>this._removeMarker(p))),p}_removeMarker(f){this._isClearing||this.markers.splice(this.markers.indexOf(f),1)}}},8437:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLine=o.DEFAULT_ATTR_DATA=void 0;const u=a(3734),m=a(511),c=a(643),g=a(482);o.DEFAULT_ATTR_DATA=Object.freeze(new u.AttributeData);let _=0;class S{constructor(h,d,f=!1){this.isWrapped=f,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*h);const p=d||m.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]);for(let y=0;y<h;++y)this.setCell(y,p);this.length=h}get(h){const d=this._data[3*h+0],f=2097151&d;return[this._data[3*h+1],2097152&d?this._combined[h]:f?(0,g.stringFromCodePoint)(f):"",d>>22,2097152&d?this._combined[h].charCodeAt(this._combined[h].length-1):f]}set(h,d){this._data[3*h+1]=d[c.CHAR_DATA_ATTR_INDEX],d[c.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[h]=d[1],this._data[3*h+0]=2097152|h|d[c.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*h+0]=d[c.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[c.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(h){return this._data[3*h+0]>>22}hasWidth(h){return 12582912&this._data[3*h+0]}getFg(h){return this._data[3*h+1]}getBg(h){return this._data[3*h+2]}hasContent(h){return 4194303&this._data[3*h+0]}getCodePoint(h){const d=this._data[3*h+0];return 2097152&d?this._combined[h].charCodeAt(this._combined[h].length-1):2097151&d}isCombined(h){return 2097152&this._data[3*h+0]}getString(h){const d=this._data[3*h+0];return 2097152&d?this._combined[h]:2097151&d?(0,g.stringFromCodePoint)(2097151&d):""}isProtected(h){return 536870912&this._data[3*h+2]}loadCell(h,d){return _=3*h,d.content=this._data[_+0],d.fg=this._data[_+1],d.bg=this._data[_+2],2097152&d.content&&(d.combinedData=this._combined[h]),268435456&d.bg&&(d.extended=this._extendedAttrs[h]),d}setCell(h,d){2097152&d.content&&(this._combined[h]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[h]=d.extended),this._data[3*h+0]=d.content,this._data[3*h+1]=d.fg,this._data[3*h+2]=d.bg}setCellFromCodePoint(h,d,f,p,y,C){268435456&y&&(this._extendedAttrs[h]=C),this._data[3*h+0]=d|f<<22,this._data[3*h+1]=p,this._data[3*h+2]=y}addCodepointToCell(h,d){let f=this._data[3*h+0];2097152&f?this._combined[h]+=(0,g.stringFromCodePoint)(d):(2097151&f?(this._combined[h]=(0,g.stringFromCodePoint)(2097151&f)+(0,g.stringFromCodePoint)(d),f&=-2097152,f|=2097152):f=d|4194304,this._data[3*h+0]=f)}insertCells(h,d,f,p){if((h%=this.length)&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h-1,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new u.ExtendedAttrs),d<this.length-h){const y=new m.CellData;for(let C=this.length-h-d-1;C>=0;--C)this.setCell(h+d+C,this.loadCell(h+C,y));for(let C=0;C<d;++C)this.setCell(h+C,f)}else for(let y=h;y<this.length;++y)this.setCell(y,f);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new u.ExtendedAttrs)}deleteCells(h,d,f,p){if(h%=this.length,d<this.length-h){const y=new m.CellData;for(let C=0;C<this.length-h-d;++C)this.setCell(h+C,this.loadCell(h+d+C,y));for(let C=this.length-d;C<this.length;++C)this.setCell(C,f)}else for(let y=h;y<this.length;++y)this.setCell(y,f);h&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h-1,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new u.ExtendedAttrs),this.getWidth(h)!==0||this.hasContent(h)||this.setCellFromCodePoint(h,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new u.ExtendedAttrs)}replaceCells(h,d,f,p,y=!1){if(y)for(h&&this.getWidth(h-1)===2&&!this.isProtected(h-1)&&this.setCellFromCodePoint(h-1,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new u.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodePoint(d,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new u.ExtendedAttrs);h<d&&h<this.length;)this.isProtected(h)||this.setCell(h,f),h++;else for(h&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h-1,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new u.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,(p==null?void 0:p.fg)||0,(p==null?void 0:p.bg)||0,(p==null?void 0:p.extended)||new u.ExtendedAttrs);h<d&&h<this.length;)this.setCell(h++,f)}resize(h,d){if(h===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const f=3*h;if(h>this.length){if(this._data.buffer.byteLength>=4*f)this._data=new Uint32Array(this._data.buffer,0,f);else{const p=new Uint32Array(f);p.set(this._data),this._data=p}for(let p=this.length;p<h;++p)this.setCell(p,d)}else{this._data=this._data.subarray(0,f);const p=Object.keys(this._combined);for(let C=0;C<p.length;C++){const x=parseInt(p[C],10);x>=h&&delete this._combined[x]}const y=Object.keys(this._extendedAttrs);for(let C=0;C<y.length;C++){const x=parseInt(y[C],10);x>=h&&delete this._extendedAttrs[x]}}return this.length=h,4*f*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const h=new Uint32Array(this._data.length);return h.set(this._data),this._data=h,1}return 0}fill(h,d=!1){if(d)for(let f=0;f<this.length;++f)this.isProtected(f)||this.setCell(f,h);else{this._combined={},this._extendedAttrs={};for(let f=0;f<this.length;++f)this.setCell(f,h)}}copyFrom(h){this.length!==h.length?this._data=new Uint32Array(h._data):this._data.set(h._data),this.length=h.length,this._combined={};for(const d in h._combined)this._combined[d]=h._combined[d];this._extendedAttrs={};for(const d in h._extendedAttrs)this._extendedAttrs[d]=h._extendedAttrs[d];this.isWrapped=h.isWrapped}clone(){const h=new S(0);h._data=new Uint32Array(this._data),h.length=this.length;for(const d in this._combined)h._combined[d]=this._combined[d];for(const d in this._extendedAttrs)h._extendedAttrs[d]=this._extendedAttrs[d];return h.isWrapped=this.isWrapped,h}getTrimmedLength(){for(let h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0])return h+(this._data[3*h+0]>>22);return 0}getNoBgTrimmedLength(){for(let h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0]||50331648&this._data[3*h+2])return h+(this._data[3*h+0]>>22);return 0}copyCellsFrom(h,d,f,p,y){const C=h._data;if(y)for(let b=p-1;b>=0;b--){for(let w=0;w<3;w++)this._data[3*(f+b)+w]=C[3*(d+b)+w];268435456&C[3*(d+b)+2]&&(this._extendedAttrs[f+b]=h._extendedAttrs[d+b])}else for(let b=0;b<p;b++){for(let w=0;w<3;w++)this._data[3*(f+b)+w]=C[3*(d+b)+w];268435456&C[3*(d+b)+2]&&(this._extendedAttrs[f+b]=h._extendedAttrs[d+b])}const x=Object.keys(h._combined);for(let b=0;b<x.length;b++){const w=parseInt(x[b],10);w>=d&&(this._combined[w-d+f]=h._combined[w])}}translateToString(h=!1,d=0,f=this.length){h&&(f=Math.min(f,this.getTrimmedLength()));let p="";for(;d<f;){const y=this._data[3*d+0],C=2097151&y;p+=2097152&y?this._combined[d]:C?(0,g.stringFromCodePoint)(C):c.WHITESPACE_CELL_CHAR,d+=y>>22||1}return p}}o.BufferLine=S},4841:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.getRangeLength=void 0,o.getRangeLength=function(a,u){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return u*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(l,o)=>{function a(u,m,c){if(m===u.length-1)return u[m].getTrimmedLength();const g=!u[m].hasContent(c-1)&&u[m].getWidth(c-1)===1,_=u[m+1].getWidth(0)===2;return g&&_?c-1:c}Object.defineProperty(o,"__esModule",{value:!0}),o.getWrappedLineTrimmedLength=o.reflowSmallerGetNewLineLengths=o.reflowLargerApplyNewLayout=o.reflowLargerCreateNewLayout=o.reflowLargerGetLinesToRemove=void 0,o.reflowLargerGetLinesToRemove=function(u,m,c,g,_){const S=[];for(let v=0;v<u.length-1;v++){let h=v,d=u.get(++h);if(!d.isWrapped)continue;const f=[u.get(v)];for(;h<u.length&&d.isWrapped;)f.push(d),d=u.get(++h);if(g>=v&&g<h){v+=f.length-1;continue}let p=0,y=a(f,p,m),C=1,x=0;for(;C<f.length;){const w=a(f,C,m),E=w-x,D=c-y,P=Math.min(E,D);f[p].copyCellsFrom(f[C],x,y,P,!1),y+=P,y===c&&(p++,y=0),x+=P,x===w&&(C++,x=0),y===0&&p!==0&&f[p-1].getWidth(c-1)===2&&(f[p].copyCellsFrom(f[p-1],c-1,y++,1,!1),f[p-1].setCell(c-1,_))}f[p].replaceCells(y,c,_);let b=0;for(let w=f.length-1;w>0&&(w>p||f[w].getTrimmedLength()===0);w--)b++;b>0&&(S.push(v+f.length-b),S.push(b)),v+=f.length-1}return S},o.reflowLargerCreateNewLayout=function(u,m){const c=[];let g=0,_=m[g],S=0;for(let v=0;v<u.length;v++)if(_===v){const h=m[++g];u.onDeleteEmitter.fire({index:v-S,amount:h}),v+=h-1,S+=h,_=m[++g]}else c.push(v);return{layout:c,countRemoved:S}},o.reflowLargerApplyNewLayout=function(u,m){const c=[];for(let g=0;g<m.length;g++)c.push(u.get(m[g]));for(let g=0;g<c.length;g++)u.set(g,c[g]);u.length=m.length},o.reflowSmallerGetNewLineLengths=function(u,m,c){const g=[],_=u.map((d,f)=>a(u,f,m)).reduce((d,f)=>d+f);let S=0,v=0,h=0;for(;h<_;){if(_-h<c){g.push(_-h);break}S+=c;const d=a(u,v,m);S>d&&(S-=d,v++);const f=u[v].getWidth(S-1)===2;f&&S--;const p=f?c-1:c;g.push(p),h+=p}return g},o.getWrappedLineTrimmedLength=a},5295:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferSet=void 0;const u=a(8460),m=a(844),c=a(9092);class g extends m.Disposable{constructor(S,v){super(),this._optionsService=S,this._bufferService=v,this._onBufferActivate=this.register(new u.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new c.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new c.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,v){this._normal.resize(S,v),this._alt.resize(S,v),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}o.BufferSet=g},511:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CellData=void 0;const u=a(482),m=a(643),c=a(3734);class g extends c.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new c.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const v=new g;return v.setFromCharData(S),v}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,u.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[m.CHAR_DATA_ATTR_INDEX],this.bg=0;let v=!1;if(S[m.CHAR_DATA_CHAR_INDEX].length>2)v=!0;else if(S[m.CHAR_DATA_CHAR_INDEX].length===2){const h=S[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=h&&h<=56319){const d=S[m.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(h-55296)+d-56320+65536|S[m.CHAR_DATA_WIDTH_INDEX]<<22:v=!0}else v=!0}else this.content=S[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[m.CHAR_DATA_WIDTH_INDEX]<<22;v&&(this.combinedData=S[m.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[m.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}o.CellData=g},643:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WHITESPACE_CELL_CODE=o.WHITESPACE_CELL_WIDTH=o.WHITESPACE_CELL_CHAR=o.NULL_CELL_CODE=o.NULL_CELL_WIDTH=o.NULL_CELL_CHAR=o.CHAR_DATA_CODE_INDEX=o.CHAR_DATA_WIDTH_INDEX=o.CHAR_DATA_CHAR_INDEX=o.CHAR_DATA_ATTR_INDEX=o.DEFAULT_EXT=o.DEFAULT_ATTR=o.DEFAULT_COLOR=void 0,o.DEFAULT_COLOR=0,o.DEFAULT_ATTR=256|o.DEFAULT_COLOR<<9,o.DEFAULT_EXT=0,o.CHAR_DATA_ATTR_INDEX=0,o.CHAR_DATA_CHAR_INDEX=1,o.CHAR_DATA_WIDTH_INDEX=2,o.CHAR_DATA_CODE_INDEX=3,o.NULL_CELL_CHAR="",o.NULL_CELL_WIDTH=1,o.NULL_CELL_CODE=0,o.WHITESPACE_CELL_CHAR=" ",o.WHITESPACE_CELL_WIDTH=1,o.WHITESPACE_CELL_CODE=32},4863:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Marker=void 0;const u=a(8460),m=a(844);class c{get id(){return this._id}constructor(_){this.line=_,this.isDisposed=!1,this._disposables=[],this._id=c._nextId++,this._onDispose=this.register(new u.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,m.disposeArray)(this._disposables),this._disposables.length=0)}register(_){return this._disposables.push(_),_}}o.Marker=c,c._nextId=1},7116:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_CHARSET=o.CHARSETS=void 0,o.CHARSETS={},o.DEFAULT_CHARSET=o.CHARSETS.B,o.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},o.CHARSETS.A={"#":""},o.CHARSETS.B=void 0,o.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},o.CHARSETS.C=o.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},o.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.E=o.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},o.CHARSETS.H=o.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},o.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(l,o)=>{var a,u,m;Object.defineProperty(o,"__esModule",{value:!0}),o.C1_ESCAPED=o.C1=o.C0=void 0,function(c){c.NUL="\0",c.SOH="",c.STX="",c.ETX="",c.EOT="",c.ENQ="",c.ACK="",c.BEL="\x07",c.BS="\b",c.HT="	",c.LF=`
`,c.VT="\v",c.FF="\f",c.CR="\r",c.SO="",c.SI="",c.DLE="",c.DC1="",c.DC2="",c.DC3="",c.DC4="",c.NAK="",c.SYN="",c.ETB="",c.CAN="",c.EM="",c.SUB="",c.ESC="\x1B",c.FS="",c.GS="",c.RS="",c.US="",c.SP=" ",c.DEL=""}(a||(o.C0=a={})),function(c){c.PAD="",c.HOP="",c.BPH="",c.NBH="",c.IND="",c.NEL="",c.SSA="",c.ESA="",c.HTS="",c.HTJ="",c.VTS="",c.PLD="",c.PLU="",c.RI="",c.SS2="",c.SS3="",c.DCS="",c.PU1="",c.PU2="",c.STS="",c.CCH="",c.MW="",c.SPA="",c.EPA="",c.SOS="",c.SGCI="",c.SCI="",c.CSI="",c.ST="",c.OSC="",c.PM="",c.APC=""}(u||(o.C1=u={})),function(c){c.ST=`${a.ESC}\\`}(m||(o.C1_ESCAPED=m={}))},7399:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.evaluateKeyboardEvent=void 0;const u=a(2584),m={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};o.evaluateKeyboardEvent=function(c,g,_,S){const v={type:0,cancel:!1,key:void 0},h=(c.shiftKey?1:0)|(c.altKey?2:0)|(c.ctrlKey?4:0)|(c.metaKey?8:0);switch(c.keyCode){case 0:c.key==="UIKeyInputUpArrow"?v.key=g?u.C0.ESC+"OA":u.C0.ESC+"[A":c.key==="UIKeyInputLeftArrow"?v.key=g?u.C0.ESC+"OD":u.C0.ESC+"[D":c.key==="UIKeyInputRightArrow"?v.key=g?u.C0.ESC+"OC":u.C0.ESC+"[C":c.key==="UIKeyInputDownArrow"&&(v.key=g?u.C0.ESC+"OB":u.C0.ESC+"[B");break;case 8:if(c.altKey){v.key=u.C0.ESC+u.C0.DEL;break}v.key=u.C0.DEL;break;case 9:if(c.shiftKey){v.key=u.C0.ESC+"[Z";break}v.key=u.C0.HT,v.cancel=!0;break;case 13:v.key=c.altKey?u.C0.ESC+u.C0.CR:u.C0.CR,v.cancel=!0;break;case 27:v.key=u.C0.ESC,c.altKey&&(v.key=u.C0.ESC+u.C0.ESC),v.cancel=!0;break;case 37:if(c.metaKey)break;h?(v.key=u.C0.ESC+"[1;"+(h+1)+"D",v.key===u.C0.ESC+"[1;3D"&&(v.key=u.C0.ESC+(_?"b":"[1;5D"))):v.key=g?u.C0.ESC+"OD":u.C0.ESC+"[D";break;case 39:if(c.metaKey)break;h?(v.key=u.C0.ESC+"[1;"+(h+1)+"C",v.key===u.C0.ESC+"[1;3C"&&(v.key=u.C0.ESC+(_?"f":"[1;5C"))):v.key=g?u.C0.ESC+"OC":u.C0.ESC+"[C";break;case 38:if(c.metaKey)break;h?(v.key=u.C0.ESC+"[1;"+(h+1)+"A",_||v.key!==u.C0.ESC+"[1;3A"||(v.key=u.C0.ESC+"[1;5A")):v.key=g?u.C0.ESC+"OA":u.C0.ESC+"[A";break;case 40:if(c.metaKey)break;h?(v.key=u.C0.ESC+"[1;"+(h+1)+"B",_||v.key!==u.C0.ESC+"[1;3B"||(v.key=u.C0.ESC+"[1;5B")):v.key=g?u.C0.ESC+"OB":u.C0.ESC+"[B";break;case 45:c.shiftKey||c.ctrlKey||(v.key=u.C0.ESC+"[2~");break;case 46:v.key=h?u.C0.ESC+"[3;"+(h+1)+"~":u.C0.ESC+"[3~";break;case 36:v.key=h?u.C0.ESC+"[1;"+(h+1)+"H":g?u.C0.ESC+"OH":u.C0.ESC+"[H";break;case 35:v.key=h?u.C0.ESC+"[1;"+(h+1)+"F":g?u.C0.ESC+"OF":u.C0.ESC+"[F";break;case 33:c.shiftKey?v.type=2:c.ctrlKey?v.key=u.C0.ESC+"[5;"+(h+1)+"~":v.key=u.C0.ESC+"[5~";break;case 34:c.shiftKey?v.type=3:c.ctrlKey?v.key=u.C0.ESC+"[6;"+(h+1)+"~":v.key=u.C0.ESC+"[6~";break;case 112:v.key=h?u.C0.ESC+"[1;"+(h+1)+"P":u.C0.ESC+"OP";break;case 113:v.key=h?u.C0.ESC+"[1;"+(h+1)+"Q":u.C0.ESC+"OQ";break;case 114:v.key=h?u.C0.ESC+"[1;"+(h+1)+"R":u.C0.ESC+"OR";break;case 115:v.key=h?u.C0.ESC+"[1;"+(h+1)+"S":u.C0.ESC+"OS";break;case 116:v.key=h?u.C0.ESC+"[15;"+(h+1)+"~":u.C0.ESC+"[15~";break;case 117:v.key=h?u.C0.ESC+"[17;"+(h+1)+"~":u.C0.ESC+"[17~";break;case 118:v.key=h?u.C0.ESC+"[18;"+(h+1)+"~":u.C0.ESC+"[18~";break;case 119:v.key=h?u.C0.ESC+"[19;"+(h+1)+"~":u.C0.ESC+"[19~";break;case 120:v.key=h?u.C0.ESC+"[20;"+(h+1)+"~":u.C0.ESC+"[20~";break;case 121:v.key=h?u.C0.ESC+"[21;"+(h+1)+"~":u.C0.ESC+"[21~";break;case 122:v.key=h?u.C0.ESC+"[23;"+(h+1)+"~":u.C0.ESC+"[23~";break;case 123:v.key=h?u.C0.ESC+"[24;"+(h+1)+"~":u.C0.ESC+"[24~";break;default:if(!c.ctrlKey||c.shiftKey||c.altKey||c.metaKey)if(_&&!S||!c.altKey||c.metaKey)!_||c.altKey||c.ctrlKey||c.shiftKey||!c.metaKey?c.key&&!c.ctrlKey&&!c.altKey&&!c.metaKey&&c.keyCode>=48&&c.key.length===1?v.key=c.key:c.key&&c.ctrlKey&&(c.key==="_"&&(v.key=u.C0.US),c.key==="@"&&(v.key=u.C0.NUL)):c.keyCode===65&&(v.type=1);else{const d=m[c.keyCode],f=d==null?void 0:d[c.shiftKey?1:0];if(f)v.key=u.C0.ESC+f;else if(c.keyCode>=65&&c.keyCode<=90){const p=c.ctrlKey?c.keyCode-64:c.keyCode+32;let y=String.fromCharCode(p);c.shiftKey&&(y=y.toUpperCase()),v.key=u.C0.ESC+y}else if(c.keyCode===32)v.key=u.C0.ESC+(c.ctrlKey?u.C0.NUL:" ");else if(c.key==="Dead"&&c.code.startsWith("Key")){let p=c.code.slice(3,4);c.shiftKey||(p=p.toLowerCase()),v.key=u.C0.ESC+p,v.cancel=!0}}else c.keyCode>=65&&c.keyCode<=90?v.key=String.fromCharCode(c.keyCode-64):c.keyCode===32?v.key=u.C0.NUL:c.keyCode>=51&&c.keyCode<=55?v.key=String.fromCharCode(c.keyCode-51+27):c.keyCode===56?v.key=u.C0.DEL:c.keyCode===219?v.key=u.C0.ESC:c.keyCode===220?v.key=u.C0.FS:c.keyCode===221&&(v.key=u.C0.GS)}return v}},482:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Utf8ToUtf32=o.StringToUtf32=o.utf32ToString=o.stringFromCodePoint=void 0,o.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},o.utf32ToString=function(a,u=0,m=a.length){let c="";for(let g=u;g<m;++g){let _=a[g];_>65535?(_-=65536,c+=String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):c+=String.fromCharCode(_)}return c},o.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,u){const m=a.length;if(!m)return 0;let c=0,g=0;if(this._interim){const _=a.charCodeAt(g++);56320<=_&&_<=57343?u[c++]=1024*(this._interim-55296)+_-56320+65536:(u[c++]=this._interim,u[c++]=_),this._interim=0}for(let _=g;_<m;++_){const S=a.charCodeAt(_);if(55296<=S&&S<=56319){if(++_>=m)return this._interim=S,c;const v=a.charCodeAt(_);56320<=v&&v<=57343?u[c++]=1024*(S-55296)+v-56320+65536:(u[c++]=S,u[c++]=v)}else S!==65279&&(u[c++]=S)}return c}},o.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,u){const m=a.length;if(!m)return 0;let c,g,_,S,v=0,h=0,d=0;if(this.interim[0]){let y=!1,C=this.interim[0];C&=(224&C)==192?31:(240&C)==224?15:7;let x,b=0;for(;(x=63&this.interim[++b])&&b<4;)C<<=6,C|=x;const w=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,E=w-b;for(;d<E;){if(d>=m)return 0;if(x=a[d++],(192&x)!=128){d--,y=!0;break}this.interim[b++]=x,C<<=6,C|=63&x}y||(w===2?C<128?d--:u[v++]=C:w===3?C<2048||C>=55296&&C<=57343||C===65279||(u[v++]=C):C<65536||C>1114111||(u[v++]=C)),this.interim.fill(0)}const f=m-4;let p=d;for(;p<m;){for(;!(!(p<f)||128&(c=a[p])||128&(g=a[p+1])||128&(_=a[p+2])||128&(S=a[p+3]));)u[v++]=c,u[v++]=g,u[v++]=_,u[v++]=S,p+=4;if(c=a[p++],c<128)u[v++]=c;else if((224&c)==192){if(p>=m)return this.interim[0]=c,v;if(g=a[p++],(192&g)!=128){p--;continue}if(h=(31&c)<<6|63&g,h<128){p--;continue}u[v++]=h}else if((240&c)==224){if(p>=m)return this.interim[0]=c,v;if(g=a[p++],(192&g)!=128){p--;continue}if(p>=m)return this.interim[0]=c,this.interim[1]=g,v;if(_=a[p++],(192&_)!=128){p--;continue}if(h=(15&c)<<12|(63&g)<<6|63&_,h<2048||h>=55296&&h<=57343||h===65279)continue;u[v++]=h}else if((248&c)==240){if(p>=m)return this.interim[0]=c,v;if(g=a[p++],(192&g)!=128){p--;continue}if(p>=m)return this.interim[0]=c,this.interim[1]=g,v;if(_=a[p++],(192&_)!=128){p--;continue}if(p>=m)return this.interim[0]=c,this.interim[1]=g,this.interim[2]=_,v;if(S=a[p++],(192&S)!=128){p--;continue}if(h=(7&c)<<18|(63&g)<<12|(63&_)<<6|63&S,h<65536||h>1114111)continue;u[v++]=h}}return v}}},225:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeV6=void 0;const a=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let m;o.UnicodeV6=class{constructor(){if(this.version="6",!m){m=new Uint8Array(65536),m.fill(1),m[0]=0,m.fill(0,1,32),m.fill(0,127,160),m.fill(2,4352,4448),m[9001]=2,m[9002]=2,m.fill(2,11904,42192),m[12351]=1,m.fill(2,44032,55204),m.fill(2,63744,64256),m.fill(2,65040,65050),m.fill(2,65072,65136),m.fill(2,65280,65377),m.fill(2,65504,65511);for(let c=0;c<a.length;++c)m.fill(0,a[c][0],a[c][1]+1)}}wcwidth(c){return c<32?0:c<127?1:c<65536?m[c]:function(g,_){let S,v=0,h=_.length-1;if(g<_[0][0]||g>_[h][1])return!1;for(;h>=v;)if(S=v+h>>1,g>_[S][1])v=S+1;else{if(!(g<_[S][0]))return!0;h=S-1}return!1}(c,u)?0:c>=131072&&c<=196605||c>=196608&&c<=262141?2:1}}},5981:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.WriteBuffer=void 0;const u=a(8460),m=a(844);class c extends m.Disposable{constructor(_){super(),this._action=_,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(_,S){if(S!==void 0&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let v;for(this._isSyncWriting=!0;v=this._writeBuffer.shift();){this._action(v);const h=this._callbacks.shift();h&&h()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(_,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(S),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(S)}_innerWrite(_=0,S=!0){const v=_||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const h=this._writeBuffer[this._bufferOffset],d=this._action(h,S);if(d){const p=y=>Date.now()-v>=12?setTimeout(()=>this._innerWrite(0,y)):this._innerWrite(v,y);return void d.catch(y=>(queueMicrotask(()=>{throw y}),Promise.resolve(!1))).then(p)}const f=this._callbacks[this._bufferOffset];if(f&&f(),this._bufferOffset++,this._pendingData-=h.length,Date.now()-v>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}o.WriteBuffer=c},5941:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.toRgbString=o.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,u=/^[\da-f]+$/;function m(c,g){const _=c.toString(16),S=_.length<2?"0"+_:_;switch(g){case 4:return _[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}o.parseColor=function(c){if(!c)return;let g=c.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const _=a.exec(g);if(_){const S=_[1]?15:_[4]?255:_[7]?4095:65535;return[Math.round(parseInt(_[1]||_[4]||_[7]||_[10],16)/S*255),Math.round(parseInt(_[2]||_[5]||_[8]||_[11],16)/S*255),Math.round(parseInt(_[3]||_[6]||_[9]||_[12],16)/S*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),u.exec(g)&&[3,6,9,12].includes(g.length))){const _=g.length/3,S=[0,0,0];for(let v=0;v<3;++v){const h=parseInt(g.slice(_*v,_*v+_),16);S[v]=_===1?h<<4:_===2?h:_===3?h>>4:h>>8}return S}},o.toRgbString=function(c,g=16){const[_,S,v]=c;return`rgb:${m(_,g)}/${m(S,g)}/${m(v,g)}`}},5770:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.PAYLOAD_LIMIT=void 0,o.PAYLOAD_LIMIT=1e7},6351:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DcsHandler=o.DcsParser=void 0;const u=a(482),m=a(8742),c=a(5770),g=[];o.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(S,v){this._handlers[S]===void 0&&(this._handlers[S]=[]);const h=this._handlers[S];return h.push(v),{dispose:()=>{const d=h.indexOf(v);d!==-1&&h.splice(d,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(S,v){if(this.reset(),this._ident=S,this._active=this._handlers[S]||g,this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].hook(v);else this._handlerFb(this._ident,"HOOK",v)}put(S,v,h){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(S,v,h);else this._handlerFb(this._ident,"PUT",(0,u.utf32ToString)(S,v,h))}unhook(S,v=!0){if(this._active.length){let h=!1,d=this._active.length-1,f=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,h=v,f=this._stack.fallThrough,this._stack.paused=!1),!f&&h===!1){for(;d>=0&&(h=this._active[d].unhook(S),h!==!0);d--)if(h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,h;d--}for(;d>=0;d--)if(h=this._active[d].unhook(!1),h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,h}else this._handlerFb(this._ident,"UNHOOK",S);this._active=g,this._ident=0}};const _=new m.Params;_.addParam(0),o.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=_,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():_,this._data="",this._hitLimit=!1}put(S,v,h){this._hitLimit||(this._data+=(0,u.utf32ToString)(S,v,h),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let v=!1;if(this._hitLimit)v=!1;else if(S&&(v=this._handler(this._data,this._params),v instanceof Promise))return v.then(h=>(this._params=_,this._data="",this._hitLimit=!1,h));return this._params=_,this._data="",this._hitLimit=!1,v}}},2015:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.EscapeSequenceParser=o.VT500_TRANSITION_TABLE=o.TransitionTable=void 0;const u=a(844),m=a(8742),c=a(6242),g=a(6351);class _{constructor(d){this.table=new Uint8Array(d)}setDefault(d,f){this.table.fill(d<<4|f)}add(d,f,p,y){this.table[f<<8|d]=p<<4|y}addMany(d,f,p,y){for(let C=0;C<d.length;C++)this.table[f<<8|d[C]]=p<<4|y}}o.TransitionTable=_;const S=160;o.VT500_TRANSITION_TABLE=function(){const h=new _(4095),d=Array.apply(null,Array(256)).map((b,w)=>w),f=(b,w)=>d.slice(b,w),p=f(32,127),y=f(0,24);y.push(25),y.push.apply(y,f(28,32));const C=f(0,14);let x;for(x in h.setDefault(1,0),h.addMany(p,0,2,0),C)h.addMany([24,26,153,154],x,3,0),h.addMany(f(128,144),x,3,0),h.addMany(f(144,152),x,3,0),h.add(156,x,0,0),h.add(27,x,11,1),h.add(157,x,4,8),h.addMany([152,158,159],x,0,7),h.add(155,x,11,3),h.add(144,x,11,9);return h.addMany(y,0,3,0),h.addMany(y,1,3,1),h.add(127,1,0,1),h.addMany(y,8,0,8),h.addMany(y,3,3,3),h.add(127,3,0,3),h.addMany(y,4,3,4),h.add(127,4,0,4),h.addMany(y,6,3,6),h.addMany(y,5,3,5),h.add(127,5,0,5),h.addMany(y,2,3,2),h.add(127,2,0,2),h.add(93,1,4,8),h.addMany(p,8,5,8),h.add(127,8,5,8),h.addMany([156,27,24,26,7],8,6,0),h.addMany(f(28,32),8,0,8),h.addMany([88,94,95],1,0,7),h.addMany(p,7,0,7),h.addMany(y,7,0,7),h.add(156,7,0,0),h.add(127,7,0,7),h.add(91,1,11,3),h.addMany(f(64,127),3,7,0),h.addMany(f(48,60),3,8,4),h.addMany([60,61,62,63],3,9,4),h.addMany(f(48,60),4,8,4),h.addMany(f(64,127),4,7,0),h.addMany([60,61,62,63],4,0,6),h.addMany(f(32,64),6,0,6),h.add(127,6,0,6),h.addMany(f(64,127),6,0,0),h.addMany(f(32,48),3,9,5),h.addMany(f(32,48),5,9,5),h.addMany(f(48,64),5,0,6),h.addMany(f(64,127),5,7,0),h.addMany(f(32,48),4,9,5),h.addMany(f(32,48),1,9,2),h.addMany(f(32,48),2,9,2),h.addMany(f(48,127),2,10,0),h.addMany(f(48,80),1,10,0),h.addMany(f(81,88),1,10,0),h.addMany([89,90,92],1,10,0),h.addMany(f(96,127),1,10,0),h.add(80,1,11,9),h.addMany(y,9,0,9),h.add(127,9,0,9),h.addMany(f(28,32),9,0,9),h.addMany(f(32,48),9,9,12),h.addMany(f(48,60),9,8,10),h.addMany([60,61,62,63],9,9,10),h.addMany(y,11,0,11),h.addMany(f(32,128),11,0,11),h.addMany(f(28,32),11,0,11),h.addMany(y,10,0,10),h.add(127,10,0,10),h.addMany(f(28,32),10,0,10),h.addMany(f(48,60),10,8,10),h.addMany([60,61,62,63],10,0,11),h.addMany(f(32,48),10,9,12),h.addMany(y,12,0,12),h.add(127,12,0,12),h.addMany(f(28,32),12,0,12),h.addMany(f(32,48),12,9,12),h.addMany(f(48,64),12,0,11),h.addMany(f(64,127),12,12,13),h.addMany(f(64,127),10,12,13),h.addMany(f(64,127),9,12,13),h.addMany(y,13,13,13),h.addMany(p,13,13,13),h.add(127,13,0,13),h.addMany([27,156,24,26],13,14,0),h.add(S,0,2,0),h.add(S,8,5,8),h.add(S,6,0,6),h.add(S,11,0,11),h.add(S,13,13,13),h}();class v extends u.Disposable{constructor(d=o.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new m.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(f,p,y)=>{},this._executeHandlerFb=f=>{},this._csiHandlerFb=(f,p)=>{},this._escHandlerFb=f=>{},this._errorHandlerFb=f=>f,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,u.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new c.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(d,f=[64,126]){let p=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(p=d.prefix.charCodeAt(0),p&&60>p||p>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let C=0;C<d.intermediates.length;++C){const x=d.intermediates.charCodeAt(C);if(32>x||x>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");p<<=8,p|=x}}if(d.final.length!==1)throw new Error("final must be a single byte");const y=d.final.charCodeAt(0);if(f[0]>y||y>f[1])throw new Error(`final must be in range ${f[0]} .. ${f[1]}`);return p<<=8,p|=y,p}identToString(d){const f=[];for(;d;)f.push(String.fromCharCode(255&d)),d>>=8;return f.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,f){const p=this._identifier(d,[48,126]);this._escHandlers[p]===void 0&&(this._escHandlers[p]=[]);const y=this._escHandlers[p];return y.push(f),{dispose:()=>{const C=y.indexOf(f);C!==-1&&y.splice(C,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,f){this._executeHandlers[d.charCodeAt(0)]=f}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,f){const p=this._identifier(d);this._csiHandlers[p]===void 0&&(this._csiHandlers[p]=[]);const y=this._csiHandlers[p];return y.push(f),{dispose:()=>{const C=y.indexOf(f);C!==-1&&y.splice(C,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,f){return this._dcsParser.registerHandler(this._identifier(d),f)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,f){return this._oscParser.registerHandler(d,f)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,f,p,y,C){this._parseStack.state=d,this._parseStack.handlers=f,this._parseStack.handlerPos=p,this._parseStack.transition=y,this._parseStack.chunkPos=C}parse(d,f,p){let y,C=0,x=0,b=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,b=this._parseStack.chunkPos+1;else{if(p===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const w=this._parseStack.handlers;let E=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(p===!1&&E>-1){for(;E>=0&&(y=w[E](this._params),y!==!0);E--)if(y instanceof Promise)return this._parseStack.handlerPos=E,y}this._parseStack.handlers=[];break;case 4:if(p===!1&&E>-1){for(;E>=0&&(y=w[E](),y!==!0);E--)if(y instanceof Promise)return this._parseStack.handlerPos=E,y}this._parseStack.handlers=[];break;case 6:if(C=d[this._parseStack.chunkPos],y=this._dcsParser.unhook(C!==24&&C!==26,p),y)return y;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(C=d[this._parseStack.chunkPos],y=this._oscParser.end(C!==24&&C!==26,p),y)return y;C===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,b=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let w=b;w<f;++w){switch(C=d[w],x=this._transitions.table[this.currentState<<8|(C<160?C:S)],x>>4){case 2:for(let B=w+1;;++B){if(B>=f||(C=d[B])<32||C>126&&C<S){this._printHandler(d,w,B),w=B-1;break}if(++B>=f||(C=d[B])<32||C>126&&C<S){this._printHandler(d,w,B),w=B-1;break}if(++B>=f||(C=d[B])<32||C>126&&C<S){this._printHandler(d,w,B),w=B-1;break}if(++B>=f||(C=d[B])<32||C>126&&C<S){this._printHandler(d,w,B),w=B-1;break}}break;case 3:this._executeHandlers[C]?this._executeHandlers[C]():this._executeHandlerFb(C),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:w,code:C,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const E=this._csiHandlers[this._collect<<8|C];let D=E?E.length-1:-1;for(;D>=0&&(y=E[D](this._params),y!==!0);D--)if(y instanceof Promise)return this._preserveStack(3,E,D,x,w),y;D<0&&this._csiHandlerFb(this._collect<<8|C,this._params),this.precedingCodepoint=0;break;case 8:do switch(C){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(C-48)}while(++w<f&&(C=d[w])>47&&C<60);w--;break;case 9:this._collect<<=8,this._collect|=C;break;case 10:const P=this._escHandlers[this._collect<<8|C];let A=P?P.length-1:-1;for(;A>=0&&(y=P[A](),y!==!0);A--)if(y instanceof Promise)return this._preserveStack(4,P,A,x,w),y;A<0&&this._escHandlerFb(this._collect<<8|C),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|C,this._params);break;case 13:for(let B=w+1;;++B)if(B>=f||(C=d[B])===24||C===26||C===27||C>127&&C<S){this._dcsParser.put(d,w,B),w=B-1;break}break;case 14:if(y=this._dcsParser.unhook(C!==24&&C!==26),y)return this._preserveStack(6,[],0,x,w),y;C===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let B=w+1;;B++)if(B>=f||(C=d[B])<32||C>127&&C<S){this._oscParser.put(d,w,B),w=B-1;break}break;case 6:if(y=this._oscParser.end(C!==24&&C!==26),y)return this._preserveStack(5,[],0,x,w),y;C===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&x}}}o.EscapeSequenceParser=v},6242:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OscHandler=o.OscParser=void 0;const u=a(5770),m=a(482),c=[];o.OscParser=class{constructor(){this._state=0,this._active=c,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,_){this._handlers[g]===void 0&&(this._handlers[g]=[]);const S=this._handlers[g];return S.push(_),{dispose:()=>{const v=S.indexOf(_);v!==-1&&S.splice(v,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=c}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=c,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||c,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,_,S){if(this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].put(g,_,S);else this._handlerFb(this._id,"PUT",(0,m.utf32ToString)(g,_,S))}start(){this.reset(),this._state=1}put(g,_,S){if(this._state!==3){if(this._state===1)for(;_<S;){const v=g[_++];if(v===59){this._state=2,this._start();break}if(v<48||57<v)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+v-48}this._state===2&&S-_>0&&this._put(g,_,S)}}end(g,_=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,v=this._active.length-1,h=!1;if(this._stack.paused&&(v=this._stack.loopPosition-1,S=_,h=this._stack.fallThrough,this._stack.paused=!1),!h&&S===!1){for(;v>=0&&(S=this._active[v].end(g),S!==!0);v--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!1,S;v--}for(;v>=0;v--)if(S=this._active[v].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=v,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",g);this._active=c,this._id=-1,this._state=0}}},o.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,_,S){this._hitLimit||(this._data+=(0,m.utf32ToString)(g,_,S),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let _=!1;if(this._hitLimit)_=!1;else if(g&&(_=this._handler(this._data),_ instanceof Promise))return _.then(S=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,_}}},8742:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Params=void 0;const a=2147483647;class u{static fromArray(c){const g=new u;if(!c.length)return g;for(let _=Array.isArray(c[0])?1:0;_<c.length;++_){const S=c[_];if(Array.isArray(S))for(let v=0;v<S.length;++v)g.addSubParam(S[v]);else g.addParam(S)}return g}constructor(c=32,g=32){if(this.maxLength=c,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(c),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(c),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const c=new u(this.maxLength,this.maxSubParamsLength);return c.params.set(this.params),c.length=this.length,c._subParams.set(this._subParams),c._subParamsLength=this._subParamsLength,c._subParamsIdx.set(this._subParamsIdx),c._rejectDigits=this._rejectDigits,c._rejectSubDigits=this._rejectSubDigits,c._digitIsSub=this._digitIsSub,c}toArray(){const c=[];for(let g=0;g<this.length;++g){c.push(this.params[g]);const _=this._subParamsIdx[g]>>8,S=255&this._subParamsIdx[g];S-_>0&&c.push(Array.prototype.slice.call(this._subParams,_,S))}return c}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(c){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=c>a?a:c}}addSubParam(c){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(c<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=c>a?a:c,this._subParamsIdx[this.length-1]++}}hasSubParams(c){return(255&this._subParamsIdx[c])-(this._subParamsIdx[c]>>8)>0}getSubParams(c){const g=this._subParamsIdx[c]>>8,_=255&this._subParamsIdx[c];return _-g>0?this._subParams.subarray(g,_):null}getSubParamsAll(){const c={};for(let g=0;g<this.length;++g){const _=this._subParamsIdx[g]>>8,S=255&this._subParamsIdx[g];S-_>0&&(c[g]=this._subParams.slice(_,S))}return c}addDigit(c){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const _=this._digitIsSub?this._subParams:this.params,S=_[g-1];_[g-1]=~S?Math.min(10*S+c,a):c}}o.Params=u},5741:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.AddonManager=void 0,o.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,u){const m={instance:u,dispose:u.dispose,isDisposed:!1};this._addons.push(m),u.dispose=()=>this._wrappedAddonDispose(m),u.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let u=-1;for(let m=0;m<this._addons.length;m++)if(this._addons[m]===a){u=m;break}if(u===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(u,1)}}},8771:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferApiView=void 0;const u=a(3785),m=a(511);o.BufferApiView=class{constructor(c,g){this._buffer=c,this.type=g}init(c){return this._buffer=c,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(c){const g=this._buffer.lines.get(c);if(g)return new u.BufferLineApiView(g)}getNullCell(){return new m.CellData}}},3785:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferLineApiView=void 0;const u=a(511);o.BufferLineApiView=class{constructor(m){this._line=m}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(m,c){if(!(m<0||m>=this._line.length))return c?(this._line.loadCell(m,c),c):this._line.loadCell(m,new u.CellData)}translateToString(m,c,g){return this._line.translateToString(m,c,g)}}},8285:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.BufferNamespaceApi=void 0;const u=a(8771),m=a(8460),c=a(844);class g extends c.Disposable{constructor(S){super(),this._core=S,this._onBufferChange=this.register(new m.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new u.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new u.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}o.BufferNamespaceApi=g},7975:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.ParserApi=void 0,o.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,u){return this._core.registerCsiHandler(a,m=>u(m.toArray()))}addCsiHandler(a,u){return this.registerCsiHandler(a,u)}registerDcsHandler(a,u){return this._core.registerDcsHandler(a,(m,c)=>u(m,c.toArray()))}addDcsHandler(a,u){return this.registerDcsHandler(a,u)}registerEscHandler(a,u){return this._core.registerEscHandler(a,u)}addEscHandler(a,u){return this.registerEscHandler(a,u)}registerOscHandler(a,u){return this._core.registerOscHandler(a,u)}addOscHandler(a,u){return this.registerOscHandler(a,u)}}},7090:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeApi=void 0,o.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(l,o,a){var u=this&&this.__decorate||function(h,d,f,p){var y,C=arguments.length,x=C<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,f):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,d,f,p);else for(var b=h.length-1;b>=0;b--)(y=h[b])&&(x=(C<3?y(x):C>3?y(d,f,x):y(d,f))||x);return C>3&&x&&Object.defineProperty(d,f,x),x},m=this&&this.__param||function(h,d){return function(f,p){d(f,p,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.BufferService=o.MINIMUM_ROWS=o.MINIMUM_COLS=void 0;const c=a(8460),g=a(844),_=a(5295),S=a(2585);o.MINIMUM_COLS=2,o.MINIMUM_ROWS=1;let v=o.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(h){super(),this.isUserScrolling=!1,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new c.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(h.rawOptions.cols||0,o.MINIMUM_COLS),this.rows=Math.max(h.rawOptions.rows||0,o.MINIMUM_ROWS),this.buffers=this.register(new _.BufferSet(h,this))}resize(h,d){this.cols=h,this.rows=d,this.buffers.resize(h,d),this._onResize.fire({cols:h,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(h,d=!1){const f=this.buffer;let p;p=this._cachedBlankLine,p&&p.length===this.cols&&p.getFg(0)===h.fg&&p.getBg(0)===h.bg||(p=f.getBlankLine(h,d),this._cachedBlankLine=p),p.isWrapped=d;const y=f.ybase+f.scrollTop,C=f.ybase+f.scrollBottom;if(f.scrollTop===0){const x=f.lines.isFull;C===f.lines.length-1?x?f.lines.recycle().copyFrom(p):f.lines.push(p.clone()):f.lines.splice(C+1,0,p.clone()),x?this.isUserScrolling&&(f.ydisp=Math.max(f.ydisp-1,0)):(f.ybase++,this.isUserScrolling||f.ydisp++)}else{const x=C-y+1;f.lines.shiftElements(y+1,x-1,-1),f.lines.set(C,p.clone())}this.isUserScrolling||(f.ydisp=f.ybase),this._onScroll.fire(f.ydisp)}scrollLines(h,d,f){const p=this.buffer;if(h<0){if(p.ydisp===0)return;this.isUserScrolling=!0}else h+p.ydisp>=p.ybase&&(this.isUserScrolling=!1);const y=p.ydisp;p.ydisp=Math.max(Math.min(p.ydisp+h,p.ybase),0),y!==p.ydisp&&(d||this._onScroll.fire(p.ydisp))}};o.BufferService=v=u([m(0,S.IOptionsService)],v)},7994:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.CharsetService=void 0,o.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,u){this._charsets[a]=u,this.glevel===a&&(this.charset=u)}}},1753:function(l,o,a){var u=this&&this.__decorate||function(p,y,C,x){var b,w=arguments.length,E=w<3?y:x===null?x=Object.getOwnPropertyDescriptor(y,C):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(p,y,C,x);else for(var D=p.length-1;D>=0;D--)(b=p[D])&&(E=(w<3?b(E):w>3?b(y,C,E):b(y,C))||E);return w>3&&E&&Object.defineProperty(y,C,E),E},m=this&&this.__param||function(p,y){return function(C,x){y(C,x,p)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreMouseService=void 0;const c=a(2585),g=a(8460),_=a(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:p=>p.button!==4&&p.action===1&&(p.ctrl=!1,p.alt=!1,p.shift=!1,!0)},VT200:{events:19,restrict:p=>p.action!==32},DRAG:{events:23,restrict:p=>p.action!==32||p.button!==3},ANY:{events:31,restrict:p=>!0}};function v(p,y){let C=(p.ctrl?16:0)|(p.shift?4:0)|(p.alt?8:0);return p.button===4?(C|=64,C|=p.action):(C|=3&p.button,4&p.button&&(C|=64),8&p.button&&(C|=128),p.action===32?C|=32:p.action!==0||y||(C|=3)),C}const h=String.fromCharCode,d={DEFAULT:p=>{const y=[v(p,!1)+32,p.col+32,p.row+32];return y[0]>255||y[1]>255||y[2]>255?"":`\x1B[M${h(y[0])}${h(y[1])}${h(y[2])}`},SGR:p=>{const y=p.action===0&&p.button!==4?"m":"M";return`\x1B[<${v(p,!0)};${p.col};${p.row}${y}`},SGR_PIXELS:p=>{const y=p.action===0&&p.button!==4?"m":"M";return`\x1B[<${v(p,!0)};${p.x};${p.y}${y}`}};let f=o.CoreMouseService=class extends _.Disposable{constructor(p,y){super(),this._bufferService=p,this._coreService=y,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const C of Object.keys(S))this.addProtocol(C,S[C]);for(const C of Object.keys(d))this.addEncoding(C,d[C]);this.reset()}addProtocol(p,y){this._protocols[p]=y}addEncoding(p,y){this._encodings[p]=y}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(p){if(!this._protocols[p])throw new Error(`unknown protocol "${p}"`);this._activeProtocol=p,this._onProtocolChange.fire(this._protocols[p].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(p){if(!this._encodings[p])throw new Error(`unknown encoding "${p}"`);this._activeEncoding=p}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(p){if(p.col<0||p.col>=this._bufferService.cols||p.row<0||p.row>=this._bufferService.rows||p.button===4&&p.action===32||p.button===3&&p.action!==32||p.button!==4&&(p.action===2||p.action===3)||(p.col++,p.row++,p.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,p,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(p))return!1;const y=this._encodings[this._activeEncoding](p);return y&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(y):this._coreService.triggerDataEvent(y,!0)),this._lastEvent=p,!0}explainEvents(p){return{down:!!(1&p),up:!!(2&p),drag:!!(4&p),move:!!(8&p),wheel:!!(16&p)}}_equalEvents(p,y,C){if(C){if(p.x!==y.x||p.y!==y.y)return!1}else if(p.col!==y.col||p.row!==y.row)return!1;return p.button===y.button&&p.action===y.action&&p.ctrl===y.ctrl&&p.alt===y.alt&&p.shift===y.shift}};o.CoreMouseService=f=u([m(0,c.IBufferService),m(1,c.ICoreService)],f)},6975:function(l,o,a){var u=this&&this.__decorate||function(f,p,y,C){var x,b=arguments.length,w=b<3?p:C===null?C=Object.getOwnPropertyDescriptor(p,y):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(f,p,y,C);else for(var E=f.length-1;E>=0;E--)(x=f[E])&&(w=(b<3?x(w):b>3?x(p,y,w):x(p,y))||w);return b>3&&w&&Object.defineProperty(p,y,w),w},m=this&&this.__param||function(f,p){return function(y,C){p(y,C,f)}};Object.defineProperty(o,"__esModule",{value:!0}),o.CoreService=void 0;const c=a(1439),g=a(8460),_=a(844),S=a(2585),v=Object.freeze({insertMode:!1}),h=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=o.CoreService=class extends _.Disposable{constructor(f,p,y){super(),this._bufferService=f,this._logService=p,this._optionsService=y,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,c.clone)(v),this.decPrivateModes=(0,c.clone)(h)}reset(){this.modes=(0,c.clone)(v),this.decPrivateModes=(0,c.clone)(h)}triggerDataEvent(f,p=!1){if(this._optionsService.rawOptions.disableStdin)return;const y=this._bufferService.buffer;p&&this._optionsService.rawOptions.scrollOnUserInput&&y.ybase!==y.ydisp&&this._onRequestScrollToBottom.fire(),p&&this._onUserInput.fire(),this._logService.debug(`sending data "${f}"`,()=>f.split("").map(C=>C.charCodeAt(0))),this._onData.fire(f)}triggerBinaryEvent(f){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${f}"`,()=>f.split("").map(p=>p.charCodeAt(0))),this._onBinary.fire(f))}};o.CoreService=d=u([m(0,S.IBufferService),m(1,S.ILogService),m(2,S.IOptionsService)],d)},9074:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.DecorationService=void 0;const u=a(8055),m=a(8460),c=a(844),g=a(6106);let _=0,S=0;class v extends c.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(f=>f==null?void 0:f.marker.line),this._onDecorationRegistered=this.register(new m.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new m.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,c.toDisposable)(()=>this.reset()))}registerDecoration(f){if(f.marker.isDisposed)return;const p=new h(f);if(p){const y=p.marker.onDispose(()=>p.dispose());p.onDispose(()=>{p&&(this._decorations.delete(p)&&this._onDecorationRemoved.fire(p),y.dispose())}),this._decorations.insert(p),this._onDecorationRegistered.fire(p)}return p}reset(){for(const f of this._decorations.values())f.dispose();this._decorations.clear()}*getDecorationsAtCell(f,p,y){var C,x,b;let w=0,E=0;for(const D of this._decorations.getKeyIterator(p))w=(C=D.options.x)!==null&&C!==void 0?C:0,E=w+((x=D.options.width)!==null&&x!==void 0?x:1),f>=w&&f<E&&(!y||((b=D.options.layer)!==null&&b!==void 0?b:"bottom")===y)&&(yield D)}forEachDecorationAtCell(f,p,y,C){this._decorations.forEachByKey(p,x=>{var b,w,E;_=(b=x.options.x)!==null&&b!==void 0?b:0,S=_+((w=x.options.width)!==null&&w!==void 0?w:1),f>=_&&f<S&&(!y||((E=x.options.layer)!==null&&E!==void 0?E:"bottom")===y)&&C(x)})}}o.DecorationService=v;class h extends c.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=u.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=u.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(f){super(),this.options=f,this.onRenderEmitter=this.register(new m.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new m.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=f.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.InstantiationService=o.ServiceCollection=void 0;const u=a(2585),m=a(8343);class c{constructor(..._){this._entries=new Map;for(const[S,v]of _)this.set(S,v)}set(_,S){const v=this._entries.get(_);return this._entries.set(_,S),v}forEach(_){for(const[S,v]of this._entries.entries())_(S,v)}has(_){return this._entries.has(_)}get(_){return this._entries.get(_)}}o.ServiceCollection=c,o.InstantiationService=class{constructor(){this._services=new c,this._services.set(u.IInstantiationService,this)}setService(g,_){this._services.set(g,_)}getService(g){return this._services.get(g)}createInstance(g,..._){const S=(0,m.getServiceDependencies)(g).sort((d,f)=>d.index-f.index),v=[];for(const d of S){const f=this._services.get(d.id);if(!f)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${d.id}.`);v.push(f)}const h=S.length>0?S[0].index:_.length;if(_.length!==h)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${h+1} conflicts with ${_.length} static arguments`);return new g(..._,...v)}}},7866:function(l,o,a){var u=this&&this.__decorate||function(h,d,f,p){var y,C=arguments.length,x=C<3?d:p===null?p=Object.getOwnPropertyDescriptor(d,f):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,d,f,p);else for(var b=h.length-1;b>=0;b--)(y=h[b])&&(x=(C<3?y(x):C>3?y(d,f,x):y(d,f))||x);return C>3&&x&&Object.defineProperty(d,f,x),x},m=this&&this.__param||function(h,d){return function(f,p){d(f,p,h)}};Object.defineProperty(o,"__esModule",{value:!0}),o.traceCall=o.setTraceLogger=o.LogService=void 0;const c=a(844),g=a(2585),_={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let S,v=o.LogService=class extends c.Disposable{get logLevel(){return this._logLevel}constructor(h){super(),this._optionsService=h,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=_[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(h){for(let d=0;d<h.length;d++)typeof h[d]=="function"&&(h[d]=h[d]())}_log(h,d,f){this._evalLazyOptionalParams(f),h.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...f)}trace(h,...d){var f,p;this._logLevel<=g.LogLevelEnum.TRACE&&this._log((p=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.trace.bind(this._optionsService.options.logger))!==null&&p!==void 0?p:console.log,h,d)}debug(h,...d){var f,p;this._logLevel<=g.LogLevelEnum.DEBUG&&this._log((p=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.debug.bind(this._optionsService.options.logger))!==null&&p!==void 0?p:console.log,h,d)}info(h,...d){var f,p;this._logLevel<=g.LogLevelEnum.INFO&&this._log((p=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.info.bind(this._optionsService.options.logger))!==null&&p!==void 0?p:console.info,h,d)}warn(h,...d){var f,p;this._logLevel<=g.LogLevelEnum.WARN&&this._log((p=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.warn.bind(this._optionsService.options.logger))!==null&&p!==void 0?p:console.warn,h,d)}error(h,...d){var f,p;this._logLevel<=g.LogLevelEnum.ERROR&&this._log((p=(f=this._optionsService.options.logger)===null||f===void 0?void 0:f.error.bind(this._optionsService.options.logger))!==null&&p!==void 0?p:console.error,h,d)}};o.LogService=v=u([m(0,g.IOptionsService)],v),o.setTraceLogger=function(h){S=h},o.traceCall=function(h,d,f){if(typeof f.value!="function")throw new Error("not supported");const p=f.value;f.value=function(...y){if(S.logLevel!==g.LogLevelEnum.TRACE)return p.apply(this,y);S.trace(`GlyphRenderer#${p.name}(${y.map(x=>JSON.stringify(x)).join(", ")})`);const C=p.apply(this,y);return S.trace(`GlyphRenderer#${p.name} return`,C),C}}},7302:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.OptionsService=o.DEFAULT_OPTIONS=void 0;const u=a(8460),m=a(844),c=a(6114);o.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:c.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class _ extends m.Disposable{constructor(v){super(),this._onOptionChange=this.register(new u.EventEmitter),this.onOptionChange=this._onOptionChange.event;const h=Object.assign({},o.DEFAULT_OPTIONS);for(const d in v)if(d in h)try{const f=v[d];h[d]=this._sanitizeAndValidateOption(d,f)}catch(f){console.error(f)}this.rawOptions=h,this.options=Object.assign({},h),this._setupOptions()}onSpecificOptionChange(v,h){return this.onOptionChange(d=>{d===v&&h(this.rawOptions[v])})}onMultipleOptionChange(v,h){return this.onOptionChange(d=>{v.indexOf(d)!==-1&&h()})}_setupOptions(){const v=d=>{if(!(d in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},h=(d,f)=>{if(!(d in o.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);f=this._sanitizeAndValidateOption(d,f),this.rawOptions[d]!==f&&(this.rawOptions[d]=f,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const f={get:v.bind(this,d),set:h.bind(this,d)};Object.defineProperty(this.options,d,f)}}_sanitizeAndValidateOption(v,h){switch(v){case"cursorStyle":if(h||(h=o.DEFAULT_OPTIONS[v]),!function(d){return d==="block"||d==="underline"||d==="bar"}(h))throw new Error(`"${h}" is not a valid value for ${v}`);break;case"wordSeparator":h||(h=o.DEFAULT_OPTIONS[v]);break;case"fontWeight":case"fontWeightBold":if(typeof h=="number"&&1<=h&&h<=1e3)break;h=g.includes(h)?h:o.DEFAULT_OPTIONS[v];break;case"cursorWidth":h=Math.floor(h);case"lineHeight":case"tabStopWidth":if(h<1)throw new Error(`${v} cannot be less than 1, value: ${h}`);break;case"minimumContrastRatio":h=Math.max(1,Math.min(21,Math.round(10*h)/10));break;case"scrollback":if((h=Math.min(h,4294967295))<0)throw new Error(`${v} cannot be less than 0, value: ${h}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(h<=0)throw new Error(`${v} cannot be less than or equal to 0, value: ${h}`);break;case"rows":case"cols":if(!h&&h!==0)throw new Error(`${v} must be numeric, value: ${h}`);break;case"windowsPty":h=h??{}}return h}}o.OptionsService=_},2660:function(l,o,a){var u=this&&this.__decorate||function(_,S,v,h){var d,f=arguments.length,p=f<3?S:h===null?h=Object.getOwnPropertyDescriptor(S,v):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(_,S,v,h);else for(var y=_.length-1;y>=0;y--)(d=_[y])&&(p=(f<3?d(p):f>3?d(S,v,p):d(S,v))||p);return f>3&&p&&Object.defineProperty(S,v,p),p},m=this&&this.__param||function(_,S){return function(v,h){S(v,h,_)}};Object.defineProperty(o,"__esModule",{value:!0}),o.OscLinkService=void 0;const c=a(2585);let g=o.OscLinkService=class{constructor(_){this._bufferService=_,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(_){const S=this._bufferService.buffer;if(_.id===void 0){const y=S.addMarker(S.ybase+S.y),C={data:_,id:this._nextId++,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(C,y)),this._dataByLinkId.set(C.id,C),C.id}const v=_,h=this._getEntryIdKey(v),d=this._entriesWithId.get(h);if(d)return this.addLineToLink(d.id,S.ybase+S.y),d.id;const f=S.addMarker(S.ybase+S.y),p={id:this._nextId++,key:this._getEntryIdKey(v),data:v,lines:[f]};return f.onDispose(()=>this._removeMarkerFromLink(p,f)),this._entriesWithId.set(p.key,p),this._dataByLinkId.set(p.id,p),p.id}addLineToLink(_,S){const v=this._dataByLinkId.get(_);if(v&&v.lines.every(h=>h.line!==S)){const h=this._bufferService.buffer.addMarker(S);v.lines.push(h),h.onDispose(()=>this._removeMarkerFromLink(v,h))}}getLinkData(_){var S;return(S=this._dataByLinkId.get(_))===null||S===void 0?void 0:S.data}_getEntryIdKey(_){return`${_.id};;${_.uri}`}_removeMarkerFromLink(_,S){const v=_.lines.indexOf(S);v!==-1&&(_.lines.splice(v,1),_.lines.length===0&&(_.data.id!==void 0&&this._entriesWithId.delete(_.key),this._dataByLinkId.delete(_.id)))}};o.OscLinkService=g=u([m(0,c.IBufferService)],g)},8343:(l,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.createDecorator=o.getServiceDependencies=o.serviceRegistry=void 0;const a="di$target",u="di$dependencies";o.serviceRegistry=new Map,o.getServiceDependencies=function(m){return m[u]||[]},o.createDecorator=function(m){if(o.serviceRegistry.has(m))return o.serviceRegistry.get(m);const c=function(g,_,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(v,h,d){h[a]===h?h[u].push({id:v,index:d}):(h[u]=[{id:v,index:d}],h[a]=h)})(c,g,S)};return c.toString=()=>m,o.serviceRegistry.set(m,c),c}},2585:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.IDecorationService=o.IUnicodeService=o.IOscLinkService=o.IOptionsService=o.ILogService=o.LogLevelEnum=o.IInstantiationService=o.ICharsetService=o.ICoreService=o.ICoreMouseService=o.IBufferService=void 0;const u=a(8343);var m;o.IBufferService=(0,u.createDecorator)("BufferService"),o.ICoreMouseService=(0,u.createDecorator)("CoreMouseService"),o.ICoreService=(0,u.createDecorator)("CoreService"),o.ICharsetService=(0,u.createDecorator)("CharsetService"),o.IInstantiationService=(0,u.createDecorator)("InstantiationService"),function(c){c[c.TRACE=0]="TRACE",c[c.DEBUG=1]="DEBUG",c[c.INFO=2]="INFO",c[c.WARN=3]="WARN",c[c.ERROR=4]="ERROR",c[c.OFF=5]="OFF"}(m||(o.LogLevelEnum=m={})),o.ILogService=(0,u.createDecorator)("LogService"),o.IOptionsService=(0,u.createDecorator)("OptionsService"),o.IOscLinkService=(0,u.createDecorator)("OscLinkService"),o.IUnicodeService=(0,u.createDecorator)("UnicodeService"),o.IDecorationService=(0,u.createDecorator)("DecorationService")},1480:(l,o,a)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UnicodeService=void 0;const u=a(8460),m=a(225);o.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new u.EventEmitter,this.onChange=this._onChange.event;const c=new m.UnicodeV6;this.register(c),this._active=c.version,this._activeProvider=c}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(c){if(!this._providers[c])throw new Error(`unknown Unicode version "${c}"`);this._active=c,this._activeProvider=this._providers[c],this._onChange.fire(c)}register(c){this._providers[c.version]=c}wcwidth(c){return this._activeProvider.wcwidth(c)}getStringCellWidth(c){let g=0;const _=c.length;for(let S=0;S<_;++S){let v=c.charCodeAt(S);if(55296<=v&&v<=56319){if(++S>=_)return g+this.wcwidth(v);const h=c.charCodeAt(S);56320<=h&&h<=57343?v=1024*(v-55296)+h-56320+65536:g+=this.wcwidth(h)}g+=this.wcwidth(v)}return g}}}},n={};function i(l){var o=n[l];if(o!==void 0)return o.exports;var a=n[l]={exports:{}};return r[l].call(a.exports,a,a.exports,i),a.exports}var s={};return(()=>{var l=s;Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const o=i(9042),a=i(3236),u=i(844),m=i(5741),c=i(8285),g=i(7975),_=i(7090),S=["cols","rows"];class v extends u.Disposable{constructor(d){super(),this._core=this.register(new a.Terminal(d)),this._addonManager=this.register(new m.AddonManager),this._publicOptions=Object.assign({},this._core.options);const f=y=>this._core.options[y],p=(y,C)=>{this._checkReadonlyOptions(y),this._core.options[y]=C};for(const y in this._core.options){const C={get:f.bind(this,y),set:p.bind(this,y)};Object.defineProperty(this._publicOptions,y,C)}}_checkReadonlyOptions(d){if(S.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new _.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new c.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const d=this._core.coreService.decPrivateModes;let f="none";switch(this._core.coreMouseService.activeProtocol){case"X10":f="x10";break;case"VT200":f="vt200";break;case"DRAG":f="drag";break;case"ANY":f="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:f,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(const f in d)this._publicOptions[f]=d[f]}blur(){this._core.blur()}focus(){this._core.focus()}resize(d,f){this._verifyIntegers(d,f),this._core.resize(d,f)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){var f,p,y;return this._checkProposedApi(),this._verifyPositiveIntegers((f=d.x)!==null&&f!==void 0?f:0,(p=d.width)!==null&&p!==void 0?p:0,(y=d.height)!==null&&y!==void 0?y:0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,f,p){this._verifyIntegers(d,f,p),this._core.select(d,f,p)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,f){this._verifyIntegers(d,f),this._core.selectLines(d,f)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,f){this._core.write(d,f)}writeln(d,f){this._core.write(d),this._core.write(`\r
`,f)}paste(d){this._core.paste(d)}refresh(d,f){this._verifyIntegers(d,f),this._core.refresh(d,f)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return o}_verifyIntegers(...d){for(const f of d)if(f===1/0||isNaN(f)||f%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(const f of d)if(f&&(f===1/0||isNaN(f)||f%1!=0||f<0))throw new Error("This API only accepts positive integers")}}l.Terminal=v})(),s})())})(gg);var tb=gg.exports,vg={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(self,()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const s=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(s._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,s=i._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const l=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,o=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(o.getPropertyValue("height")),u=Math.max(0,parseInt(o.getPropertyValue("width"))),m=window.getComputedStyle(this._terminal.element),c=a-(parseInt(m.getPropertyValue("padding-top"))+parseInt(m.getPropertyValue("padding-bottom"))),g=u-(parseInt(m.getPropertyValue("padding-right"))+parseInt(m.getPropertyValue("padding-left")))-l;return{cols:Math.max(2,Math.floor(g/s.css.cell.width)),rows:Math.max(1,Math.floor(c/s.css.cell.height))}}}})(),r})())})(vg);var rb=vg.exports;function nb({output:e,onCommand:t}){const r=K.useRef(null),n=K.useRef(null),i=K.useRef(null),s=K.useRef(""),l=K.useRef(0);return K.useEffect(()=>{if(!r.current)return;const o=new tb.Terminal({cursorBlink:!0,fontSize:13,fontFamily:'Menlo, Monaco, "Courier New", monospace',theme:{background:"#1a1b26",foreground:"#a9b1d6",cursor:"#c0caf5",cursorAccent:"#1a1b26",black:"#32344a",red:"#f7768e",green:"#9ece6a",yellow:"#e0af68",blue:"#7aa2f7",magenta:"#ad8ee6",cyan:"#449dab",white:"#787c99",brightBlack:"#444b6a",brightRed:"#ff7a93",brightGreen:"#b9f27c",brightYellow:"#ff9e64",brightBlue:"#7da6ff",brightMagenta:"#bb9af7",brightCyan:"#0db9d7",brightWhite:"#acb0d0"}}),a=new rb.FitAddon;o.loadAddon(a),o.open(r.current),a.fit(),n.current=o,i.current=a;const u=()=>{a.fit()};return window.addEventListener("resize",u),o.onData(m=>{m==="\r"?(o.write(`\r
`),t&&s.current.trim()&&t(s.current.trim()),s.current="",o.write("\x1B[32m$\x1B[0m ")):m===""?s.current.length>0&&(s.current=s.current.slice(0,-1),o.write("\b \b")):m>=" "&&(s.current+=m,o.write(m))}),o.write("\x1B[32m$\x1B[0m "),()=>{window.removeEventListener("resize",u),o.dispose()}},[]),K.useEffect(()=>{if(!n.current)return;const o=e.slice(l.current);for(const a of o)n.current.write(`\r
`+a);o.length>0&&n.current.write(`\r
\x1B[32m$\x1B[0m `),l.current=e.length},[e]),T.jsx("div",{className:"h-full bg-[#1a1b26] rounded-lg overflow-hidden terminal-dark",children:T.jsx("div",{ref:r,className:"h-full p-2"})})}function ib({files:e,onSelectFile:t,selectedFile:r}){const[n,i]=K.useState(new Set),s=a=>{i(u=>{const m=new Set(u);return m.has(a)?m.delete(a):m.add(a),m})},l=a=>{var c;if(a.is_dir)return n.has(a.path)?T.jsxs("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:[T.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z",clipRule:"evenodd"}),T.jsx("path",{d:"M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z"})]}):T.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})});const u=(c=a.name.split(".").pop())==null?void 0:c.toLowerCase(),m={ts:"text-blue-500",tsx:"text-blue-500",js:"text-yellow-500",jsx:"text-yellow-500",py:"text-green-500",json:"text-orange-500",md:"text-gray-500",css:"text-pink-500",html:"text-red-500"};return T.jsx("svg",{className:ot("w-4 h-4",m[u||""]||"text-gray-400"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},o=(a,u=0)=>{const m=n.has(a.path),c=r===a.path;return T.jsxs("div",{children:[T.jsxs("button",{onClick:()=>a.is_dir?s(a.path):t(a.path),className:ot("w-full flex items-center gap-2 px-2 py-1.5 text-left text-sm hover:bg-gray-100 rounded transition-colors",c&&"bg-blue-50 text-blue-700"),style:{paddingLeft:`${u*16+8}px`},children:[a.is_dir&&T.jsx("svg",{className:ot("w-3 h-3 text-gray-400 transition-transform",m&&"rotate-90"),fill:"currentColor",viewBox:"0 0 20 20",children:T.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),!a.is_dir&&T.jsx("span",{className:"w-3"}),l(a),T.jsx("span",{className:"truncate",children:a.name})]}),a.is_dir&&m&&a.children&&T.jsx("div",{children:a.children.map(g=>o(g,u+1))})]},a.path)};return e.length===0?T.jsxs("div",{className:"p-4 text-center text-gray-500 text-sm",children:[T.jsx("svg",{className:"w-8 h-8 mx-auto mb-2 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"No files yet"]}):T.jsx("div",{className:"py-2",children:e.map(a=>o(a))})}function sb({content:e,path:t,loading:r}){const[n,i]=K.useState([]);K.useEffect(()=>{i(e.split(`
`))},[e]);const s=()=>{var a;const l=(a=t.split(".").pop())==null?void 0:a.toLowerCase();return{ts:"TypeScript",tsx:"TypeScript React",js:"JavaScript",jsx:"JavaScript React",py:"Python",json:"JSON",md:"Markdown",css:"CSS",html:"HTML",sh:"Shell",yaml:"YAML",yml:"YAML"}[l||""]||"Plain Text"};return r?T.jsxs("div",{className:"h-full flex items-center justify-center text-gray-500",children:[T.jsxs("svg",{className:"w-6 h-6 animate-spin mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[T.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),T.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Loading..."]}):e?T.jsxs("div",{className:"h-full flex flex-col",children:[T.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-100 border-b",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}),T.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:t.split("/").pop()})]}),T.jsx("span",{className:"text-xs text-gray-500",children:s()})]}),T.jsx("div",{className:"flex-1 overflow-auto",children:T.jsx("pre",{className:"p-4 text-sm font-mono leading-relaxed",children:T.jsx("code",{children:n.map((l,o)=>T.jsxs("div",{className:"flex",children:[T.jsx("span",{className:"w-12 pr-4 text-right text-gray-400 select-none",children:o+1}),T.jsx("span",{className:"flex-1 whitespace-pre-wrap break-all",children:l||" "})]},o))})})})]}):T.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-500",children:[T.jsx("svg",{className:"w-12 h-12 mb-3 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),T.jsx("p",{children:"Select a file to preview"})]})}function ob(){const{sessionId:e,reset:t}=Oo(),r=Do(),[n,i]=K.useState("connecting"),s=K.useRef(null),[l,o]=K.useState([]),[a,u]=K.useState(null),[m,c]=K.useState(!1),[g,_]=K.useState([]),[S,v]=K.useState([]),[h,d]=K.useState(),[f,p]=K.useState(""),[y,C]=K.useState(!1),[x,b]=K.useState("chat"),[w,E]=K.useState(!0),D=K.useRef(null);K.useEffect(()=>{if(!e){r("/");return}const O=new cS(e,{onMessage:B,onStatusChange:i,onError:F=>{console.error("WebSocket error:",F),A("Connection error. Please refresh the page.")}});return O.connect(),s.current=O,()=>{O.disconnect()}},[e]),K.useEffect(()=>{var O;(O=D.current)==null||O.scrollIntoView({behavior:"smooth"})},[l]);const P=K.useCallback(O=>{o(F=>[...F,{...O,id:`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:new Date().toISOString()}])},[]),A=K.useCallback(O=>{P({role:"system",content:O,type:"text"})},[P]),B=K.useCallback(O=>{var F,M,Q;switch(console.log("WS Event:",O.type,O.data),O.type){case"connected":A("Connected to AI Engineer");break;case"runtime_starting":A(O.data.message||"Starting runtime...");break;case"runtime_ready":A(O.data.message||"Runtime ready!"),(F=s.current)==null||F.requestFileList();break;case"status":O.data.message&&A(O.data.message);break;case"task_started":u(O.data.task),c(!0);break;case"task_planning":P({role:"assistant",content:O.data.message||"Analyzing your request...",type:"thinking"});break;case"task_plan_ready":O.data.task&&u(O.data.task);break;case"task_step_started":O.data.step&&P({role:"assistant",content:`Starting: ${O.data.step.description}`,type:"action"});break;case"task_step_completed":O.data.step&&P({role:"assistant",content:`Completed: ${O.data.step.description}`,type:"observation"});break;case"task_completed":u(O.data.task||null),c(!1),A("Task completed successfully!"),(M=s.current)==null||M.requestFileList();break;case"task_failed":u(O.data.task||null),c(!1),P({role:"assistant",content:`Task failed: ${O.data.error||"Unknown error"}`,type:"error"});break;case"agent_thinking":O.data.thought&&P({role:"assistant",content:O.data.thought,type:"thinking"});break;case"agent_action":const Y=O.data.action_type==="command"?`Running command: \`${O.data.command}\``:O.data.action_type==="file_write"?`Writing file: \`${O.data.path}\``:O.data.action_type==="file_read"?`Reading file: \`${O.data.path}\``:`Action: ${O.data.action_type}`;P({role:"assistant",content:Y,type:"action",metadata:O.data});break;case"agent_observation":O.data.content&&P({role:"assistant",content:O.data.content,type:"observation"});break;case"agent_message":O.data.content&&P({role:"assistant",content:O.data.content,type:"text"});break;case"terminal_output":_(te=>[...te,O.data.output||""]),P({role:"assistant",content:O.data.output||"",type:"terminal"});break;case"terminal_error":_(te=>[...te,`Error: ${O.data.error||"Command failed"}`]);break;case"file_created":case"file_modified":(Q=s.current)==null||Q.requestFileList();break;case"files_list":O.data.files&&v(j(O.data.files));break;case"file_content":p(O.data.content||""),C(!1);break;case"error":P({role:"system",content:O.data.message||"An error occurred",type:"error"});break}},[P,A]),j=O=>O.filter(F=>F.path&&F.name),H=O=>{var F;P({role:"user",content:O,type:"text"}),(F=s.current)==null||F.sendChatMessage(O)},U=async()=>{var O;if(e)try{await nS(e),(O=s.current)==null||O.stopTask()}catch(F){console.error("Failed to stop task:",F)}},W=O=>{var F;(F=s.current)==null||F.sendTerminalCommand(O),_(M=>[...M,`$ ${O}`])},L=O=>{var F;d(O),C(!0),(F=s.current)==null||F.requestFileContent(O)},I=async()=>{var O;if(confirm("Are you sure you want to end this session?")){if(e)try{await rS(e)}catch(F){console.error("Failed to delete session:",F)}(O=s.current)==null||O.disconnect(),t(),r("/")}},k=()=>{switch(n){case"connected":return T.jsx(Nr,{status:"healthy",label:"Connected",size:"sm"});case"connecting":return T.jsx(Nr,{status:"pending",label:"Connecting...",size:"sm",pulse:!0});case"disconnected":return T.jsx(Nr,{status:"unhealthy",label:"Disconnected",size:"sm"});case"error":return T.jsx(Nr,{status:"failed",label:"Error",size:"sm"})}};return T.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[T.jsx("header",{className:"bg-white border-b px-4 py-3",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:T.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),T.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AI Engineer"})]}),T.jsx("div",{className:"h-6 w-px bg-gray-300"}),k(),e&&T.jsxs("span",{className:"text-sm text-gray-500",children:["Session: ",e.slice(0,8),"..."]})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx(zt,{variant:"ghost",size:"sm",onClick:()=>E(!w),children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})})}),T.jsx(zt,{variant:"danger",size:"sm",onClick:I,children:"End Session"})]})]})}),T.jsx(eb,{task:a,isRunning:m}),T.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[T.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[T.jsx("div",{className:"bg-white border-b",children:T.jsx("div",{className:"flex",children:["chat","terminal"].map(O=>T.jsx("button",{onClick:()=>b(O),className:`px-4 py-2.5 text-sm font-medium border-b-2 transition-colors ${x===O?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:O==="chat"?"Chat":"Terminal"},O))})}),T.jsx("div",{className:"flex-1 overflow-hidden",children:x==="chat"?T.jsxs("div",{className:"h-full flex flex-col",children:[T.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n==="connecting"&&T.jsx(lS,{message:"Connecting to session..."}),l.length===0&&n==="connected"&&T.jsxs("div",{className:"text-center py-12",children:[T.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),T.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ready to Build"}),T.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Describe what you want to build, fix, or modify. The AI will plan and execute the task automatically."}),T.jsxs("div",{className:"mt-6 space-y-2 text-sm text-gray-500",children:[T.jsx("p",{children:"Try something like:"}),T.jsxs("ul",{className:"space-y-1",children:[T.jsx("li",{children:'"Create a React todo app with TypeScript"'}),T.jsx("li",{children:`"Fix the bug in server.py where users can't login"`}),T.jsx("li",{children:'"Add unit tests for the authentication module"'})]})]})]}),l.map(O=>T.jsx(Yk,{message:O},O.id)),T.jsx("div",{ref:D})]}),T.jsx(Zk,{onSend:H,onStop:U,disabled:n!=="connected",isRunning:m})]}):T.jsx("div",{className:"h-full p-4",children:T.jsx(nb,{output:g,onCommand:W})})})]}),w&&T.jsxs("div",{className:"w-80 border-l bg-white flex flex-col",children:[T.jsxs("div",{className:"px-4 py-3 border-b flex items-center justify-between",children:[T.jsx("h3",{className:"font-medium text-gray-900",children:"Files"}),T.jsx(zt,{variant:"ghost",size:"sm",onClick:()=>{var O;return(O=s.current)==null?void 0:O.requestFileList()},children:T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto border-b",children:T.jsx(ib,{files:S,onSelectFile:L,selectedFile:h})}),T.jsx("div",{className:"h-64 overflow-hidden",children:T.jsx(sb,{content:f,path:h||"",loading:y})})]})]})]})}function lb(){const{isConfigured:e}=Oo();return T.jsx(U0,{children:T.jsx("div",{className:"min-h-screen bg-gray-50",children:T.jsxs(F0,{children:[T.jsx(oi,{path:"/",element:T.jsx(aS,{})}),T.jsx(oi,{path:"/health",element:T.jsx(uS,{})}),T.jsx(oi,{path:"/chat",element:e?T.jsx(ob,{}):T.jsx(Sh,{to:"/",replace:!0})}),T.jsx(oi,{path:"*",element:T.jsx(Sh,{to:"/",replace:!0})})]})})})}Dl.createRoot(document.getElementById("root")).render(T.jsx(qa.StrictMode,{children:T.jsx(lb,{})}));
